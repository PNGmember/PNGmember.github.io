function jh(b,R){for(var D=0;D<R.length;D++){const i=R[D];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in b)){const e=Object.getOwnPropertyDescriptor(i,a);e&&Object.defineProperty(b,a,e.get?e:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}))}(function(){const R=document.createElement("link").relList;if(R&&R.supports&&R.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const e of a)if(e.type==="childList")for(const n of e.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function D(a){const e={};return a.integrity&&(e.integrity=a.integrity),a.referrerPolicy&&(e.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?e.credentials="include":a.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function i(a){if(a.ep)return;a.ep=!0;const e=D(a);fetch(a.href,e)}})();function yl(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?b.default:b}var tl={exports:{}},Rs={},rl={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qc;function Oh(){if(qc)return be;qc=1;var b=Symbol.for("react.element"),R=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),e=Symbol.for("react.provider"),n=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),v=Symbol.iterator;function f(B){return B===null||typeof B!="object"?null:(B=v&&B[v]||B["@@iterator"],typeof B=="function"?B:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function x(B,$,z){this.props=B,this.context=$,this.refs=y,this.updater=z||h}x.prototype.isReactComponent={},x.prototype.setState=function(B,$){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,$,"setState")},x.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function p(){}p.prototype=x.prototype;function j(B,$,z){this.props=B,this.context=$,this.refs=y,this.updater=z||h}var T=j.prototype=new p;T.constructor=j,g(T,x.prototype),T.isPureReactComponent=!0;var C=Array.isArray,I=Object.prototype.hasOwnProperty,U={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function w(B,$,z){var X,q={},ne=null,ae=null;if($!=null)for(X in $.ref!==void 0&&(ae=$.ref),$.key!==void 0&&(ne=""+$.key),$)I.call($,X)&&!A.hasOwnProperty(X)&&(q[X]=$[X]);var ie=arguments.length-2;if(ie===1)q.children=z;else if(1<ie){for(var ve=Array(ie),Pe=0;Pe<ie;Pe++)ve[Pe]=arguments[Pe+2];q.children=ve}if(B&&B.defaultProps)for(X in ie=B.defaultProps,ie)q[X]===void 0&&(q[X]=ie[X]);return{$$typeof:b,type:B,key:ne,ref:ae,props:q,_owner:U.current}}function P(B,$){return{$$typeof:b,type:B.type,key:$,ref:B.ref,props:B.props,_owner:B._owner}}function N(B){return typeof B=="object"&&B!==null&&B.$$typeof===b}function E(B){var $={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(z){return $[z]})}var M=/\/+/g;function W(B,$){return typeof B=="object"&&B!==null&&B.key!=null?E(""+B.key):$.toString(36)}function Q(B,$,z,X,q){var ne=typeof B;(ne==="undefined"||ne==="boolean")&&(B=null);var ae=!1;if(B===null)ae=!0;else switch(ne){case"string":case"number":ae=!0;break;case"object":switch(B.$$typeof){case b:case R:ae=!0}}if(ae)return ae=B,q=q(ae),B=X===""?"."+W(ae,0):X,C(q)?(z="",B!=null&&(z=B.replace(M,"$&/")+"/"),Q(q,$,z,"",function(Pe){return Pe})):q!=null&&(N(q)&&(q=P(q,z+(!q.key||ae&&ae.key===q.key?"":(""+q.key).replace(M,"$&/")+"/")+B)),$.push(q)),1;if(ae=0,X=X===""?".":X+":",C(B))for(var ie=0;ie<B.length;ie++){ne=B[ie];var ve=X+W(ne,ie);ae+=Q(ne,$,z,ve,q)}else if(ve=f(B),typeof ve=="function")for(B=ve.call(B),ie=0;!(ne=B.next()).done;)ne=ne.value,ve=X+W(ne,ie++),ae+=Q(ne,$,z,ve,q);else if(ne==="object")throw $=String(B),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return ae}function G(B,$,z){if(B==null)return B;var X=[],q=0;return Q(B,X,"","",function(ne){return $.call(z,ne,q++)}),X}function H(B){if(B._status===-1){var $=B._result;$=$(),$.then(function(z){(B._status===0||B._status===-1)&&(B._status=1,B._result=z)},function(z){(B._status===0||B._status===-1)&&(B._status=2,B._result=z)}),B._status===-1&&(B._status=0,B._result=$)}if(B._status===1)return B._result.default;throw B._result}var J={current:null},K={transition:null},k={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:K,ReactCurrentOwner:U};function L(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:G,forEach:function(B,$,z){G(B,function(){$.apply(this,arguments)},z)},count:function(B){var $=0;return G(B,function(){$++}),$},toArray:function(B){return G(B,function($){return $})||[]},only:function(B){if(!N(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},be.Component=x,be.Fragment=D,be.Profiler=a,be.PureComponent=j,be.StrictMode=i,be.Suspense=u,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k,be.act=L,be.cloneElement=function(B,$,z){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var X=g({},B.props),q=B.key,ne=B.ref,ae=B._owner;if($!=null){if($.ref!==void 0&&(ne=$.ref,ae=U.current),$.key!==void 0&&(q=""+$.key),B.type&&B.type.defaultProps)var ie=B.type.defaultProps;for(ve in $)I.call($,ve)&&!A.hasOwnProperty(ve)&&(X[ve]=$[ve]===void 0&&ie!==void 0?ie[ve]:$[ve])}var ve=arguments.length-2;if(ve===1)X.children=z;else if(1<ve){ie=Array(ve);for(var Pe=0;Pe<ve;Pe++)ie[Pe]=arguments[Pe+2];X.children=ie}return{$$typeof:b,type:B.type,key:q,ref:ne,props:X,_owner:ae}},be.createContext=function(B){return B={$$typeof:n,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:e,_context:B},B.Consumer=B},be.createElement=w,be.createFactory=function(B){var $=w.bind(null,B);return $.type=B,$},be.createRef=function(){return{current:null}},be.forwardRef=function(B){return{$$typeof:s,render:B}},be.isValidElement=N,be.lazy=function(B){return{$$typeof:d,_payload:{_status:-1,_result:B},_init:H}},be.memo=function(B,$){return{$$typeof:c,type:B,compare:$===void 0?null:$}},be.startTransition=function(B){var $=K.transition;K.transition={};try{B()}finally{K.transition=$}},be.unstable_act=L,be.useCallback=function(B,$){return J.current.useCallback(B,$)},be.useContext=function(B){return J.current.useContext(B)},be.useDebugValue=function(){},be.useDeferredValue=function(B){return J.current.useDeferredValue(B)},be.useEffect=function(B,$){return J.current.useEffect(B,$)},be.useId=function(){return J.current.useId()},be.useImperativeHandle=function(B,$,z){return J.current.useImperativeHandle(B,$,z)},be.useInsertionEffect=function(B,$){return J.current.useInsertionEffect(B,$)},be.useLayoutEffect=function(B,$){return J.current.useLayoutEffect(B,$)},be.useMemo=function(B,$){return J.current.useMemo(B,$)},be.useReducer=function(B,$,z){return J.current.useReducer(B,$,z)},be.useRef=function(B){return J.current.useRef(B)},be.useState=function(B){return J.current.useState(B)},be.useSyncExternalStore=function(B,$,z){return J.current.useSyncExternalStore(B,$,z)},be.useTransition=function(){return J.current.useTransition()},be.version="18.3.1",be}var _c;function xl(){return _c||(_c=1,rl.exports=Oh()),rl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ed;function Nh(){if(ed)return Rs;ed=1;var b=xl(),R=Symbol.for("react.element"),D=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=b.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,e={key:!0,ref:!0,__self:!0,__source:!0};function n(s,u,c){var d,v={},f=null,h=null;c!==void 0&&(f=""+c),u.key!==void 0&&(f=""+u.key),u.ref!==void 0&&(h=u.ref);for(d in u)i.call(u,d)&&!e.hasOwnProperty(d)&&(v[d]=u[d]);if(s&&s.defaultProps)for(d in u=s.defaultProps,u)v[d]===void 0&&(v[d]=u[d]);return{$$typeof:R,type:s,key:f,ref:h,props:v,_owner:a.current}}return Rs.Fragment=D,Rs.jsx=n,Rs.jsxs=n,Rs}var td;function Ph(){return td||(td=1,tl.exports=Nh()),tl.exports}var l=Ph(),_=xl();const yd=yl(_),Ch=jh({__proto__:null,default:yd},[_]);var ni={},nl={exports:{}},It={},sl={exports:{}},al={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rd;function Sh(){return rd||(rd=1,function(b){function R(K,k){var L=K.length;K.push(k);e:for(;0<L;){var B=L-1>>>1,$=K[B];if(0<a($,k))K[B]=k,K[L]=$,L=B;else break e}}function D(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var k=K[0],L=K.pop();if(L!==k){K[0]=L;e:for(var B=0,$=K.length,z=$>>>1;B<z;){var X=2*(B+1)-1,q=K[X],ne=X+1,ae=K[ne];if(0>a(q,L))ne<$&&0>a(ae,q)?(K[B]=ae,K[ne]=L,B=ne):(K[B]=q,K[X]=L,B=X);else if(ne<$&&0>a(ae,L))K[B]=ae,K[ne]=L,B=ne;else break e}}return k}function a(K,k){var L=K.sortIndex-k.sortIndex;return L!==0?L:K.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var e=performance;b.unstable_now=function(){return e.now()}}else{var n=Date,s=n.now();b.unstable_now=function(){return n.now()-s}}var u=[],c=[],d=1,v=null,f=3,h=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(K){for(var k=D(c);k!==null;){if(k.callback===null)i(c);else if(k.startTime<=K)i(c),k.sortIndex=k.expirationTime,R(u,k);else break;k=D(c)}}function C(K){if(y=!1,T(K),!g)if(D(u)!==null)g=!0,H(I);else{var k=D(c);k!==null&&J(C,k.startTime-K)}}function I(K,k){g=!1,y&&(y=!1,p(w),w=-1),h=!0;var L=f;try{for(T(k),v=D(u);v!==null&&(!(v.expirationTime>k)||K&&!E());){var B=v.callback;if(typeof B=="function"){v.callback=null,f=v.priorityLevel;var $=B(v.expirationTime<=k);k=b.unstable_now(),typeof $=="function"?v.callback=$:v===D(u)&&i(u),T(k)}else i(u);v=D(u)}if(v!==null)var z=!0;else{var X=D(c);X!==null&&J(C,X.startTime-k),z=!1}return z}finally{v=null,f=L,h=!1}}var U=!1,A=null,w=-1,P=5,N=-1;function E(){return!(b.unstable_now()-N<P)}function M(){if(A!==null){var K=b.unstable_now();N=K;var k=!0;try{k=A(!0,K)}finally{k?W():(U=!1,A=null)}}else U=!1}var W;if(typeof j=="function")W=function(){j(M)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,G=Q.port2;Q.port1.onmessage=M,W=function(){G.postMessage(null)}}else W=function(){x(M,0)};function H(K){A=K,U||(U=!0,W())}function J(K,k){w=x(function(){K(b.unstable_now())},k)}b.unstable_IdlePriority=5,b.unstable_ImmediatePriority=1,b.unstable_LowPriority=4,b.unstable_NormalPriority=3,b.unstable_Profiling=null,b.unstable_UserBlockingPriority=2,b.unstable_cancelCallback=function(K){K.callback=null},b.unstable_continueExecution=function(){g||h||(g=!0,H(I))},b.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<K?Math.floor(1e3/K):5},b.unstable_getCurrentPriorityLevel=function(){return f},b.unstable_getFirstCallbackNode=function(){return D(u)},b.unstable_next=function(K){switch(f){case 1:case 2:case 3:var k=3;break;default:k=f}var L=f;f=k;try{return K()}finally{f=L}},b.unstable_pauseExecution=function(){},b.unstable_requestPaint=function(){},b.unstable_runWithPriority=function(K,k){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var L=f;f=K;try{return k()}finally{f=L}},b.unstable_scheduleCallback=function(K,k,L){var B=b.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?B+L:B):L=B,K){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=L+$,K={id:d++,callback:k,priorityLevel:K,startTime:L,expirationTime:$,sortIndex:-1},L>B?(K.sortIndex=L,R(c,K),D(u)===null&&K===D(c)&&(y?(p(w),w=-1):y=!0,J(C,L-B))):(K.sortIndex=$,R(u,K),g||h||(g=!0,H(I))),K},b.unstable_shouldYield=E,b.unstable_wrapCallback=function(K){var k=f;return function(){var L=f;f=k;try{return K.apply(this,arguments)}finally{f=L}}}}(al)),al}var nd;function Th(){return nd||(nd=1,sl.exports=Sh()),sl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sd;function Dh(){if(sd)return It;sd=1;var b=xl(),R=Th();function D(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function e(t,r){n(t,r),n(t+"Capture",r)}function n(t,r){for(a[t]=r,t=0;t<r.length;t++)i.add(r[t])}var s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},v={};function f(t){return u.call(v,t)?!0:u.call(d,t)?!1:c.test(t)?v[t]=!0:(d[t]=!0,!1)}function h(t,r,o,m){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return m?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function g(t,r,o,m){if(r===null||typeof r>"u"||h(t,r,o,m))return!0;if(m)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function y(t,r,o,m,O,S,F){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=m,this.attributeNamespace=O,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=S,this.removeEmptyString=F}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){x[t]=new y(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];x[r]=new y(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){x[t]=new y(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){x[t]=new y(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){x[t]=new y(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){x[t]=new y(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){x[t]=new y(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){x[t]=new y(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){x[t]=new y(t,5,!1,t.toLowerCase(),null,!1,!1)});var p=/[\-:]([a-z])/g;function j(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(p,j);x[r]=new y(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(p,j);x[r]=new y(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(p,j);x[r]=new y(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){x[t]=new y(t,1,!1,t.toLowerCase(),null,!1,!1)}),x.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){x[t]=new y(t,1,!1,t.toLowerCase(),null,!0,!0)});function T(t,r,o,m){var O=x.hasOwnProperty(r)?x[r]:null;(O!==null?O.type!==0:m||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(g(r,o,O,m)&&(o=null),m||O===null?f(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):O.mustUseProperty?t[O.propertyName]=o===null?O.type===3?!1:"":o:(r=O.attributeName,m=O.attributeNamespace,o===null?t.removeAttribute(r):(O=O.type,o=O===3||O===4&&o===!0?"":""+o,m?t.setAttributeNS(m,r,o):t.setAttribute(r,o))))}var C=b.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),U=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),E=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),K=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=K&&t[K]||t["@@iterator"],typeof t=="function"?t:null)}var L=Object.assign,B;function $(t){if(B===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);B=r&&r[1]||""}return`
`+B+t}var z=!1;function X(t,r){if(!t||z)return"";z=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(re){var m=re}Reflect.construct(t,[],r)}else{try{r.call()}catch(re){m=re}t.call(r.prototype)}else{try{throw Error()}catch(re){m=re}t()}}catch(re){if(re&&m&&typeof re.stack=="string"){for(var O=re.stack.split(`
`),S=m.stack.split(`
`),F=O.length-1,Y=S.length-1;1<=F&&0<=Y&&O[F]!==S[Y];)Y--;for(;1<=F&&0<=Y;F--,Y--)if(O[F]!==S[Y]){if(F!==1||Y!==1)do if(F--,Y--,0>Y||O[F]!==S[Y]){var Z=`
`+O[F].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=F&&0<=Y);break}}}finally{z=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?$(t):""}function q(t){switch(t.tag){case 5:return $(t.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return t=X(t.type,!1),t;case 11:return t=X(t.type.render,!1),t;case 1:return t=X(t.type,!0),t;default:return""}}function ne(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case A:return"Fragment";case U:return"Portal";case P:return"Profiler";case w:return"StrictMode";case W:return"Suspense";case Q:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case E:return(t.displayName||"Context")+".Consumer";case N:return(t._context.displayName||"Context")+".Provider";case M:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case G:return r=t.displayName||null,r!==null?r:ne(t.type)||"Memo";case H:r=t._payload,t=t._init;try{return ne(t(r))}catch{}}return null}function ae(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ne(r);case 8:return r===w?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function ie(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ve(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Pe(t){var r=ve(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),m=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var O=o.get,S=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return O.call(this)},set:function(F){m=""+F,S.call(this,F)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return m},setValue:function(F){m=""+F},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function fe(t){t._valueTracker||(t._valueTracker=Pe(t))}function se(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),m="";return t&&(m=ve(t)?t.checked?"true":"false":t.value),t=m,t!==o?(r.setValue(t),!0):!1}function he(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function oe(t,r){var o=r.checked;return L({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function ge(t,r){var o=r.defaultValue==null?"":r.defaultValue,m=r.checked!=null?r.checked:r.defaultChecked;o=ie(r.value!=null?r.value:o),t._wrapperState={initialChecked:m,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Ee(t,r){r=r.checked,r!=null&&T(t,"checked",r,!1)}function Ue(t,r){Ee(t,r);var o=ie(r.value),m=r.type;if(o!=null)m==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(m==="submit"||m==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Qe(t,r.type,o):r.hasOwnProperty("defaultValue")&&Qe(t,r.type,ie(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Ye(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var m=r.type;if(!(m!=="submit"&&m!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Qe(t,r,o){(r!=="number"||he(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var et=Array.isArray;function tt(t,r,o,m){if(t=t.options,r){r={};for(var O=0;O<o.length;O++)r["$"+o[O]]=!0;for(o=0;o<t.length;o++)O=r.hasOwnProperty("$"+t[o].value),t[o].selected!==O&&(t[o].selected=O),O&&m&&(t[o].defaultSelected=!0)}else{for(o=""+ie(o),r=null,O=0;O<t.length;O++){if(t[O].value===o){t[O].selected=!0,m&&(t[O].defaultSelected=!0);return}r!==null||t[O].disabled||(r=t[O])}r!==null&&(r.selected=!0)}}function Nt(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(D(91));return L({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vr(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(D(92));if(et(o)){if(1<o.length)throw Error(D(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:ie(o)}}function Qt(t,r){var o=ie(r.value),m=ie(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),m!=null&&(t.defaultValue=""+m)}function _t(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function yt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ct(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?yt(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pt,me=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,m,O){MSApp.execUnsafeLocalFunction(function(){return t(r,o,m,O)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Pt=Pt||document.createElement("div"),Pt.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Pt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Ce(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var Le={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},We=["Webkit","ms","Moz","O"];Object.keys(Le).forEach(function(t){We.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Le[r]=Le[t]})});function Fe(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||Le.hasOwnProperty(t)&&Le[t]?(""+r).trim():r+"px"}function Be(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var m=o.indexOf("--")===0,O=Fe(o,r[o],m);o==="float"&&(o="cssFloat"),m?t.setProperty(o,O):t[o]=O}}var Ie=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ae(t,r){if(r){if(Ie[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(D(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(D(61))}if(r.style!=null&&typeof r.style!="object")throw Error(D(62))}}function Re(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ke=null;function ht(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qr=null,mr=null,gr=null;function Ws(t){if(t=gs(t)){if(typeof Qr!="function")throw Error(D(280));var r=t.stateNode;r&&(r=ya(r),Qr(t.stateNode,t.type,r))}}function Ks(t){mr?gr?gr.push(t):gr=[t]:mr=t}function Fs(){if(mr){var t=mr,r=gr;if(gr=mr=null,Ws(t),r)for(t=0;t<r.length;t++)Ws(r[t])}}function ks(t,r){return t(r)}function zs(){}var Zn=!1;function $s(t,r,o){if(Zn)return t(r,o);Zn=!0;try{return ks(t,r,o)}finally{Zn=!1,(mr!==null||gr!==null)&&(zs(),Fs())}}function Hr(t,r){var o=t.stateNode;if(o===null)return null;var m=ya(o);if(m===null)return null;o=m[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(t=t.type,m=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!m;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(D(231,r,typeof o));return o}var hn=!1;if(s)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){hn=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{hn=!1}function Qs(t,r,o,m,O,S,F,Y,Z){var re=Array.prototype.slice.call(arguments,3);try{r.apply(o,re)}catch(ue){this.onError(ue)}}var pr=!1,yr=null,Jr=!1,vn=null,di={onError:function(t){pr=!0,yr=t}};function Hs(t,r,o,m,O,S,F,Y,Z){pr=!1,yr=null,Qs.apply(di,arguments)}function Gs(t,r,o,m,O,S,F,Y,Z){if(Hs.apply(this,arguments),pr){if(pr){var re=yr;pr=!1,yr=null}else throw Error(D(198));Jr||(Jr=!0,vn=re)}}function Ht(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function Js(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Ys(t){if(Ht(t)!==t)throw Error(D(188))}function fi(t){var r=t.alternate;if(!r){if(r=Ht(t),r===null)throw Error(D(188));return r!==t?null:t}for(var o=t,m=r;;){var O=o.return;if(O===null)break;var S=O.alternate;if(S===null){if(m=O.return,m!==null){o=m;continue}break}if(O.child===S.child){for(S=O.child;S;){if(S===o)return Ys(O),t;if(S===m)return Ys(O),r;S=S.sibling}throw Error(D(188))}if(o.return!==m.return)o=O,m=S;else{for(var F=!1,Y=O.child;Y;){if(Y===o){F=!0,o=O,m=S;break}if(Y===m){F=!0,m=O,o=S;break}Y=Y.sibling}if(!F){for(Y=S.child;Y;){if(Y===o){F=!0,o=S,m=O;break}if(Y===m){F=!0,m=S,o=O;break}Y=Y.sibling}if(!F)throw Error(D(189))}}if(o.alternate!==m)throw Error(D(190))}if(o.tag!==3)throw Error(D(188));return o.stateNode.current===o?t:r}function Xs(t){return t=fi(t),t!==null?Zs(t):null}function Zs(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Zs(t);if(r!==null)return r;t=t.sibling}return null}var Vs=R.unstable_scheduleCallback,qs=R.unstable_cancelCallback,hi=R.unstable_shouldYield,vi=R.unstable_requestPaint,Ze=R.unstable_now,mi=R.unstable_getCurrentPriorityLevel,Vn=R.unstable_ImmediatePriority,_s=R.unstable_UserBlockingPriority,mn=R.unstable_NormalPriority,gi=R.unstable_LowPriority,ea=R.unstable_IdlePriority,xr=null,Bt=null;function pi(t){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(xr,t,void 0,(t.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:Ei,yi=Math.log,xi=Math.LN2;function Ei(t){return t>>>=0,t===0?32:31-(yi(t)/xi|0)|0}var Yr=64,gn=4194304;function Xr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function pn(t,r){var o=t.pendingLanes;if(o===0)return 0;var m=0,O=t.suspendedLanes,S=t.pingedLanes,F=o&268435455;if(F!==0){var Y=F&~O;Y!==0?m=Xr(Y):(S&=F,S!==0&&(m=Xr(S)))}else F=o&~O,F!==0?m=Xr(F):S!==0&&(m=Xr(S));if(m===0)return 0;if(r!==0&&r!==m&&(r&O)===0&&(O=m&-m,S=r&-r,O>=S||O===16&&(S&4194240)!==0))return r;if((m&4)!==0&&(m|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=m;0<r;)o=31-xt(r),O=1<<o,m|=t[o],r&=~O;return m}function ta(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ji(t,r){for(var o=t.suspendedLanes,m=t.pingedLanes,O=t.expirationTimes,S=t.pendingLanes;0<S;){var F=31-xt(S),Y=1<<F,Z=O[F];Z===-1?((Y&o)===0||(Y&m)!==0)&&(O[F]=ta(Y,r)):Z<=r&&(t.expiredLanes|=Y),S&=~Y}}function qn(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ra(){var t=Yr;return Yr<<=1,(Yr&4194240)===0&&(Yr=64),t}function _n(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Zr(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-xt(r),t[r]=o}function Oi(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var m=t.eventTimes;for(t=t.expirationTimes;0<o;){var O=31-xt(o),S=1<<O;r[O]=0,m[O]=-1,t[O]=-1,o&=~S}}function Ni(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var m=31-xt(o),O=1<<m;O&r|t[m]&r&&(t[m]|=r),o&=~O}}var $e=0;function Il(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Rl,Pi,Al,wl,Ul,Ci=!1,na=[],Er=null,jr=null,Or=null,es=new Map,ts=new Map,Nr=[],zd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ll(t,r){switch(t){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":es.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ts.delete(r.pointerId)}}function rs(t,r,o,m,O,S){return t===null||t.nativeEvent!==S?(t={blockedOn:r,domEventName:o,eventSystemFlags:m,nativeEvent:S,targetContainers:[O]},r!==null&&(r=gs(r),r!==null&&Pi(r)),t):(t.eventSystemFlags|=m,r=t.targetContainers,O!==null&&r.indexOf(O)===-1&&r.push(O),t)}function $d(t,r,o,m,O){switch(r){case"focusin":return Er=rs(Er,t,r,o,m,O),!0;case"dragenter":return jr=rs(jr,t,r,o,m,O),!0;case"mouseover":return Or=rs(Or,t,r,o,m,O),!0;case"pointerover":var S=O.pointerId;return es.set(S,rs(es.get(S)||null,t,r,o,m,O)),!0;case"gotpointercapture":return S=O.pointerId,ts.set(S,rs(ts.get(S)||null,t,r,o,m,O)),!0}return!1}function bl(t){var r=Vr(t.target);if(r!==null){var o=Ht(r);if(o!==null){if(r=o.tag,r===13){if(r=Js(o),r!==null){t.blockedOn=r,Ul(t.priority,function(){Al(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sa(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Ti(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var m=new o.constructor(o.type,o);Ke=m,o.target.dispatchEvent(m),Ke=null}else return r=gs(o),r!==null&&Pi(r),t.blockedOn=o,!1;r.shift()}return!0}function Bl(t,r,o){sa(t)&&o.delete(r)}function Qd(){Ci=!1,Er!==null&&sa(Er)&&(Er=null),jr!==null&&sa(jr)&&(jr=null),Or!==null&&sa(Or)&&(Or=null),es.forEach(Bl),ts.forEach(Bl)}function ns(t,r){t.blockedOn===r&&(t.blockedOn=null,Ci||(Ci=!0,R.unstable_scheduleCallback(R.unstable_NormalPriority,Qd)))}function ss(t){function r(O){return ns(O,t)}if(0<na.length){ns(na[0],t);for(var o=1;o<na.length;o++){var m=na[o];m.blockedOn===t&&(m.blockedOn=null)}}for(Er!==null&&ns(Er,t),jr!==null&&ns(jr,t),Or!==null&&ns(Or,t),es.forEach(r),ts.forEach(r),o=0;o<Nr.length;o++)m=Nr[o],m.blockedOn===t&&(m.blockedOn=null);for(;0<Nr.length&&(o=Nr[0],o.blockedOn===null);)bl(o),o.blockedOn===null&&Nr.shift()}var yn=C.ReactCurrentBatchConfig,aa=!0;function Hd(t,r,o,m){var O=$e,S=yn.transition;yn.transition=null;try{$e=1,Si(t,r,o,m)}finally{$e=O,yn.transition=S}}function Gd(t,r,o,m){var O=$e,S=yn.transition;yn.transition=null;try{$e=4,Si(t,r,o,m)}finally{$e=O,yn.transition=S}}function Si(t,r,o,m){if(aa){var O=Ti(t,r,o,m);if(O===null)Qi(t,r,m,ia,o),Ll(t,m);else if($d(O,t,r,o,m))m.stopPropagation();else if(Ll(t,m),r&4&&-1<zd.indexOf(t)){for(;O!==null;){var S=gs(O);if(S!==null&&Rl(S),S=Ti(t,r,o,m),S===null&&Qi(t,r,m,ia,o),S===O)break;O=S}O!==null&&m.stopPropagation()}else Qi(t,r,m,null,o)}}var ia=null;function Ti(t,r,o,m){if(ia=null,t=ht(m),t=Vr(t),t!==null)if(r=Ht(t),r===null)t=null;else if(o=r.tag,o===13){if(t=Js(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return ia=t,null}function Wl(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mi()){case Vn:return 1;case _s:return 4;case mn:case gi:return 16;case ea:return 536870912;default:return 16}default:return 16}}var Pr=null,Di=null,oa=null;function Kl(){if(oa)return oa;var t,r=Di,o=r.length,m,O="value"in Pr?Pr.value:Pr.textContent,S=O.length;for(t=0;t<o&&r[t]===O[t];t++);var F=o-t;for(m=1;m<=F&&r[o-m]===O[S-m];m++);return oa=O.slice(t,1<m?1-m:void 0)}function la(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ua(){return!0}function Fl(){return!1}function At(t){function r(o,m,O,S,F){this._reactName=o,this._targetInst=O,this.type=m,this.nativeEvent=S,this.target=F,this.currentTarget=null;for(var Y in t)t.hasOwnProperty(Y)&&(o=t[Y],this[Y]=o?o(S):S[Y]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?ua:Fl,this.isPropagationStopped=Fl,this}return L(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ua)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ua)},persist:function(){},isPersistent:ua}),r}var xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=At(xn),as=L({},xn,{view:0,detail:0}),Jd=At(as),Ii,Ri,is,ca=L({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==is&&(is&&t.type==="mousemove"?(Ii=t.screenX-is.screenX,Ri=t.screenY-is.screenY):Ri=Ii=0,is=t),Ii)},movementY:function(t){return"movementY"in t?t.movementY:Ri}}),kl=At(ca),Yd=L({},ca,{dataTransfer:0}),Xd=At(Yd),Zd=L({},as,{relatedTarget:0}),Ai=At(Zd),Vd=L({},xn,{animationName:0,elapsedTime:0,pseudoElement:0}),qd=At(Vd),_d=L({},xn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ef=At(_d),tf=L({},xn,{data:0}),zl=At(tf),rf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function af(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=sf[t])?!!r[t]:!1}function wi(){return af}var of=L({},as,{key:function(t){if(t.key){var r=rf[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=la(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nf[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wi,charCode:function(t){return t.type==="keypress"?la(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?la(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lf=At(of),uf=L({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$l=At(uf),cf=L({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wi}),df=At(cf),ff=L({},xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),hf=At(ff),vf=L({},ca,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mf=At(vf),gf=[9,13,27,32],Ui=s&&"CompositionEvent"in window,os=null;s&&"documentMode"in document&&(os=document.documentMode);var pf=s&&"TextEvent"in window&&!os,Ql=s&&(!Ui||os&&8<os&&11>=os),Hl=" ",Gl=!1;function Jl(t,r){switch(t){case"keyup":return gf.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yl(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var En=!1;function yf(t,r){switch(t){case"compositionend":return Yl(r);case"keypress":return r.which!==32?null:(Gl=!0,Hl);case"textInput":return t=r.data,t===Hl&&Gl?null:t;default:return null}}function xf(t,r){if(En)return t==="compositionend"||!Ui&&Jl(t,r)?(t=Kl(),oa=Di=Pr=null,En=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ql&&r.locale!=="ko"?null:r.data;default:return null}}var Ef={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xl(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Ef[t.type]:r==="textarea"}function Zl(t,r,o,m){Ks(m),r=ma(r,"onChange"),0<r.length&&(o=new Mi("onChange","change",null,o,m),t.push({event:o,listeners:r}))}var ls=null,us=null;function jf(t){vu(t,0)}function da(t){var r=Cn(t);if(se(r))return t}function Of(t,r){if(t==="change")return r}var Vl=!1;if(s){var Li;if(s){var bi="oninput"in document;if(!bi){var ql=document.createElement("div");ql.setAttribute("oninput","return;"),bi=typeof ql.oninput=="function"}Li=bi}else Li=!1;Vl=Li&&(!document.documentMode||9<document.documentMode)}function _l(){ls&&(ls.detachEvent("onpropertychange",eu),us=ls=null)}function eu(t){if(t.propertyName==="value"&&da(us)){var r=[];Zl(r,us,t,ht(t)),$s(jf,r)}}function Nf(t,r,o){t==="focusin"?(_l(),ls=r,us=o,ls.attachEvent("onpropertychange",eu)):t==="focusout"&&_l()}function Pf(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return da(us)}function Cf(t,r){if(t==="click")return da(r)}function Sf(t,r){if(t==="input"||t==="change")return da(r)}function Tf(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Gt=typeof Object.is=="function"?Object.is:Tf;function cs(t,r){if(Gt(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),m=Object.keys(r);if(o.length!==m.length)return!1;for(m=0;m<o.length;m++){var O=o[m];if(!u.call(r,O)||!Gt(t[O],r[O]))return!1}return!0}function tu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ru(t,r){var o=tu(t);t=0;for(var m;o;){if(o.nodeType===3){if(m=t+o.textContent.length,t<=r&&m>=r)return{node:o,offset:r-t};t=m}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=tu(o)}}function nu(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?nu(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function su(){for(var t=window,r=he();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=he(t.document)}return r}function Bi(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Df(t){var r=su(),o=t.focusedElem,m=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&nu(o.ownerDocument.documentElement,o)){if(m!==null&&Bi(o)){if(r=m.start,t=m.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var O=o.textContent.length,S=Math.min(m.start,O);m=m.end===void 0?S:Math.min(m.end,O),!t.extend&&S>m&&(O=m,m=S,S=O),O=ru(o,S);var F=ru(o,m);O&&F&&(t.rangeCount!==1||t.anchorNode!==O.node||t.anchorOffset!==O.offset||t.focusNode!==F.node||t.focusOffset!==F.offset)&&(r=r.createRange(),r.setStart(O.node,O.offset),t.removeAllRanges(),S>m?(t.addRange(r),t.extend(F.node,F.offset)):(r.setEnd(F.node,F.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Mf=s&&"documentMode"in document&&11>=document.documentMode,jn=null,Wi=null,ds=null,Ki=!1;function au(t,r,o){var m=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ki||jn==null||jn!==he(m)||(m=jn,"selectionStart"in m&&Bi(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),ds&&cs(ds,m)||(ds=m,m=ma(Wi,"onSelect"),0<m.length&&(r=new Mi("onSelect","select",null,r,o),t.push({event:r,listeners:m}),r.target=jn)))}function fa(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var On={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionend:fa("Transition","TransitionEnd")},Fi={},iu={};s&&(iu=document.createElement("div").style,"AnimationEvent"in window||(delete On.animationend.animation,delete On.animationiteration.animation,delete On.animationstart.animation),"TransitionEvent"in window||delete On.transitionend.transition);function ha(t){if(Fi[t])return Fi[t];if(!On[t])return t;var r=On[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in iu)return Fi[t]=r[o];return t}var ou=ha("animationend"),lu=ha("animationiteration"),uu=ha("animationstart"),cu=ha("transitionend"),du=new Map,fu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(t,r){du.set(t,r),e(r,[t])}for(var ki=0;ki<fu.length;ki++){var zi=fu[ki],If=zi.toLowerCase(),Rf=zi[0].toUpperCase()+zi.slice(1);Cr(If,"on"+Rf)}Cr(ou,"onAnimationEnd"),Cr(lu,"onAnimationIteration"),Cr(uu,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(cu,"onTransitionEnd"),n("onMouseEnter",["mouseout","mouseover"]),n("onMouseLeave",["mouseout","mouseover"]),n("onPointerEnter",["pointerout","pointerover"]),n("onPointerLeave",["pointerout","pointerover"]),e("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),e("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),e("onBeforeInput",["compositionend","keypress","textInput","paste"]),e("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),e("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),e("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Af=new Set("cancel close invalid load scroll toggle".split(" ").concat(fs));function hu(t,r,o){var m=t.type||"unknown-event";t.currentTarget=o,Gs(m,r,void 0,t),t.currentTarget=null}function vu(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var m=t[o],O=m.event;m=m.listeners;e:{var S=void 0;if(r)for(var F=m.length-1;0<=F;F--){var Y=m[F],Z=Y.instance,re=Y.currentTarget;if(Y=Y.listener,Z!==S&&O.isPropagationStopped())break e;hu(O,Y,re),S=Z}else for(F=0;F<m.length;F++){if(Y=m[F],Z=Y.instance,re=Y.currentTarget,Y=Y.listener,Z!==S&&O.isPropagationStopped())break e;hu(O,Y,re),S=Z}}}if(Jr)throw t=vn,Jr=!1,vn=null,t}function Ge(t,r){var o=r[Zi];o===void 0&&(o=r[Zi]=new Set);var m=t+"__bubble";o.has(m)||(mu(r,t,2,!1),o.add(m))}function $i(t,r,o){var m=0;r&&(m|=4),mu(o,t,m,r)}var va="_reactListening"+Math.random().toString(36).slice(2);function hs(t){if(!t[va]){t[va]=!0,i.forEach(function(o){o!=="selectionchange"&&(Af.has(o)||$i(o,!1,t),$i(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[va]||(r[va]=!0,$i("selectionchange",!1,r))}}function mu(t,r,o,m){switch(Wl(r)){case 1:var O=Hd;break;case 4:O=Gd;break;default:O=Si}o=O.bind(null,r,o,t),O=void 0,!hn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(O=!0),m?O!==void 0?t.addEventListener(r,o,{capture:!0,passive:O}):t.addEventListener(r,o,!0):O!==void 0?t.addEventListener(r,o,{passive:O}):t.addEventListener(r,o,!1)}function Qi(t,r,o,m,O){var S=m;if((r&1)===0&&(r&2)===0&&m!==null)e:for(;;){if(m===null)return;var F=m.tag;if(F===3||F===4){var Y=m.stateNode.containerInfo;if(Y===O||Y.nodeType===8&&Y.parentNode===O)break;if(F===4)for(F=m.return;F!==null;){var Z=F.tag;if((Z===3||Z===4)&&(Z=F.stateNode.containerInfo,Z===O||Z.nodeType===8&&Z.parentNode===O))return;F=F.return}for(;Y!==null;){if(F=Vr(Y),F===null)return;if(Z=F.tag,Z===5||Z===6){m=S=F;continue e}Y=Y.parentNode}}m=m.return}$s(function(){var re=S,ue=ht(o),ce=[];e:{var le=du.get(t);if(le!==void 0){var pe=Mi,xe=t;switch(t){case"keypress":if(la(o)===0)break e;case"keydown":case"keyup":pe=lf;break;case"focusin":xe="focus",pe=Ai;break;case"focusout":xe="blur",pe=Ai;break;case"beforeblur":case"afterblur":pe=Ai;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=kl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Xd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=df;break;case ou:case lu:case uu:pe=qd;break;case cu:pe=hf;break;case"scroll":pe=Jd;break;case"wheel":pe=mf;break;case"copy":case"cut":case"paste":pe=ef;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=$l}var je=(r&4)!==0,rt=!je&&t==="scroll",ee=je?le!==null?le+"Capture":null:le;je=[];for(var V=re,te;V!==null;){te=V;var de=te.stateNode;if(te.tag===5&&de!==null&&(te=de,ee!==null&&(de=Hr(V,ee),de!=null&&je.push(vs(V,de,te)))),rt)break;V=V.return}0<je.length&&(le=new pe(le,xe,null,o,ue),ce.push({event:le,listeners:je}))}}if((r&7)===0){e:{if(le=t==="mouseover"||t==="pointerover",pe=t==="mouseout"||t==="pointerout",le&&o!==Ke&&(xe=o.relatedTarget||o.fromElement)&&(Vr(xe)||xe[sr]))break e;if((pe||le)&&(le=ue.window===ue?ue:(le=ue.ownerDocument)?le.defaultView||le.parentWindow:window,pe?(xe=o.relatedTarget||o.toElement,pe=re,xe=xe?Vr(xe):null,xe!==null&&(rt=Ht(xe),xe!==rt||xe.tag!==5&&xe.tag!==6)&&(xe=null)):(pe=null,xe=re),pe!==xe)){if(je=kl,de="onMouseLeave",ee="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(je=$l,de="onPointerLeave",ee="onPointerEnter",V="pointer"),rt=pe==null?le:Cn(pe),te=xe==null?le:Cn(xe),le=new je(de,V+"leave",pe,o,ue),le.target=rt,le.relatedTarget=te,de=null,Vr(ue)===re&&(je=new je(ee,V+"enter",xe,o,ue),je.target=te,je.relatedTarget=rt,de=je),rt=de,pe&&xe)t:{for(je=pe,ee=xe,V=0,te=je;te;te=Nn(te))V++;for(te=0,de=ee;de;de=Nn(de))te++;for(;0<V-te;)je=Nn(je),V--;for(;0<te-V;)ee=Nn(ee),te--;for(;V--;){if(je===ee||ee!==null&&je===ee.alternate)break t;je=Nn(je),ee=Nn(ee)}je=null}else je=null;pe!==null&&gu(ce,le,pe,je,!1),xe!==null&&rt!==null&&gu(ce,rt,xe,je,!0)}}e:{if(le=re?Cn(re):window,pe=le.nodeName&&le.nodeName.toLowerCase(),pe==="select"||pe==="input"&&le.type==="file")var Ne=Of;else if(Xl(le))if(Vl)Ne=Sf;else{Ne=Pf;var Se=Nf}else(pe=le.nodeName)&&pe.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Ne=Cf);if(Ne&&(Ne=Ne(t,re))){Zl(ce,Ne,o,ue);break e}Se&&Se(t,le,re),t==="focusout"&&(Se=le._wrapperState)&&Se.controlled&&le.type==="number"&&Qe(le,"number",le.value)}switch(Se=re?Cn(re):window,t){case"focusin":(Xl(Se)||Se.contentEditable==="true")&&(jn=Se,Wi=re,ds=null);break;case"focusout":ds=Wi=jn=null;break;case"mousedown":Ki=!0;break;case"contextmenu":case"mouseup":case"dragend":Ki=!1,au(ce,o,ue);break;case"selectionchange":if(Mf)break;case"keydown":case"keyup":au(ce,o,ue)}var Te;if(Ui)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else En?Jl(t,o)&&(Me="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Me="onCompositionStart");Me&&(Ql&&o.locale!=="ko"&&(En||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&En&&(Te=Kl()):(Pr=ue,Di="value"in Pr?Pr.value:Pr.textContent,En=!0)),Se=ma(re,Me),0<Se.length&&(Me=new zl(Me,t,null,o,ue),ce.push({event:Me,listeners:Se}),Te?Me.data=Te:(Te=Yl(o),Te!==null&&(Me.data=Te)))),(Te=pf?yf(t,o):xf(t,o))&&(re=ma(re,"onBeforeInput"),0<re.length&&(ue=new zl("onBeforeInput","beforeinput",null,o,ue),ce.push({event:ue,listeners:re}),ue.data=Te))}vu(ce,r)})}function vs(t,r,o){return{instance:t,listener:r,currentTarget:o}}function ma(t,r){for(var o=r+"Capture",m=[];t!==null;){var O=t,S=O.stateNode;O.tag===5&&S!==null&&(O=S,S=Hr(t,o),S!=null&&m.unshift(vs(t,S,O)),S=Hr(t,r),S!=null&&m.push(vs(t,S,O))),t=t.return}return m}function Nn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gu(t,r,o,m,O){for(var S=r._reactName,F=[];o!==null&&o!==m;){var Y=o,Z=Y.alternate,re=Y.stateNode;if(Z!==null&&Z===m)break;Y.tag===5&&re!==null&&(Y=re,O?(Z=Hr(o,S),Z!=null&&F.unshift(vs(o,Z,Y))):O||(Z=Hr(o,S),Z!=null&&F.push(vs(o,Z,Y)))),o=o.return}F.length!==0&&t.push({event:r,listeners:F})}var wf=/\r\n?/g,Uf=/\u0000|\uFFFD/g;function pu(t){return(typeof t=="string"?t:""+t).replace(wf,`
`).replace(Uf,"")}function ga(t,r,o){if(r=pu(r),pu(t)!==r&&o)throw Error(D(425))}function pa(){}var Hi=null,Gi=null;function Ji(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Yi=typeof setTimeout=="function"?setTimeout:void 0,Lf=typeof clearTimeout=="function"?clearTimeout:void 0,yu=typeof Promise=="function"?Promise:void 0,bf=typeof queueMicrotask=="function"?queueMicrotask:typeof yu<"u"?function(t){return yu.resolve(null).then(t).catch(Bf)}:Yi;function Bf(t){setTimeout(function(){throw t})}function Xi(t,r){var o=r,m=0;do{var O=o.nextSibling;if(t.removeChild(o),O&&O.nodeType===8)if(o=O.data,o==="/$"){if(m===0){t.removeChild(O),ss(r);return}m--}else o!=="$"&&o!=="$?"&&o!=="$!"||m++;o=O}while(o);ss(r)}function Sr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function xu(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var Pn=Math.random().toString(36).slice(2),er="__reactFiber$"+Pn,ms="__reactProps$"+Pn,sr="__reactContainer$"+Pn,Zi="__reactEvents$"+Pn,Wf="__reactListeners$"+Pn,Kf="__reactHandles$"+Pn;function Vr(t){var r=t[er];if(r)return r;for(var o=t.parentNode;o;){if(r=o[sr]||o[er]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=xu(t);t!==null;){if(o=t[er])return o;t=xu(t)}return r}t=o,o=t.parentNode}return null}function gs(t){return t=t[er]||t[sr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Cn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function ya(t){return t[ms]||null}var Vi=[],Sn=-1;function Tr(t){return{current:t}}function Je(t){0>Sn||(t.current=Vi[Sn],Vi[Sn]=null,Sn--)}function He(t,r){Sn++,Vi[Sn]=t.current,t.current=r}var Dr={},vt=Tr(Dr),Ct=Tr(!1),qr=Dr;function Tn(t,r){var o=t.type.contextTypes;if(!o)return Dr;var m=t.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===r)return m.__reactInternalMemoizedMaskedChildContext;var O={},S;for(S in o)O[S]=r[S];return m&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=O),O}function St(t){return t=t.childContextTypes,t!=null}function xa(){Je(Ct),Je(vt)}function Eu(t,r,o){if(vt.current!==Dr)throw Error(D(168));He(vt,r),He(Ct,o)}function ju(t,r,o){var m=t.stateNode;if(r=r.childContextTypes,typeof m.getChildContext!="function")return o;m=m.getChildContext();for(var O in m)if(!(O in r))throw Error(D(108,ae(t)||"Unknown",O));return L({},o,m)}function Ea(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Dr,qr=vt.current,He(vt,t),He(Ct,Ct.current),!0}function Ou(t,r,o){var m=t.stateNode;if(!m)throw Error(D(169));o?(t=ju(t,r,qr),m.__reactInternalMemoizedMergedChildContext=t,Je(Ct),Je(vt),He(vt,t)):Je(Ct),He(Ct,o)}var ar=null,ja=!1,qi=!1;function Nu(t){ar===null?ar=[t]:ar.push(t)}function Ff(t){ja=!0,Nu(t)}function Mr(){if(!qi&&ar!==null){qi=!0;var t=0,r=$e;try{var o=ar;for($e=1;t<o.length;t++){var m=o[t];do m=m(!0);while(m!==null)}ar=null,ja=!1}catch(O){throw ar!==null&&(ar=ar.slice(t+1)),Vs(Vn,Mr),O}finally{$e=r,qi=!1}}return null}var Dn=[],Mn=0,Oa=null,Na=0,Wt=[],Kt=0,_r=null,ir=1,or="";function en(t,r){Dn[Mn++]=Na,Dn[Mn++]=Oa,Oa=t,Na=r}function Pu(t,r,o){Wt[Kt++]=ir,Wt[Kt++]=or,Wt[Kt++]=_r,_r=t;var m=ir;t=or;var O=32-xt(m)-1;m&=~(1<<O),o+=1;var S=32-xt(r)+O;if(30<S){var F=O-O%5;S=(m&(1<<F)-1).toString(32),m>>=F,O-=F,ir=1<<32-xt(r)+O|o<<O|m,or=S+t}else ir=1<<S|o<<O|m,or=t}function _i(t){t.return!==null&&(en(t,1),Pu(t,1,0))}function eo(t){for(;t===Oa;)Oa=Dn[--Mn],Dn[Mn]=null,Na=Dn[--Mn],Dn[Mn]=null;for(;t===_r;)_r=Wt[--Kt],Wt[Kt]=null,or=Wt[--Kt],Wt[Kt]=null,ir=Wt[--Kt],Wt[Kt]=null}var wt=null,Ut=null,Xe=!1,Jt=null;function Cu(t,r){var o=$t(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Su(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,wt=t,Ut=Sr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,wt=t,Ut=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=_r!==null?{id:ir,overflow:or}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=$t(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,wt=t,Ut=null,!0):!1;default:return!1}}function to(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ro(t){if(Xe){var r=Ut;if(r){var o=r;if(!Su(t,r)){if(to(t))throw Error(D(418));r=Sr(o.nextSibling);var m=wt;r&&Su(t,r)?Cu(m,o):(t.flags=t.flags&-4097|2,Xe=!1,wt=t)}}else{if(to(t))throw Error(D(418));t.flags=t.flags&-4097|2,Xe=!1,wt=t}}}function Tu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wt=t}function Pa(t){if(t!==wt)return!1;if(!Xe)return Tu(t),Xe=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Ji(t.type,t.memoizedProps)),r&&(r=Ut)){if(to(t))throw Du(),Error(D(418));for(;r;)Cu(t,r),r=Sr(r.nextSibling)}if(Tu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){Ut=Sr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}Ut=null}}else Ut=wt?Sr(t.stateNode.nextSibling):null;return!0}function Du(){for(var t=Ut;t;)t=Sr(t.nextSibling)}function In(){Ut=wt=null,Xe=!1}function no(t){Jt===null?Jt=[t]:Jt.push(t)}var kf=C.ReactCurrentBatchConfig;function ps(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(D(309));var m=o.stateNode}if(!m)throw Error(D(147,t));var O=m,S=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===S?r.ref:(r=function(F){var Y=O.refs;F===null?delete Y[S]:Y[S]=F},r._stringRef=S,r)}if(typeof t!="string")throw Error(D(284));if(!o._owner)throw Error(D(290,t))}return t}function Ca(t,r){throw t=Object.prototype.toString.call(r),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Mu(t){var r=t._init;return r(t._payload)}function Iu(t){function r(ee,V){if(t){var te=ee.deletions;te===null?(ee.deletions=[V],ee.flags|=16):te.push(V)}}function o(ee,V){if(!t)return null;for(;V!==null;)r(ee,V),V=V.sibling;return null}function m(ee,V){for(ee=new Map;V!==null;)V.key!==null?ee.set(V.key,V):ee.set(V.index,V),V=V.sibling;return ee}function O(ee,V){return ee=Br(ee,V),ee.index=0,ee.sibling=null,ee}function S(ee,V,te){return ee.index=te,t?(te=ee.alternate,te!==null?(te=te.index,te<V?(ee.flags|=2,V):te):(ee.flags|=2,V)):(ee.flags|=1048576,V)}function F(ee){return t&&ee.alternate===null&&(ee.flags|=2),ee}function Y(ee,V,te,de){return V===null||V.tag!==6?(V=Xo(te,ee.mode,de),V.return=ee,V):(V=O(V,te),V.return=ee,V)}function Z(ee,V,te,de){var Ne=te.type;return Ne===A?ue(ee,V,te.props.children,de,te.key):V!==null&&(V.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===H&&Mu(Ne)===V.type)?(de=O(V,te.props),de.ref=ps(ee,V,te),de.return=ee,de):(de=Xa(te.type,te.key,te.props,null,ee.mode,de),de.ref=ps(ee,V,te),de.return=ee,de)}function re(ee,V,te,de){return V===null||V.tag!==4||V.stateNode.containerInfo!==te.containerInfo||V.stateNode.implementation!==te.implementation?(V=Zo(te,ee.mode,de),V.return=ee,V):(V=O(V,te.children||[]),V.return=ee,V)}function ue(ee,V,te,de,Ne){return V===null||V.tag!==7?(V=un(te,ee.mode,de,Ne),V.return=ee,V):(V=O(V,te),V.return=ee,V)}function ce(ee,V,te){if(typeof V=="string"&&V!==""||typeof V=="number")return V=Xo(""+V,ee.mode,te),V.return=ee,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case I:return te=Xa(V.type,V.key,V.props,null,ee.mode,te),te.ref=ps(ee,null,V),te.return=ee,te;case U:return V=Zo(V,ee.mode,te),V.return=ee,V;case H:var de=V._init;return ce(ee,de(V._payload),te)}if(et(V)||k(V))return V=un(V,ee.mode,te,null),V.return=ee,V;Ca(ee,V)}return null}function le(ee,V,te,de){var Ne=V!==null?V.key:null;if(typeof te=="string"&&te!==""||typeof te=="number")return Ne!==null?null:Y(ee,V,""+te,de);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case I:return te.key===Ne?Z(ee,V,te,de):null;case U:return te.key===Ne?re(ee,V,te,de):null;case H:return Ne=te._init,le(ee,V,Ne(te._payload),de)}if(et(te)||k(te))return Ne!==null?null:ue(ee,V,te,de,null);Ca(ee,te)}return null}function pe(ee,V,te,de,Ne){if(typeof de=="string"&&de!==""||typeof de=="number")return ee=ee.get(te)||null,Y(V,ee,""+de,Ne);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case I:return ee=ee.get(de.key===null?te:de.key)||null,Z(V,ee,de,Ne);case U:return ee=ee.get(de.key===null?te:de.key)||null,re(V,ee,de,Ne);case H:var Se=de._init;return pe(ee,V,te,Se(de._payload),Ne)}if(et(de)||k(de))return ee=ee.get(te)||null,ue(V,ee,de,Ne,null);Ca(V,de)}return null}function xe(ee,V,te,de){for(var Ne=null,Se=null,Te=V,Me=V=0,ut=null;Te!==null&&Me<te.length;Me++){Te.index>Me?(ut=Te,Te=null):ut=Te.sibling;var ze=le(ee,Te,te[Me],de);if(ze===null){Te===null&&(Te=ut);break}t&&Te&&ze.alternate===null&&r(ee,Te),V=S(ze,V,Me),Se===null?Ne=ze:Se.sibling=ze,Se=ze,Te=ut}if(Me===te.length)return o(ee,Te),Xe&&en(ee,Me),Ne;if(Te===null){for(;Me<te.length;Me++)Te=ce(ee,te[Me],de),Te!==null&&(V=S(Te,V,Me),Se===null?Ne=Te:Se.sibling=Te,Se=Te);return Xe&&en(ee,Me),Ne}for(Te=m(ee,Te);Me<te.length;Me++)ut=pe(Te,ee,Me,te[Me],de),ut!==null&&(t&&ut.alternate!==null&&Te.delete(ut.key===null?Me:ut.key),V=S(ut,V,Me),Se===null?Ne=ut:Se.sibling=ut,Se=ut);return t&&Te.forEach(function(Wr){return r(ee,Wr)}),Xe&&en(ee,Me),Ne}function je(ee,V,te,de){var Ne=k(te);if(typeof Ne!="function")throw Error(D(150));if(te=Ne.call(te),te==null)throw Error(D(151));for(var Se=Ne=null,Te=V,Me=V=0,ut=null,ze=te.next();Te!==null&&!ze.done;Me++,ze=te.next()){Te.index>Me?(ut=Te,Te=null):ut=Te.sibling;var Wr=le(ee,Te,ze.value,de);if(Wr===null){Te===null&&(Te=ut);break}t&&Te&&Wr.alternate===null&&r(ee,Te),V=S(Wr,V,Me),Se===null?Ne=Wr:Se.sibling=Wr,Se=Wr,Te=ut}if(ze.done)return o(ee,Te),Xe&&en(ee,Me),Ne;if(Te===null){for(;!ze.done;Me++,ze=te.next())ze=ce(ee,ze.value,de),ze!==null&&(V=S(ze,V,Me),Se===null?Ne=ze:Se.sibling=ze,Se=ze);return Xe&&en(ee,Me),Ne}for(Te=m(ee,Te);!ze.done;Me++,ze=te.next())ze=pe(Te,ee,Me,ze.value,de),ze!==null&&(t&&ze.alternate!==null&&Te.delete(ze.key===null?Me:ze.key),V=S(ze,V,Me),Se===null?Ne=ze:Se.sibling=ze,Se=ze);return t&&Te.forEach(function(Eh){return r(ee,Eh)}),Xe&&en(ee,Me),Ne}function rt(ee,V,te,de){if(typeof te=="object"&&te!==null&&te.type===A&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case I:e:{for(var Ne=te.key,Se=V;Se!==null;){if(Se.key===Ne){if(Ne=te.type,Ne===A){if(Se.tag===7){o(ee,Se.sibling),V=O(Se,te.props.children),V.return=ee,ee=V;break e}}else if(Se.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===H&&Mu(Ne)===Se.type){o(ee,Se.sibling),V=O(Se,te.props),V.ref=ps(ee,Se,te),V.return=ee,ee=V;break e}o(ee,Se);break}else r(ee,Se);Se=Se.sibling}te.type===A?(V=un(te.props.children,ee.mode,de,te.key),V.return=ee,ee=V):(de=Xa(te.type,te.key,te.props,null,ee.mode,de),de.ref=ps(ee,V,te),de.return=ee,ee=de)}return F(ee);case U:e:{for(Se=te.key;V!==null;){if(V.key===Se)if(V.tag===4&&V.stateNode.containerInfo===te.containerInfo&&V.stateNode.implementation===te.implementation){o(ee,V.sibling),V=O(V,te.children||[]),V.return=ee,ee=V;break e}else{o(ee,V);break}else r(ee,V);V=V.sibling}V=Zo(te,ee.mode,de),V.return=ee,ee=V}return F(ee);case H:return Se=te._init,rt(ee,V,Se(te._payload),de)}if(et(te))return xe(ee,V,te,de);if(k(te))return je(ee,V,te,de);Ca(ee,te)}return typeof te=="string"&&te!==""||typeof te=="number"?(te=""+te,V!==null&&V.tag===6?(o(ee,V.sibling),V=O(V,te),V.return=ee,ee=V):(o(ee,V),V=Xo(te,ee.mode,de),V.return=ee,ee=V),F(ee)):o(ee,V)}return rt}var Rn=Iu(!0),Ru=Iu(!1),Sa=Tr(null),Ta=null,An=null,so=null;function ao(){so=An=Ta=null}function io(t){var r=Sa.current;Je(Sa),t._currentValue=r}function oo(t,r,o){for(;t!==null;){var m=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,m!==null&&(m.childLanes|=r)):m!==null&&(m.childLanes&r)!==r&&(m.childLanes|=r),t===o)break;t=t.return}}function wn(t,r){Ta=t,so=An=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(Tt=!0),t.firstContext=null)}function Ft(t){var r=t._currentValue;if(so!==t)if(t={context:t,memoizedValue:r,next:null},An===null){if(Ta===null)throw Error(D(308));An=t,Ta.dependencies={lanes:0,firstContext:t}}else An=An.next=t;return r}var tn=null;function lo(t){tn===null?tn=[t]:tn.push(t)}function Au(t,r,o,m){var O=r.interleaved;return O===null?(o.next=o,lo(r)):(o.next=O.next,O.next=o),r.interleaved=o,lr(t,m)}function lr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Ir=!1;function uo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wu(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ur(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Rr(t,r,o){var m=t.updateQueue;if(m===null)return null;if(m=m.shared,(ke&2)!==0){var O=m.pending;return O===null?r.next=r:(r.next=O.next,O.next=r),m.pending=r,lr(t,o)}return O=m.interleaved,O===null?(r.next=r,lo(m)):(r.next=O.next,O.next=r),m.interleaved=r,lr(t,o)}function Da(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var m=r.lanes;m&=t.pendingLanes,o|=m,r.lanes=o,Ni(t,o)}}function Uu(t,r){var o=t.updateQueue,m=t.alternate;if(m!==null&&(m=m.updateQueue,o===m)){var O=null,S=null;if(o=o.firstBaseUpdate,o!==null){do{var F={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};S===null?O=S=F:S=S.next=F,o=o.next}while(o!==null);S===null?O=S=r:S=S.next=r}else O=S=r;o={baseState:m.baseState,firstBaseUpdate:O,lastBaseUpdate:S,shared:m.shared,effects:m.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function Ma(t,r,o,m){var O=t.updateQueue;Ir=!1;var S=O.firstBaseUpdate,F=O.lastBaseUpdate,Y=O.shared.pending;if(Y!==null){O.shared.pending=null;var Z=Y,re=Z.next;Z.next=null,F===null?S=re:F.next=re,F=Z;var ue=t.alternate;ue!==null&&(ue=ue.updateQueue,Y=ue.lastBaseUpdate,Y!==F&&(Y===null?ue.firstBaseUpdate=re:Y.next=re,ue.lastBaseUpdate=Z))}if(S!==null){var ce=O.baseState;F=0,ue=re=Z=null,Y=S;do{var le=Y.lane,pe=Y.eventTime;if((m&le)===le){ue!==null&&(ue=ue.next={eventTime:pe,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var xe=t,je=Y;switch(le=r,pe=o,je.tag){case 1:if(xe=je.payload,typeof xe=="function"){ce=xe.call(pe,ce,le);break e}ce=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=je.payload,le=typeof xe=="function"?xe.call(pe,ce,le):xe,le==null)break e;ce=L({},ce,le);break e;case 2:Ir=!0}}Y.callback!==null&&Y.lane!==0&&(t.flags|=64,le=O.effects,le===null?O.effects=[Y]:le.push(Y))}else pe={eventTime:pe,lane:le,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},ue===null?(re=ue=pe,Z=ce):ue=ue.next=pe,F|=le;if(Y=Y.next,Y===null){if(Y=O.shared.pending,Y===null)break;le=Y,Y=le.next,le.next=null,O.lastBaseUpdate=le,O.shared.pending=null}}while(!0);if(ue===null&&(Z=ce),O.baseState=Z,O.firstBaseUpdate=re,O.lastBaseUpdate=ue,r=O.shared.interleaved,r!==null){O=r;do F|=O.lane,O=O.next;while(O!==r)}else S===null&&(O.shared.lanes=0);sn|=F,t.lanes=F,t.memoizedState=ce}}function Lu(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var m=t[r],O=m.callback;if(O!==null){if(m.callback=null,m=o,typeof O!="function")throw Error(D(191,O));O.call(m)}}}var ys={},tr=Tr(ys),xs=Tr(ys),Es=Tr(ys);function rn(t){if(t===ys)throw Error(D(174));return t}function co(t,r){switch(He(Es,r),He(xs,t),He(tr,ys),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ct(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ct(r,t)}Je(tr),He(tr,r)}function Un(){Je(tr),Je(xs),Je(Es)}function bu(t){rn(Es.current);var r=rn(tr.current),o=ct(r,t.type);r!==o&&(He(xs,t),He(tr,o))}function fo(t){xs.current===t&&(Je(tr),Je(xs))}var Ve=Tr(0);function Ia(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ho=[];function vo(){for(var t=0;t<ho.length;t++)ho[t]._workInProgressVersionPrimary=null;ho.length=0}var Ra=C.ReactCurrentDispatcher,mo=C.ReactCurrentBatchConfig,nn=0,qe=null,at=null,ot=null,Aa=!1,js=!1,Os=0,zf=0;function mt(){throw Error(D(321))}function go(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Gt(t[o],r[o]))return!1;return!0}function po(t,r,o,m,O,S){if(nn=S,qe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Ra.current=t===null||t.memoizedState===null?Gf:Jf,t=o(m,O),js){S=0;do{if(js=!1,Os=0,25<=S)throw Error(D(301));S+=1,ot=at=null,r.updateQueue=null,Ra.current=Yf,t=o(m,O)}while(js)}if(Ra.current=La,r=at!==null&&at.next!==null,nn=0,ot=at=qe=null,Aa=!1,r)throw Error(D(300));return t}function yo(){var t=Os!==0;return Os=0,t}function rr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?qe.memoizedState=ot=t:ot=ot.next=t,ot}function kt(){if(at===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var r=ot===null?qe.memoizedState:ot.next;if(r!==null)ot=r,at=t;else{if(t===null)throw Error(D(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},ot===null?qe.memoizedState=ot=t:ot=ot.next=t}return ot}function Ns(t,r){return typeof r=="function"?r(t):r}function xo(t){var r=kt(),o=r.queue;if(o===null)throw Error(D(311));o.lastRenderedReducer=t;var m=at,O=m.baseQueue,S=o.pending;if(S!==null){if(O!==null){var F=O.next;O.next=S.next,S.next=F}m.baseQueue=O=S,o.pending=null}if(O!==null){S=O.next,m=m.baseState;var Y=F=null,Z=null,re=S;do{var ue=re.lane;if((nn&ue)===ue)Z!==null&&(Z=Z.next={lane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),m=re.hasEagerState?re.eagerState:t(m,re.action);else{var ce={lane:ue,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null};Z===null?(Y=Z=ce,F=m):Z=Z.next=ce,qe.lanes|=ue,sn|=ue}re=re.next}while(re!==null&&re!==S);Z===null?F=m:Z.next=Y,Gt(m,r.memoizedState)||(Tt=!0),r.memoizedState=m,r.baseState=F,r.baseQueue=Z,o.lastRenderedState=m}if(t=o.interleaved,t!==null){O=t;do S=O.lane,qe.lanes|=S,sn|=S,O=O.next;while(O!==t)}else O===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Eo(t){var r=kt(),o=r.queue;if(o===null)throw Error(D(311));o.lastRenderedReducer=t;var m=o.dispatch,O=o.pending,S=r.memoizedState;if(O!==null){o.pending=null;var F=O=O.next;do S=t(S,F.action),F=F.next;while(F!==O);Gt(S,r.memoizedState)||(Tt=!0),r.memoizedState=S,r.baseQueue===null&&(r.baseState=S),o.lastRenderedState=S}return[S,m]}function Bu(){}function Wu(t,r){var o=qe,m=kt(),O=r(),S=!Gt(m.memoizedState,O);if(S&&(m.memoizedState=O,Tt=!0),m=m.queue,jo(ku.bind(null,o,m,t),[t]),m.getSnapshot!==r||S||ot!==null&&ot.memoizedState.tag&1){if(o.flags|=2048,Ps(9,Fu.bind(null,o,m,O,r),void 0,null),lt===null)throw Error(D(349));(nn&30)!==0||Ku(o,r,O)}return O}function Ku(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=qe.updateQueue,r===null?(r={lastEffect:null,stores:null},qe.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Fu(t,r,o,m){r.value=o,r.getSnapshot=m,zu(r)&&$u(t)}function ku(t,r,o){return o(function(){zu(r)&&$u(t)})}function zu(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Gt(t,o)}catch{return!0}}function $u(t){var r=lr(t,1);r!==null&&Vt(r,t,1,-1)}function Qu(t){var r=rr();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:t},r.queue=t,t=t.dispatch=Hf.bind(null,qe,t),[r.memoizedState,t]}function Ps(t,r,o,m){return t={tag:t,create:r,destroy:o,deps:m,next:null},r=qe.updateQueue,r===null?(r={lastEffect:null,stores:null},qe.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(m=o.next,o.next=t,t.next=m,r.lastEffect=t)),t}function Hu(){return kt().memoizedState}function wa(t,r,o,m){var O=rr();qe.flags|=t,O.memoizedState=Ps(1|r,o,void 0,m===void 0?null:m)}function Ua(t,r,o,m){var O=kt();m=m===void 0?null:m;var S=void 0;if(at!==null){var F=at.memoizedState;if(S=F.destroy,m!==null&&go(m,F.deps)){O.memoizedState=Ps(r,o,S,m);return}}qe.flags|=t,O.memoizedState=Ps(1|r,o,S,m)}function Gu(t,r){return wa(8390656,8,t,r)}function jo(t,r){return Ua(2048,8,t,r)}function Ju(t,r){return Ua(4,2,t,r)}function Yu(t,r){return Ua(4,4,t,r)}function Xu(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Zu(t,r,o){return o=o!=null?o.concat([t]):null,Ua(4,4,Xu.bind(null,r,t),o)}function Oo(){}function Vu(t,r){var o=kt();r=r===void 0?null:r;var m=o.memoizedState;return m!==null&&r!==null&&go(r,m[1])?m[0]:(o.memoizedState=[t,r],t)}function qu(t,r){var o=kt();r=r===void 0?null:r;var m=o.memoizedState;return m!==null&&r!==null&&go(r,m[1])?m[0]:(t=t(),o.memoizedState=[t,r],t)}function _u(t,r,o){return(nn&21)===0?(t.baseState&&(t.baseState=!1,Tt=!0),t.memoizedState=o):(Gt(o,r)||(o=ra(),qe.lanes|=o,sn|=o,t.baseState=!0),r)}function $f(t,r){var o=$e;$e=o!==0&&4>o?o:4,t(!0);var m=mo.transition;mo.transition={};try{t(!1),r()}finally{$e=o,mo.transition=m}}function ec(){return kt().memoizedState}function Qf(t,r,o){var m=Lr(t);if(o={lane:m,action:o,hasEagerState:!1,eagerState:null,next:null},tc(t))rc(r,o);else if(o=Au(t,r,o,m),o!==null){var O=jt();Vt(o,t,m,O),nc(o,r,m)}}function Hf(t,r,o){var m=Lr(t),O={lane:m,action:o,hasEagerState:!1,eagerState:null,next:null};if(tc(t))rc(r,O);else{var S=t.alternate;if(t.lanes===0&&(S===null||S.lanes===0)&&(S=r.lastRenderedReducer,S!==null))try{var F=r.lastRenderedState,Y=S(F,o);if(O.hasEagerState=!0,O.eagerState=Y,Gt(Y,F)){var Z=r.interleaved;Z===null?(O.next=O,lo(r)):(O.next=Z.next,Z.next=O),r.interleaved=O;return}}catch{}finally{}o=Au(t,r,O,m),o!==null&&(O=jt(),Vt(o,t,m,O),nc(o,r,m))}}function tc(t){var r=t.alternate;return t===qe||r!==null&&r===qe}function rc(t,r){js=Aa=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function nc(t,r,o){if((o&4194240)!==0){var m=r.lanes;m&=t.pendingLanes,o|=m,r.lanes=o,Ni(t,o)}}var La={readContext:Ft,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},Gf={readContext:Ft,useCallback:function(t,r){return rr().memoizedState=[t,r===void 0?null:r],t},useContext:Ft,useEffect:Gu,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,wa(4194308,4,Xu.bind(null,r,t),o)},useLayoutEffect:function(t,r){return wa(4194308,4,t,r)},useInsertionEffect:function(t,r){return wa(4,2,t,r)},useMemo:function(t,r){var o=rr();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var m=rr();return r=o!==void 0?o(r):r,m.memoizedState=m.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},m.queue=t,t=t.dispatch=Qf.bind(null,qe,t),[m.memoizedState,t]},useRef:function(t){var r=rr();return t={current:t},r.memoizedState=t},useState:Qu,useDebugValue:Oo,useDeferredValue:function(t){return rr().memoizedState=t},useTransition:function(){var t=Qu(!1),r=t[0];return t=$f.bind(null,t[1]),rr().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var m=qe,O=rr();if(Xe){if(o===void 0)throw Error(D(407));o=o()}else{if(o=r(),lt===null)throw Error(D(349));(nn&30)!==0||Ku(m,r,o)}O.memoizedState=o;var S={value:o,getSnapshot:r};return O.queue=S,Gu(ku.bind(null,m,S,t),[t]),m.flags|=2048,Ps(9,Fu.bind(null,m,S,o,r),void 0,null),o},useId:function(){var t=rr(),r=lt.identifierPrefix;if(Xe){var o=or,m=ir;o=(m&~(1<<32-xt(m)-1)).toString(32)+o,r=":"+r+"R"+o,o=Os++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=zf++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Jf={readContext:Ft,useCallback:Vu,useContext:Ft,useEffect:jo,useImperativeHandle:Zu,useInsertionEffect:Ju,useLayoutEffect:Yu,useMemo:qu,useReducer:xo,useRef:Hu,useState:function(){return xo(Ns)},useDebugValue:Oo,useDeferredValue:function(t){var r=kt();return _u(r,at.memoizedState,t)},useTransition:function(){var t=xo(Ns)[0],r=kt().memoizedState;return[t,r]},useMutableSource:Bu,useSyncExternalStore:Wu,useId:ec,unstable_isNewReconciler:!1},Yf={readContext:Ft,useCallback:Vu,useContext:Ft,useEffect:jo,useImperativeHandle:Zu,useInsertionEffect:Ju,useLayoutEffect:Yu,useMemo:qu,useReducer:Eo,useRef:Hu,useState:function(){return Eo(Ns)},useDebugValue:Oo,useDeferredValue:function(t){var r=kt();return at===null?r.memoizedState=t:_u(r,at.memoizedState,t)},useTransition:function(){var t=Eo(Ns)[0],r=kt().memoizedState;return[t,r]},useMutableSource:Bu,useSyncExternalStore:Wu,useId:ec,unstable_isNewReconciler:!1};function Yt(t,r){if(t&&t.defaultProps){r=L({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function No(t,r,o,m){r=t.memoizedState,o=o(m,r),o=o==null?r:L({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var ba={isMounted:function(t){return(t=t._reactInternals)?Ht(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var m=jt(),O=Lr(t),S=ur(m,O);S.payload=r,o!=null&&(S.callback=o),r=Rr(t,S,O),r!==null&&(Vt(r,t,O,m),Da(r,t,O))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var m=jt(),O=Lr(t),S=ur(m,O);S.tag=1,S.payload=r,o!=null&&(S.callback=o),r=Rr(t,S,O),r!==null&&(Vt(r,t,O,m),Da(r,t,O))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=jt(),m=Lr(t),O=ur(o,m);O.tag=2,r!=null&&(O.callback=r),r=Rr(t,O,m),r!==null&&(Vt(r,t,m,o),Da(r,t,m))}};function sc(t,r,o,m,O,S,F){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(m,S,F):r.prototype&&r.prototype.isPureReactComponent?!cs(o,m)||!cs(O,S):!0}function ac(t,r,o){var m=!1,O=Dr,S=r.contextType;return typeof S=="object"&&S!==null?S=Ft(S):(O=St(r)?qr:vt.current,m=r.contextTypes,S=(m=m!=null)?Tn(t,O):Dr),r=new r(o,S),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=ba,t.stateNode=r,r._reactInternals=t,m&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=O,t.__reactInternalMemoizedMaskedChildContext=S),r}function ic(t,r,o,m){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,m),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,m),r.state!==t&&ba.enqueueReplaceState(r,r.state,null)}function Po(t,r,o,m){var O=t.stateNode;O.props=o,O.state=t.memoizedState,O.refs={},uo(t);var S=r.contextType;typeof S=="object"&&S!==null?O.context=Ft(S):(S=St(r)?qr:vt.current,O.context=Tn(t,S)),O.state=t.memoizedState,S=r.getDerivedStateFromProps,typeof S=="function"&&(No(t,r,S,o),O.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(r=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),r!==O.state&&ba.enqueueReplaceState(O,O.state,null),Ma(t,o,O,m),O.state=t.memoizedState),typeof O.componentDidMount=="function"&&(t.flags|=4194308)}function Ln(t,r){try{var o="",m=r;do o+=q(m),m=m.return;while(m);var O=o}catch(S){O=`
Error generating stack: `+S.message+`
`+S.stack}return{value:t,source:r,stack:O,digest:null}}function Co(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function So(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var Xf=typeof WeakMap=="function"?WeakMap:Map;function oc(t,r,o){o=ur(-1,o),o.tag=3,o.payload={element:null};var m=r.value;return o.callback=function(){$a||($a=!0,ko=m),So(t,r)},o}function lc(t,r,o){o=ur(-1,o),o.tag=3;var m=t.type.getDerivedStateFromError;if(typeof m=="function"){var O=r.value;o.payload=function(){return m(O)},o.callback=function(){So(t,r)}}var S=t.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(o.callback=function(){So(t,r),typeof m!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var F=r.stack;this.componentDidCatch(r.value,{componentStack:F!==null?F:""})}),o}function uc(t,r,o){var m=t.pingCache;if(m===null){m=t.pingCache=new Xf;var O=new Set;m.set(r,O)}else O=m.get(r),O===void 0&&(O=new Set,m.set(r,O));O.has(o)||(O.add(o),t=uh.bind(null,t,r,o),r.then(t,t))}function cc(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function dc(t,r,o,m,O){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=ur(-1,1),r.tag=2,Rr(o,r,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=O,t)}var Zf=C.ReactCurrentOwner,Tt=!1;function Et(t,r,o,m){r.child=t===null?Ru(r,null,o,m):Rn(r,t.child,o,m)}function fc(t,r,o,m,O){o=o.render;var S=r.ref;return wn(r,O),m=po(t,r,o,m,S,O),o=yo(),t!==null&&!Tt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~O,cr(t,r,O)):(Xe&&o&&_i(r),r.flags|=1,Et(t,r,m,O),r.child)}function hc(t,r,o,m,O){if(t===null){var S=o.type;return typeof S=="function"&&!Yo(S)&&S.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=S,vc(t,r,S,m,O)):(t=Xa(o.type,null,m,r,r.mode,O),t.ref=r.ref,t.return=r,r.child=t)}if(S=t.child,(t.lanes&O)===0){var F=S.memoizedProps;if(o=o.compare,o=o!==null?o:cs,o(F,m)&&t.ref===r.ref)return cr(t,r,O)}return r.flags|=1,t=Br(S,m),t.ref=r.ref,t.return=r,r.child=t}function vc(t,r,o,m,O){if(t!==null){var S=t.memoizedProps;if(cs(S,m)&&t.ref===r.ref)if(Tt=!1,r.pendingProps=m=S,(t.lanes&O)!==0)(t.flags&131072)!==0&&(Tt=!0);else return r.lanes=t.lanes,cr(t,r,O)}return To(t,r,o,m,O)}function mc(t,r,o){var m=r.pendingProps,O=m.children,S=t!==null?t.memoizedState:null;if(m.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Bn,Lt),Lt|=o;else{if((o&1073741824)===0)return t=S!==null?S.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,He(Bn,Lt),Lt|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=S!==null?S.baseLanes:o,He(Bn,Lt),Lt|=m}else S!==null?(m=S.baseLanes|o,r.memoizedState=null):m=o,He(Bn,Lt),Lt|=m;return Et(t,r,O,o),r.child}function gc(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function To(t,r,o,m,O){var S=St(o)?qr:vt.current;return S=Tn(r,S),wn(r,O),o=po(t,r,o,m,S,O),m=yo(),t!==null&&!Tt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~O,cr(t,r,O)):(Xe&&m&&_i(r),r.flags|=1,Et(t,r,o,O),r.child)}function pc(t,r,o,m,O){if(St(o)){var S=!0;Ea(r)}else S=!1;if(wn(r,O),r.stateNode===null)Wa(t,r),ac(r,o,m),Po(r,o,m,O),m=!0;else if(t===null){var F=r.stateNode,Y=r.memoizedProps;F.props=Y;var Z=F.context,re=o.contextType;typeof re=="object"&&re!==null?re=Ft(re):(re=St(o)?qr:vt.current,re=Tn(r,re));var ue=o.getDerivedStateFromProps,ce=typeof ue=="function"||typeof F.getSnapshotBeforeUpdate=="function";ce||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(Y!==m||Z!==re)&&ic(r,F,m,re),Ir=!1;var le=r.memoizedState;F.state=le,Ma(r,m,F,O),Z=r.memoizedState,Y!==m||le!==Z||Ct.current||Ir?(typeof ue=="function"&&(No(r,o,ue,m),Z=r.memoizedState),(Y=Ir||sc(r,o,Y,m,le,Z,re))?(ce||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(r.flags|=4194308)):(typeof F.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=m,r.memoizedState=Z),F.props=m,F.state=Z,F.context=re,m=Y):(typeof F.componentDidMount=="function"&&(r.flags|=4194308),m=!1)}else{F=r.stateNode,wu(t,r),Y=r.memoizedProps,re=r.type===r.elementType?Y:Yt(r.type,Y),F.props=re,ce=r.pendingProps,le=F.context,Z=o.contextType,typeof Z=="object"&&Z!==null?Z=Ft(Z):(Z=St(o)?qr:vt.current,Z=Tn(r,Z));var pe=o.getDerivedStateFromProps;(ue=typeof pe=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(Y!==ce||le!==Z)&&ic(r,F,m,Z),Ir=!1,le=r.memoizedState,F.state=le,Ma(r,m,F,O);var xe=r.memoizedState;Y!==ce||le!==xe||Ct.current||Ir?(typeof pe=="function"&&(No(r,o,pe,m),xe=r.memoizedState),(re=Ir||sc(r,o,re,m,le,xe,Z)||!1)?(ue||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(m,xe,Z),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(m,xe,Z)),typeof F.componentDidUpdate=="function"&&(r.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof F.componentDidUpdate!="function"||Y===t.memoizedProps&&le===t.memoizedState||(r.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||Y===t.memoizedProps&&le===t.memoizedState||(r.flags|=1024),r.memoizedProps=m,r.memoizedState=xe),F.props=m,F.state=xe,F.context=Z,m=re):(typeof F.componentDidUpdate!="function"||Y===t.memoizedProps&&le===t.memoizedState||(r.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||Y===t.memoizedProps&&le===t.memoizedState||(r.flags|=1024),m=!1)}return Do(t,r,o,m,S,O)}function Do(t,r,o,m,O,S){gc(t,r);var F=(r.flags&128)!==0;if(!m&&!F)return O&&Ou(r,o,!1),cr(t,r,S);m=r.stateNode,Zf.current=r;var Y=F&&typeof o.getDerivedStateFromError!="function"?null:m.render();return r.flags|=1,t!==null&&F?(r.child=Rn(r,t.child,null,S),r.child=Rn(r,null,Y,S)):Et(t,r,Y,S),r.memoizedState=m.state,O&&Ou(r,o,!0),r.child}function yc(t){var r=t.stateNode;r.pendingContext?Eu(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Eu(t,r.context,!1),co(t,r.containerInfo)}function xc(t,r,o,m,O){return In(),no(O),r.flags|=256,Et(t,r,o,m),r.child}var Mo={dehydrated:null,treeContext:null,retryLane:0};function Io(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ec(t,r,o){var m=r.pendingProps,O=Ve.current,S=!1,F=(r.flags&128)!==0,Y;if((Y=F)||(Y=t!==null&&t.memoizedState===null?!1:(O&2)!==0),Y?(S=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(O|=1),He(Ve,O&1),t===null)return ro(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(F=m.children,t=m.fallback,S?(m=r.mode,S=r.child,F={mode:"hidden",children:F},(m&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=F):S=Za(F,m,0,null),t=un(t,m,o,null),S.return=r,t.return=r,S.sibling=t,r.child=S,r.child.memoizedState=Io(o),r.memoizedState=Mo,t):Ro(r,F));if(O=t.memoizedState,O!==null&&(Y=O.dehydrated,Y!==null))return Vf(t,r,F,m,Y,O,o);if(S){S=m.fallback,F=r.mode,O=t.child,Y=O.sibling;var Z={mode:"hidden",children:m.children};return(F&1)===0&&r.child!==O?(m=r.child,m.childLanes=0,m.pendingProps=Z,r.deletions=null):(m=Br(O,Z),m.subtreeFlags=O.subtreeFlags&14680064),Y!==null?S=Br(Y,S):(S=un(S,F,o,null),S.flags|=2),S.return=r,m.return=r,m.sibling=S,r.child=m,m=S,S=r.child,F=t.child.memoizedState,F=F===null?Io(o):{baseLanes:F.baseLanes|o,cachePool:null,transitions:F.transitions},S.memoizedState=F,S.childLanes=t.childLanes&~o,r.memoizedState=Mo,m}return S=t.child,t=S.sibling,m=Br(S,{mode:"visible",children:m.children}),(r.mode&1)===0&&(m.lanes=o),m.return=r,m.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=m,r.memoizedState=null,m}function Ro(t,r){return r=Za({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Ba(t,r,o,m){return m!==null&&no(m),Rn(r,t.child,null,o),t=Ro(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Vf(t,r,o,m,O,S,F){if(o)return r.flags&256?(r.flags&=-257,m=Co(Error(D(422))),Ba(t,r,F,m)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(S=m.fallback,O=r.mode,m=Za({mode:"visible",children:m.children},O,0,null),S=un(S,O,F,null),S.flags|=2,m.return=r,S.return=r,m.sibling=S,r.child=m,(r.mode&1)!==0&&Rn(r,t.child,null,F),r.child.memoizedState=Io(F),r.memoizedState=Mo,S);if((r.mode&1)===0)return Ba(t,r,F,null);if(O.data==="$!"){if(m=O.nextSibling&&O.nextSibling.dataset,m)var Y=m.dgst;return m=Y,S=Error(D(419)),m=Co(S,m,void 0),Ba(t,r,F,m)}if(Y=(F&t.childLanes)!==0,Tt||Y){if(m=lt,m!==null){switch(F&-F){case 4:O=2;break;case 16:O=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:O=32;break;case 536870912:O=268435456;break;default:O=0}O=(O&(m.suspendedLanes|F))!==0?0:O,O!==0&&O!==S.retryLane&&(S.retryLane=O,lr(t,O),Vt(m,t,O,-1))}return Jo(),m=Co(Error(D(421))),Ba(t,r,F,m)}return O.data==="$?"?(r.flags|=128,r.child=t.child,r=ch.bind(null,t),O._reactRetry=r,null):(t=S.treeContext,Ut=Sr(O.nextSibling),wt=r,Xe=!0,Jt=null,t!==null&&(Wt[Kt++]=ir,Wt[Kt++]=or,Wt[Kt++]=_r,ir=t.id,or=t.overflow,_r=r),r=Ro(r,m.children),r.flags|=4096,r)}function jc(t,r,o){t.lanes|=r;var m=t.alternate;m!==null&&(m.lanes|=r),oo(t.return,r,o)}function Ao(t,r,o,m,O){var S=t.memoizedState;S===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:m,tail:o,tailMode:O}:(S.isBackwards=r,S.rendering=null,S.renderingStartTime=0,S.last=m,S.tail=o,S.tailMode=O)}function Oc(t,r,o){var m=r.pendingProps,O=m.revealOrder,S=m.tail;if(Et(t,r,m.children,o),m=Ve.current,(m&2)!==0)m=m&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jc(t,o,r);else if(t.tag===19)jc(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}m&=1}if(He(Ve,m),(r.mode&1)===0)r.memoizedState=null;else switch(O){case"forwards":for(o=r.child,O=null;o!==null;)t=o.alternate,t!==null&&Ia(t)===null&&(O=o),o=o.sibling;o=O,o===null?(O=r.child,r.child=null):(O=o.sibling,o.sibling=null),Ao(r,!1,O,o,S);break;case"backwards":for(o=null,O=r.child,r.child=null;O!==null;){if(t=O.alternate,t!==null&&Ia(t)===null){r.child=O;break}t=O.sibling,O.sibling=o,o=O,O=t}Ao(r,!0,o,null,S);break;case"together":Ao(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Wa(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function cr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),sn|=r.lanes,(o&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(D(153));if(r.child!==null){for(t=r.child,o=Br(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Br(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function qf(t,r,o){switch(r.tag){case 3:yc(r),In();break;case 5:bu(r);break;case 1:St(r.type)&&Ea(r);break;case 4:co(r,r.stateNode.containerInfo);break;case 10:var m=r.type._context,O=r.memoizedProps.value;He(Sa,m._currentValue),m._currentValue=O;break;case 13:if(m=r.memoizedState,m!==null)return m.dehydrated!==null?(He(Ve,Ve.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?Ec(t,r,o):(He(Ve,Ve.current&1),t=cr(t,r,o),t!==null?t.sibling:null);He(Ve,Ve.current&1);break;case 19:if(m=(o&r.childLanes)!==0,(t.flags&128)!==0){if(m)return Oc(t,r,o);r.flags|=128}if(O=r.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),He(Ve,Ve.current),m)break;return null;case 22:case 23:return r.lanes=0,mc(t,r,o)}return cr(t,r,o)}var Nc,wo,Pc,Cc;Nc=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},wo=function(){},Pc=function(t,r,o,m){var O=t.memoizedProps;if(O!==m){t=r.stateNode,rn(tr.current);var S=null;switch(o){case"input":O=oe(t,O),m=oe(t,m),S=[];break;case"select":O=L({},O,{value:void 0}),m=L({},m,{value:void 0}),S=[];break;case"textarea":O=Nt(t,O),m=Nt(t,m),S=[];break;default:typeof O.onClick!="function"&&typeof m.onClick=="function"&&(t.onclick=pa)}Ae(o,m);var F;o=null;for(re in O)if(!m.hasOwnProperty(re)&&O.hasOwnProperty(re)&&O[re]!=null)if(re==="style"){var Y=O[re];for(F in Y)Y.hasOwnProperty(F)&&(o||(o={}),o[F]="")}else re!=="dangerouslySetInnerHTML"&&re!=="children"&&re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&re!=="autoFocus"&&(a.hasOwnProperty(re)?S||(S=[]):(S=S||[]).push(re,null));for(re in m){var Z=m[re];if(Y=O?.[re],m.hasOwnProperty(re)&&Z!==Y&&(Z!=null||Y!=null))if(re==="style")if(Y){for(F in Y)!Y.hasOwnProperty(F)||Z&&Z.hasOwnProperty(F)||(o||(o={}),o[F]="");for(F in Z)Z.hasOwnProperty(F)&&Y[F]!==Z[F]&&(o||(o={}),o[F]=Z[F])}else o||(S||(S=[]),S.push(re,o)),o=Z;else re==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Y=Y?Y.__html:void 0,Z!=null&&Y!==Z&&(S=S||[]).push(re,Z)):re==="children"?typeof Z!="string"&&typeof Z!="number"||(S=S||[]).push(re,""+Z):re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&(a.hasOwnProperty(re)?(Z!=null&&re==="onScroll"&&Ge("scroll",t),S||Y===Z||(S=[])):(S=S||[]).push(re,Z))}o&&(S=S||[]).push("style",o);var re=S;(r.updateQueue=re)&&(r.flags|=4)}},Cc=function(t,r,o,m){o!==m&&(r.flags|=4)};function Cs(t,r){if(!Xe)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var m=null;o!==null;)o.alternate!==null&&(m=o),o=o.sibling;m===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:m.sibling=null}}function gt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,m=0;if(r)for(var O=t.child;O!==null;)o|=O.lanes|O.childLanes,m|=O.subtreeFlags&14680064,m|=O.flags&14680064,O.return=t,O=O.sibling;else for(O=t.child;O!==null;)o|=O.lanes|O.childLanes,m|=O.subtreeFlags,m|=O.flags,O.return=t,O=O.sibling;return t.subtreeFlags|=m,t.childLanes=o,r}function _f(t,r,o){var m=r.pendingProps;switch(eo(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(r),null;case 1:return St(r.type)&&xa(),gt(r),null;case 3:return m=r.stateNode,Un(),Je(Ct),Je(vt),vo(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(t===null||t.child===null)&&(Pa(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Jt!==null&&(Qo(Jt),Jt=null))),wo(t,r),gt(r),null;case 5:fo(r);var O=rn(Es.current);if(o=r.type,t!==null&&r.stateNode!=null)Pc(t,r,o,m,O),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!m){if(r.stateNode===null)throw Error(D(166));return gt(r),null}if(t=rn(tr.current),Pa(r)){m=r.stateNode,o=r.type;var S=r.memoizedProps;switch(m[er]=r,m[ms]=S,t=(r.mode&1)!==0,o){case"dialog":Ge("cancel",m),Ge("close",m);break;case"iframe":case"object":case"embed":Ge("load",m);break;case"video":case"audio":for(O=0;O<fs.length;O++)Ge(fs[O],m);break;case"source":Ge("error",m);break;case"img":case"image":case"link":Ge("error",m),Ge("load",m);break;case"details":Ge("toggle",m);break;case"input":ge(m,S),Ge("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!S.multiple},Ge("invalid",m);break;case"textarea":vr(m,S),Ge("invalid",m)}Ae(o,S),O=null;for(var F in S)if(S.hasOwnProperty(F)){var Y=S[F];F==="children"?typeof Y=="string"?m.textContent!==Y&&(S.suppressHydrationWarning!==!0&&ga(m.textContent,Y,t),O=["children",Y]):typeof Y=="number"&&m.textContent!==""+Y&&(S.suppressHydrationWarning!==!0&&ga(m.textContent,Y,t),O=["children",""+Y]):a.hasOwnProperty(F)&&Y!=null&&F==="onScroll"&&Ge("scroll",m)}switch(o){case"input":fe(m),Ye(m,S,!0);break;case"textarea":fe(m),_t(m);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(m.onclick=pa)}m=O,r.updateQueue=m,m!==null&&(r.flags|=4)}else{F=O.nodeType===9?O:O.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=yt(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=F.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof m.is=="string"?t=F.createElement(o,{is:m.is}):(t=F.createElement(o),o==="select"&&(F=t,m.multiple?F.multiple=!0:m.size&&(F.size=m.size))):t=F.createElementNS(t,o),t[er]=r,t[ms]=m,Nc(t,r,!1,!1),r.stateNode=t;e:{switch(F=Re(o,m),o){case"dialog":Ge("cancel",t),Ge("close",t),O=m;break;case"iframe":case"object":case"embed":Ge("load",t),O=m;break;case"video":case"audio":for(O=0;O<fs.length;O++)Ge(fs[O],t);O=m;break;case"source":Ge("error",t),O=m;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),O=m;break;case"details":Ge("toggle",t),O=m;break;case"input":ge(t,m),O=oe(t,m),Ge("invalid",t);break;case"option":O=m;break;case"select":t._wrapperState={wasMultiple:!!m.multiple},O=L({},m,{value:void 0}),Ge("invalid",t);break;case"textarea":vr(t,m),O=Nt(t,m),Ge("invalid",t);break;default:O=m}Ae(o,O),Y=O;for(S in Y)if(Y.hasOwnProperty(S)){var Z=Y[S];S==="style"?Be(t,Z):S==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&me(t,Z)):S==="children"?typeof Z=="string"?(o!=="textarea"||Z!=="")&&Ce(t,Z):typeof Z=="number"&&Ce(t,""+Z):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(a.hasOwnProperty(S)?Z!=null&&S==="onScroll"&&Ge("scroll",t):Z!=null&&T(t,S,Z,F))}switch(o){case"input":fe(t),Ye(t,m,!1);break;case"textarea":fe(t),_t(t);break;case"option":m.value!=null&&t.setAttribute("value",""+ie(m.value));break;case"select":t.multiple=!!m.multiple,S=m.value,S!=null?tt(t,!!m.multiple,S,!1):m.defaultValue!=null&&tt(t,!!m.multiple,m.defaultValue,!0);break;default:typeof O.onClick=="function"&&(t.onclick=pa)}switch(o){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return gt(r),null;case 6:if(t&&r.stateNode!=null)Cc(t,r,t.memoizedProps,m);else{if(typeof m!="string"&&r.stateNode===null)throw Error(D(166));if(o=rn(Es.current),rn(tr.current),Pa(r)){if(m=r.stateNode,o=r.memoizedProps,m[er]=r,(S=m.nodeValue!==o)&&(t=wt,t!==null))switch(t.tag){case 3:ga(m.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ga(m.nodeValue,o,(t.mode&1)!==0)}S&&(r.flags|=4)}else m=(o.nodeType===9?o:o.ownerDocument).createTextNode(m),m[er]=r,r.stateNode=m}return gt(r),null;case 13:if(Je(Ve),m=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&Ut!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Du(),In(),r.flags|=98560,S=!1;else if(S=Pa(r),m!==null&&m.dehydrated!==null){if(t===null){if(!S)throw Error(D(318));if(S=r.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(D(317));S[er]=r}else In(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;gt(r),S=!1}else Jt!==null&&(Qo(Jt),Jt=null),S=!0;if(!S)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(m=m!==null,m!==(t!==null&&t.memoizedState!==null)&&m&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(Ve.current&1)!==0?it===0&&(it=3):Jo())),r.updateQueue!==null&&(r.flags|=4),gt(r),null);case 4:return Un(),wo(t,r),t===null&&hs(r.stateNode.containerInfo),gt(r),null;case 10:return io(r.type._context),gt(r),null;case 17:return St(r.type)&&xa(),gt(r),null;case 19:if(Je(Ve),S=r.memoizedState,S===null)return gt(r),null;if(m=(r.flags&128)!==0,F=S.rendering,F===null)if(m)Cs(S,!1);else{if(it!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(F=Ia(t),F!==null){for(r.flags|=128,Cs(S,!1),m=F.updateQueue,m!==null&&(r.updateQueue=m,r.flags|=4),r.subtreeFlags=0,m=o,o=r.child;o!==null;)S=o,t=m,S.flags&=14680066,F=S.alternate,F===null?(S.childLanes=0,S.lanes=t,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=F.childLanes,S.lanes=F.lanes,S.child=F.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=F.memoizedProps,S.memoizedState=F.memoizedState,S.updateQueue=F.updateQueue,S.type=F.type,t=F.dependencies,S.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return He(Ve,Ve.current&1|2),r.child}t=t.sibling}S.tail!==null&&Ze()>Wn&&(r.flags|=128,m=!0,Cs(S,!1),r.lanes=4194304)}else{if(!m)if(t=Ia(F),t!==null){if(r.flags|=128,m=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Cs(S,!0),S.tail===null&&S.tailMode==="hidden"&&!F.alternate&&!Xe)return gt(r),null}else 2*Ze()-S.renderingStartTime>Wn&&o!==1073741824&&(r.flags|=128,m=!0,Cs(S,!1),r.lanes=4194304);S.isBackwards?(F.sibling=r.child,r.child=F):(o=S.last,o!==null?o.sibling=F:r.child=F,S.last=F)}return S.tail!==null?(r=S.tail,S.rendering=r,S.tail=r.sibling,S.renderingStartTime=Ze(),r.sibling=null,o=Ve.current,He(Ve,m?o&1|2:o&1),r):(gt(r),null);case 22:case 23:return Go(),m=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==m&&(r.flags|=8192),m&&(r.mode&1)!==0?(Lt&1073741824)!==0&&(gt(r),r.subtreeFlags&6&&(r.flags|=8192)):gt(r),null;case 24:return null;case 25:return null}throw Error(D(156,r.tag))}function eh(t,r){switch(eo(r),r.tag){case 1:return St(r.type)&&xa(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Un(),Je(Ct),Je(vt),vo(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return fo(r),null;case 13:if(Je(Ve),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(D(340));In()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Je(Ve),null;case 4:return Un(),null;case 10:return io(r.type._context),null;case 22:case 23:return Go(),null;case 24:return null;default:return null}}var Ka=!1,pt=!1,th=typeof WeakSet=="function"?WeakSet:Set,ye=null;function bn(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(m){_e(t,r,m)}else o.current=null}function Uo(t,r,o){try{o()}catch(m){_e(t,r,m)}}var Sc=!1;function rh(t,r){if(Hi=aa,t=su(),Bi(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var m=o.getSelection&&o.getSelection();if(m&&m.rangeCount!==0){o=m.anchorNode;var O=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{o.nodeType,S.nodeType}catch{o=null;break e}var F=0,Y=-1,Z=-1,re=0,ue=0,ce=t,le=null;t:for(;;){for(var pe;ce!==o||O!==0&&ce.nodeType!==3||(Y=F+O),ce!==S||m!==0&&ce.nodeType!==3||(Z=F+m),ce.nodeType===3&&(F+=ce.nodeValue.length),(pe=ce.firstChild)!==null;)le=ce,ce=pe;for(;;){if(ce===t)break t;if(le===o&&++re===O&&(Y=F),le===S&&++ue===m&&(Z=F),(pe=ce.nextSibling)!==null)break;ce=le,le=ce.parentNode}ce=pe}o=Y===-1||Z===-1?null:{start:Y,end:Z}}else o=null}o=o||{start:0,end:0}}else o=null;for(Gi={focusedElem:t,selectionRange:o},aa=!1,ye=r;ye!==null;)if(r=ye,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ye=t;else for(;ye!==null;){r=ye;try{var xe=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(xe!==null){var je=xe.memoizedProps,rt=xe.memoizedState,ee=r.stateNode,V=ee.getSnapshotBeforeUpdate(r.elementType===r.type?je:Yt(r.type,je),rt);ee.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var te=r.stateNode.containerInfo;te.nodeType===1?te.textContent="":te.nodeType===9&&te.documentElement&&te.removeChild(te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(de){_e(r,r.return,de)}if(t=r.sibling,t!==null){t.return=r.return,ye=t;break}ye=r.return}return xe=Sc,Sc=!1,xe}function Ss(t,r,o){var m=r.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var O=m=m.next;do{if((O.tag&t)===t){var S=O.destroy;O.destroy=void 0,S!==void 0&&Uo(r,o,S)}O=O.next}while(O!==m)}}function Fa(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var m=o.create;o.destroy=m()}o=o.next}while(o!==r)}}function Lo(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function Tc(t){var r=t.alternate;r!==null&&(t.alternate=null,Tc(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[er],delete r[ms],delete r[Zi],delete r[Wf],delete r[Kf])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Dc(t){return t.tag===5||t.tag===3||t.tag===4}function Mc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dc(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bo(t,r,o){var m=t.tag;if(m===5||m===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=pa));else if(m!==4&&(t=t.child,t!==null))for(bo(t,r,o),t=t.sibling;t!==null;)bo(t,r,o),t=t.sibling}function Bo(t,r,o){var m=t.tag;if(m===5||m===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(m!==4&&(t=t.child,t!==null))for(Bo(t,r,o),t=t.sibling;t!==null;)Bo(t,r,o),t=t.sibling}var dt=null,Xt=!1;function Ar(t,r,o){for(o=o.child;o!==null;)Ic(t,r,o),o=o.sibling}function Ic(t,r,o){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(xr,o)}catch{}switch(o.tag){case 5:pt||bn(o,r);case 6:var m=dt,O=Xt;dt=null,Ar(t,r,o),dt=m,Xt=O,dt!==null&&(Xt?(t=dt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):dt.removeChild(o.stateNode));break;case 18:dt!==null&&(Xt?(t=dt,o=o.stateNode,t.nodeType===8?Xi(t.parentNode,o):t.nodeType===1&&Xi(t,o),ss(t)):Xi(dt,o.stateNode));break;case 4:m=dt,O=Xt,dt=o.stateNode.containerInfo,Xt=!0,Ar(t,r,o),dt=m,Xt=O;break;case 0:case 11:case 14:case 15:if(!pt&&(m=o.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){O=m=m.next;do{var S=O,F=S.destroy;S=S.tag,F!==void 0&&((S&2)!==0||(S&4)!==0)&&Uo(o,r,F),O=O.next}while(O!==m)}Ar(t,r,o);break;case 1:if(!pt&&(bn(o,r),m=o.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=o.memoizedProps,m.state=o.memoizedState,m.componentWillUnmount()}catch(Y){_e(o,r,Y)}Ar(t,r,o);break;case 21:Ar(t,r,o);break;case 22:o.mode&1?(pt=(m=pt)||o.memoizedState!==null,Ar(t,r,o),pt=m):Ar(t,r,o);break;default:Ar(t,r,o)}}function Rc(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new th),r.forEach(function(m){var O=dh.bind(null,t,m);o.has(m)||(o.add(m),m.then(O,O))})}}function Zt(t,r){var o=r.deletions;if(o!==null)for(var m=0;m<o.length;m++){var O=o[m];try{var S=t,F=r,Y=F;e:for(;Y!==null;){switch(Y.tag){case 5:dt=Y.stateNode,Xt=!1;break e;case 3:dt=Y.stateNode.containerInfo,Xt=!0;break e;case 4:dt=Y.stateNode.containerInfo,Xt=!0;break e}Y=Y.return}if(dt===null)throw Error(D(160));Ic(S,F,O),dt=null,Xt=!1;var Z=O.alternate;Z!==null&&(Z.return=null),O.return=null}catch(re){_e(O,r,re)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Ac(r,t),r=r.sibling}function Ac(t,r){var o=t.alternate,m=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zt(r,t),nr(t),m&4){try{Ss(3,t,t.return),Fa(3,t)}catch(je){_e(t,t.return,je)}try{Ss(5,t,t.return)}catch(je){_e(t,t.return,je)}}break;case 1:Zt(r,t),nr(t),m&512&&o!==null&&bn(o,o.return);break;case 5:if(Zt(r,t),nr(t),m&512&&o!==null&&bn(o,o.return),t.flags&32){var O=t.stateNode;try{Ce(O,"")}catch(je){_e(t,t.return,je)}}if(m&4&&(O=t.stateNode,O!=null)){var S=t.memoizedProps,F=o!==null?o.memoizedProps:S,Y=t.type,Z=t.updateQueue;if(t.updateQueue=null,Z!==null)try{Y==="input"&&S.type==="radio"&&S.name!=null&&Ee(O,S),Re(Y,F);var re=Re(Y,S);for(F=0;F<Z.length;F+=2){var ue=Z[F],ce=Z[F+1];ue==="style"?Be(O,ce):ue==="dangerouslySetInnerHTML"?me(O,ce):ue==="children"?Ce(O,ce):T(O,ue,ce,re)}switch(Y){case"input":Ue(O,S);break;case"textarea":Qt(O,S);break;case"select":var le=O._wrapperState.wasMultiple;O._wrapperState.wasMultiple=!!S.multiple;var pe=S.value;pe!=null?tt(O,!!S.multiple,pe,!1):le!==!!S.multiple&&(S.defaultValue!=null?tt(O,!!S.multiple,S.defaultValue,!0):tt(O,!!S.multiple,S.multiple?[]:"",!1))}O[ms]=S}catch(je){_e(t,t.return,je)}}break;case 6:if(Zt(r,t),nr(t),m&4){if(t.stateNode===null)throw Error(D(162));O=t.stateNode,S=t.memoizedProps;try{O.nodeValue=S}catch(je){_e(t,t.return,je)}}break;case 3:if(Zt(r,t),nr(t),m&4&&o!==null&&o.memoizedState.isDehydrated)try{ss(r.containerInfo)}catch(je){_e(t,t.return,je)}break;case 4:Zt(r,t),nr(t);break;case 13:Zt(r,t),nr(t),O=t.child,O.flags&8192&&(S=O.memoizedState!==null,O.stateNode.isHidden=S,!S||O.alternate!==null&&O.alternate.memoizedState!==null||(Fo=Ze())),m&4&&Rc(t);break;case 22:if(ue=o!==null&&o.memoizedState!==null,t.mode&1?(pt=(re=pt)||ue,Zt(r,t),pt=re):Zt(r,t),nr(t),m&8192){if(re=t.memoizedState!==null,(t.stateNode.isHidden=re)&&!ue&&(t.mode&1)!==0)for(ye=t,ue=t.child;ue!==null;){for(ce=ye=ue;ye!==null;){switch(le=ye,pe=le.child,le.tag){case 0:case 11:case 14:case 15:Ss(4,le,le.return);break;case 1:bn(le,le.return);var xe=le.stateNode;if(typeof xe.componentWillUnmount=="function"){m=le,o=le.return;try{r=m,xe.props=r.memoizedProps,xe.state=r.memoizedState,xe.componentWillUnmount()}catch(je){_e(m,o,je)}}break;case 5:bn(le,le.return);break;case 22:if(le.memoizedState!==null){Lc(ce);continue}}pe!==null?(pe.return=le,ye=pe):Lc(ce)}ue=ue.sibling}e:for(ue=null,ce=t;;){if(ce.tag===5){if(ue===null){ue=ce;try{O=ce.stateNode,re?(S=O.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(Y=ce.stateNode,Z=ce.memoizedProps.style,F=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,Y.style.display=Fe("display",F))}catch(je){_e(t,t.return,je)}}}else if(ce.tag===6){if(ue===null)try{ce.stateNode.nodeValue=re?"":ce.memoizedProps}catch(je){_e(t,t.return,je)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===t)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===t)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===t)break e;ue===ce&&(ue=null),ce=ce.return}ue===ce&&(ue=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:Zt(r,t),nr(t),m&4&&Rc(t);break;case 21:break;default:Zt(r,t),nr(t)}}function nr(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(Dc(o)){var m=o;break e}o=o.return}throw Error(D(160))}switch(m.tag){case 5:var O=m.stateNode;m.flags&32&&(Ce(O,""),m.flags&=-33);var S=Mc(t);Bo(t,S,O);break;case 3:case 4:var F=m.stateNode.containerInfo,Y=Mc(t);bo(t,Y,F);break;default:throw Error(D(161))}}catch(Z){_e(t,t.return,Z)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function nh(t,r,o){ye=t,wc(t)}function wc(t,r,o){for(var m=(t.mode&1)!==0;ye!==null;){var O=ye,S=O.child;if(O.tag===22&&m){var F=O.memoizedState!==null||Ka;if(!F){var Y=O.alternate,Z=Y!==null&&Y.memoizedState!==null||pt;Y=Ka;var re=pt;if(Ka=F,(pt=Z)&&!re)for(ye=O;ye!==null;)F=ye,Z=F.child,F.tag===22&&F.memoizedState!==null?bc(O):Z!==null?(Z.return=F,ye=Z):bc(O);for(;S!==null;)ye=S,wc(S),S=S.sibling;ye=O,Ka=Y,pt=re}Uc(t)}else(O.subtreeFlags&8772)!==0&&S!==null?(S.return=O,ye=S):Uc(t)}}function Uc(t){for(;ye!==null;){var r=ye;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:pt||Fa(5,r);break;case 1:var m=r.stateNode;if(r.flags&4&&!pt)if(o===null)m.componentDidMount();else{var O=r.elementType===r.type?o.memoizedProps:Yt(r.type,o.memoizedProps);m.componentDidUpdate(O,o.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var S=r.updateQueue;S!==null&&Lu(r,S,m);break;case 3:var F=r.updateQueue;if(F!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Lu(r,F,o)}break;case 5:var Y=r.stateNode;if(o===null&&r.flags&4){o=Y;var Z=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&o.focus();break;case"img":Z.src&&(o.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var re=r.alternate;if(re!==null){var ue=re.memoizedState;if(ue!==null){var ce=ue.dehydrated;ce!==null&&ss(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}pt||r.flags&512&&Lo(r)}catch(le){_e(r,r.return,le)}}if(r===t){ye=null;break}if(o=r.sibling,o!==null){o.return=r.return,ye=o;break}ye=r.return}}function Lc(t){for(;ye!==null;){var r=ye;if(r===t){ye=null;break}var o=r.sibling;if(o!==null){o.return=r.return,ye=o;break}ye=r.return}}function bc(t){for(;ye!==null;){var r=ye;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{Fa(4,r)}catch(Z){_e(r,o,Z)}break;case 1:var m=r.stateNode;if(typeof m.componentDidMount=="function"){var O=r.return;try{m.componentDidMount()}catch(Z){_e(r,O,Z)}}var S=r.return;try{Lo(r)}catch(Z){_e(r,S,Z)}break;case 5:var F=r.return;try{Lo(r)}catch(Z){_e(r,F,Z)}}}catch(Z){_e(r,r.return,Z)}if(r===t){ye=null;break}var Y=r.sibling;if(Y!==null){Y.return=r.return,ye=Y;break}ye=r.return}}var sh=Math.ceil,ka=C.ReactCurrentDispatcher,Wo=C.ReactCurrentOwner,zt=C.ReactCurrentBatchConfig,ke=0,lt=null,st=null,ft=0,Lt=0,Bn=Tr(0),it=0,Ts=null,sn=0,za=0,Ko=0,Ds=null,Dt=null,Fo=0,Wn=1/0,dr=null,$a=!1,ko=null,wr=null,Qa=!1,Ur=null,Ha=0,Ms=0,zo=null,Ga=-1,Ja=0;function jt(){return(ke&6)!==0?Ze():Ga!==-1?Ga:Ga=Ze()}function Lr(t){return(t.mode&1)===0?1:(ke&2)!==0&&ft!==0?ft&-ft:kf.transition!==null?(Ja===0&&(Ja=ra()),Ja):(t=$e,t!==0||(t=window.event,t=t===void 0?16:Wl(t.type)),t)}function Vt(t,r,o,m){if(50<Ms)throw Ms=0,zo=null,Error(D(185));Zr(t,o,m),((ke&2)===0||t!==lt)&&(t===lt&&((ke&2)===0&&(za|=o),it===4&&br(t,ft)),Mt(t,m),o===1&&ke===0&&(r.mode&1)===0&&(Wn=Ze()+500,ja&&Mr()))}function Mt(t,r){var o=t.callbackNode;ji(t,r);var m=pn(t,t===lt?ft:0);if(m===0)o!==null&&qs(o),t.callbackNode=null,t.callbackPriority=0;else if(r=m&-m,t.callbackPriority!==r){if(o!=null&&qs(o),r===1)t.tag===0?Ff(Wc.bind(null,t)):Nu(Wc.bind(null,t)),bf(function(){(ke&6)===0&&Mr()}),o=null;else{switch(Il(m)){case 1:o=Vn;break;case 4:o=_s;break;case 16:o=mn;break;case 536870912:o=ea;break;default:o=mn}o=Gc(o,Bc.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Bc(t,r){if(Ga=-1,Ja=0,(ke&6)!==0)throw Error(D(327));var o=t.callbackNode;if(Kn()&&t.callbackNode!==o)return null;var m=pn(t,t===lt?ft:0);if(m===0)return null;if((m&30)!==0||(m&t.expiredLanes)!==0||r)r=Ya(t,m);else{r=m;var O=ke;ke|=2;var S=Fc();(lt!==t||ft!==r)&&(dr=null,Wn=Ze()+500,on(t,r));do try{oh();break}catch(Y){Kc(t,Y)}while(!0);ao(),ka.current=S,ke=O,st!==null?r=0:(lt=null,ft=0,r=it)}if(r!==0){if(r===2&&(O=qn(t),O!==0&&(m=O,r=$o(t,O))),r===1)throw o=Ts,on(t,0),br(t,m),Mt(t,Ze()),o;if(r===6)br(t,m);else{if(O=t.current.alternate,(m&30)===0&&!ah(O)&&(r=Ya(t,m),r===2&&(S=qn(t),S!==0&&(m=S,r=$o(t,S))),r===1))throw o=Ts,on(t,0),br(t,m),Mt(t,Ze()),o;switch(t.finishedWork=O,t.finishedLanes=m,r){case 0:case 1:throw Error(D(345));case 2:ln(t,Dt,dr);break;case 3:if(br(t,m),(m&130023424)===m&&(r=Fo+500-Ze(),10<r)){if(pn(t,0)!==0)break;if(O=t.suspendedLanes,(O&m)!==m){jt(),t.pingedLanes|=t.suspendedLanes&O;break}t.timeoutHandle=Yi(ln.bind(null,t,Dt,dr),r);break}ln(t,Dt,dr);break;case 4:if(br(t,m),(m&4194240)===m)break;for(r=t.eventTimes,O=-1;0<m;){var F=31-xt(m);S=1<<F,F=r[F],F>O&&(O=F),m&=~S}if(m=O,m=Ze()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*sh(m/1960))-m,10<m){t.timeoutHandle=Yi(ln.bind(null,t,Dt,dr),m);break}ln(t,Dt,dr);break;case 5:ln(t,Dt,dr);break;default:throw Error(D(329))}}}return Mt(t,Ze()),t.callbackNode===o?Bc.bind(null,t):null}function $o(t,r){var o=Ds;return t.current.memoizedState.isDehydrated&&(on(t,r).flags|=256),t=Ya(t,r),t!==2&&(r=Dt,Dt=o,r!==null&&Qo(r)),t}function Qo(t){Dt===null?Dt=t:Dt.push.apply(Dt,t)}function ah(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var m=0;m<o.length;m++){var O=o[m],S=O.getSnapshot;O=O.value;try{if(!Gt(S(),O))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function br(t,r){for(r&=~Ko,r&=~za,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-xt(r),m=1<<o;t[o]=-1,r&=~m}}function Wc(t){if((ke&6)!==0)throw Error(D(327));Kn();var r=pn(t,0);if((r&1)===0)return Mt(t,Ze()),null;var o=Ya(t,r);if(t.tag!==0&&o===2){var m=qn(t);m!==0&&(r=m,o=$o(t,m))}if(o===1)throw o=Ts,on(t,0),br(t,r),Mt(t,Ze()),o;if(o===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,ln(t,Dt,dr),Mt(t,Ze()),null}function Ho(t,r){var o=ke;ke|=1;try{return t(r)}finally{ke=o,ke===0&&(Wn=Ze()+500,ja&&Mr())}}function an(t){Ur!==null&&Ur.tag===0&&(ke&6)===0&&Kn();var r=ke;ke|=1;var o=zt.transition,m=$e;try{if(zt.transition=null,$e=1,t)return t()}finally{$e=m,zt.transition=o,ke=r,(ke&6)===0&&Mr()}}function Go(){Lt=Bn.current,Je(Bn)}function on(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Lf(o)),st!==null)for(o=st.return;o!==null;){var m=o;switch(eo(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&xa();break;case 3:Un(),Je(Ct),Je(vt),vo();break;case 5:fo(m);break;case 4:Un();break;case 13:Je(Ve);break;case 19:Je(Ve);break;case 10:io(m.type._context);break;case 22:case 23:Go()}o=o.return}if(lt=t,st=t=Br(t.current,null),ft=Lt=r,it=0,Ts=null,Ko=za=sn=0,Dt=Ds=null,tn!==null){for(r=0;r<tn.length;r++)if(o=tn[r],m=o.interleaved,m!==null){o.interleaved=null;var O=m.next,S=o.pending;if(S!==null){var F=S.next;S.next=O,m.next=F}o.pending=m}tn=null}return t}function Kc(t,r){do{var o=st;try{if(ao(),Ra.current=La,Aa){for(var m=qe.memoizedState;m!==null;){var O=m.queue;O!==null&&(O.pending=null),m=m.next}Aa=!1}if(nn=0,ot=at=qe=null,js=!1,Os=0,Wo.current=null,o===null||o.return===null){it=1,Ts=r,st=null;break}e:{var S=t,F=o.return,Y=o,Z=r;if(r=ft,Y.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var re=Z,ue=Y,ce=ue.tag;if((ue.mode&1)===0&&(ce===0||ce===11||ce===15)){var le=ue.alternate;le?(ue.updateQueue=le.updateQueue,ue.memoizedState=le.memoizedState,ue.lanes=le.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var pe=cc(F);if(pe!==null){pe.flags&=-257,dc(pe,F,Y,S,r),pe.mode&1&&uc(S,re,r),r=pe,Z=re;var xe=r.updateQueue;if(xe===null){var je=new Set;je.add(Z),r.updateQueue=je}else xe.add(Z);break e}else{if((r&1)===0){uc(S,re,r),Jo();break e}Z=Error(D(426))}}else if(Xe&&Y.mode&1){var rt=cc(F);if(rt!==null){(rt.flags&65536)===0&&(rt.flags|=256),dc(rt,F,Y,S,r),no(Ln(Z,Y));break e}}S=Z=Ln(Z,Y),it!==4&&(it=2),Ds===null?Ds=[S]:Ds.push(S),S=F;do{switch(S.tag){case 3:S.flags|=65536,r&=-r,S.lanes|=r;var ee=oc(S,Z,r);Uu(S,ee);break e;case 1:Y=Z;var V=S.type,te=S.stateNode;if((S.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||te!==null&&typeof te.componentDidCatch=="function"&&(wr===null||!wr.has(te)))){S.flags|=65536,r&=-r,S.lanes|=r;var de=lc(S,Y,r);Uu(S,de);break e}}S=S.return}while(S!==null)}zc(o)}catch(Ne){r=Ne,st===o&&o!==null&&(st=o=o.return);continue}break}while(!0)}function Fc(){var t=ka.current;return ka.current=La,t===null?La:t}function Jo(){(it===0||it===3||it===2)&&(it=4),lt===null||(sn&268435455)===0&&(za&268435455)===0||br(lt,ft)}function Ya(t,r){var o=ke;ke|=2;var m=Fc();(lt!==t||ft!==r)&&(dr=null,on(t,r));do try{ih();break}catch(O){Kc(t,O)}while(!0);if(ao(),ke=o,ka.current=m,st!==null)throw Error(D(261));return lt=null,ft=0,it}function ih(){for(;st!==null;)kc(st)}function oh(){for(;st!==null&&!hi();)kc(st)}function kc(t){var r=Hc(t.alternate,t,Lt);t.memoizedProps=t.pendingProps,r===null?zc(t):st=r,Wo.current=null}function zc(t){var r=t;do{var o=r.alternate;if(t=r.return,(r.flags&32768)===0){if(o=_f(o,r,Lt),o!==null){st=o;return}}else{if(o=eh(o,r),o!==null){o.flags&=32767,st=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{it=6,st=null;return}}if(r=r.sibling,r!==null){st=r;return}st=r=t}while(r!==null);it===0&&(it=5)}function ln(t,r,o){var m=$e,O=zt.transition;try{zt.transition=null,$e=1,lh(t,r,o,m)}finally{zt.transition=O,$e=m}return null}function lh(t,r,o,m){do Kn();while(Ur!==null);if((ke&6)!==0)throw Error(D(327));o=t.finishedWork;var O=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var S=o.lanes|o.childLanes;if(Oi(t,S),t===lt&&(st=lt=null,ft=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Qa||(Qa=!0,Gc(mn,function(){return Kn(),null})),S=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||S){S=zt.transition,zt.transition=null;var F=$e;$e=1;var Y=ke;ke|=4,Wo.current=null,rh(t,o),Ac(o,t),Df(Gi),aa=!!Hi,Gi=Hi=null,t.current=o,nh(o),vi(),ke=Y,$e=F,zt.transition=S}else t.current=o;if(Qa&&(Qa=!1,Ur=t,Ha=O),S=t.pendingLanes,S===0&&(wr=null),pi(o.stateNode),Mt(t,Ze()),r!==null)for(m=t.onRecoverableError,o=0;o<r.length;o++)O=r[o],m(O.value,{componentStack:O.stack,digest:O.digest});if($a)throw $a=!1,t=ko,ko=null,t;return(Ha&1)!==0&&t.tag!==0&&Kn(),S=t.pendingLanes,(S&1)!==0?t===zo?Ms++:(Ms=0,zo=t):Ms=0,Mr(),null}function Kn(){if(Ur!==null){var t=Il(Ha),r=zt.transition,o=$e;try{if(zt.transition=null,$e=16>t?16:t,Ur===null)var m=!1;else{if(t=Ur,Ur=null,Ha=0,(ke&6)!==0)throw Error(D(331));var O=ke;for(ke|=4,ye=t.current;ye!==null;){var S=ye,F=S.child;if((ye.flags&16)!==0){var Y=S.deletions;if(Y!==null){for(var Z=0;Z<Y.length;Z++){var re=Y[Z];for(ye=re;ye!==null;){var ue=ye;switch(ue.tag){case 0:case 11:case 15:Ss(8,ue,S)}var ce=ue.child;if(ce!==null)ce.return=ue,ye=ce;else for(;ye!==null;){ue=ye;var le=ue.sibling,pe=ue.return;if(Tc(ue),ue===re){ye=null;break}if(le!==null){le.return=pe,ye=le;break}ye=pe}}}var xe=S.alternate;if(xe!==null){var je=xe.child;if(je!==null){xe.child=null;do{var rt=je.sibling;je.sibling=null,je=rt}while(je!==null)}}ye=S}}if((S.subtreeFlags&2064)!==0&&F!==null)F.return=S,ye=F;else e:for(;ye!==null;){if(S=ye,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:Ss(9,S,S.return)}var ee=S.sibling;if(ee!==null){ee.return=S.return,ye=ee;break e}ye=S.return}}var V=t.current;for(ye=V;ye!==null;){F=ye;var te=F.child;if((F.subtreeFlags&2064)!==0&&te!==null)te.return=F,ye=te;else e:for(F=V;ye!==null;){if(Y=ye,(Y.flags&2048)!==0)try{switch(Y.tag){case 0:case 11:case 15:Fa(9,Y)}}catch(Ne){_e(Y,Y.return,Ne)}if(Y===F){ye=null;break e}var de=Y.sibling;if(de!==null){de.return=Y.return,ye=de;break e}ye=Y.return}}if(ke=O,Mr(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(xr,t)}catch{}m=!0}return m}finally{$e=o,zt.transition=r}}return!1}function $c(t,r,o){r=Ln(o,r),r=oc(t,r,1),t=Rr(t,r,1),r=jt(),t!==null&&(Zr(t,1,r),Mt(t,r))}function _e(t,r,o){if(t.tag===3)$c(t,t,o);else for(;r!==null;){if(r.tag===3){$c(r,t,o);break}else if(r.tag===1){var m=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(wr===null||!wr.has(m))){t=Ln(o,t),t=lc(r,t,1),r=Rr(r,t,1),t=jt(),r!==null&&(Zr(r,1,t),Mt(r,t));break}}r=r.return}}function uh(t,r,o){var m=t.pingCache;m!==null&&m.delete(r),r=jt(),t.pingedLanes|=t.suspendedLanes&o,lt===t&&(ft&o)===o&&(it===4||it===3&&(ft&130023424)===ft&&500>Ze()-Fo?on(t,0):Ko|=o),Mt(t,r)}function Qc(t,r){r===0&&((t.mode&1)===0?r=1:(r=gn,gn<<=1,(gn&130023424)===0&&(gn=4194304)));var o=jt();t=lr(t,r),t!==null&&(Zr(t,r,o),Mt(t,o))}function ch(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Qc(t,o)}function dh(t,r){var o=0;switch(t.tag){case 13:var m=t.stateNode,O=t.memoizedState;O!==null&&(o=O.retryLane);break;case 19:m=t.stateNode;break;default:throw Error(D(314))}m!==null&&m.delete(r),Qc(t,o)}var Hc;Hc=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||Ct.current)Tt=!0;else{if((t.lanes&o)===0&&(r.flags&128)===0)return Tt=!1,qf(t,r,o);Tt=(t.flags&131072)!==0}else Tt=!1,Xe&&(r.flags&1048576)!==0&&Pu(r,Na,r.index);switch(r.lanes=0,r.tag){case 2:var m=r.type;Wa(t,r),t=r.pendingProps;var O=Tn(r,vt.current);wn(r,o),O=po(null,r,m,t,O,o);var S=yo();return r.flags|=1,typeof O=="object"&&O!==null&&typeof O.render=="function"&&O.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,St(m)?(S=!0,Ea(r)):S=!1,r.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,uo(r),O.updater=ba,r.stateNode=O,O._reactInternals=r,Po(r,m,t,o),r=Do(null,r,m,!0,S,o)):(r.tag=0,Xe&&S&&_i(r),Et(null,r,O,o),r=r.child),r;case 16:m=r.elementType;e:{switch(Wa(t,r),t=r.pendingProps,O=m._init,m=O(m._payload),r.type=m,O=r.tag=hh(m),t=Yt(m,t),O){case 0:r=To(null,r,m,t,o);break e;case 1:r=pc(null,r,m,t,o);break e;case 11:r=fc(null,r,m,t,o);break e;case 14:r=hc(null,r,m,Yt(m.type,t),o);break e}throw Error(D(306,m,""))}return r;case 0:return m=r.type,O=r.pendingProps,O=r.elementType===m?O:Yt(m,O),To(t,r,m,O,o);case 1:return m=r.type,O=r.pendingProps,O=r.elementType===m?O:Yt(m,O),pc(t,r,m,O,o);case 3:e:{if(yc(r),t===null)throw Error(D(387));m=r.pendingProps,S=r.memoizedState,O=S.element,wu(t,r),Ma(r,m,null,o);var F=r.memoizedState;if(m=F.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},r.updateQueue.baseState=S,r.memoizedState=S,r.flags&256){O=Ln(Error(D(423)),r),r=xc(t,r,m,o,O);break e}else if(m!==O){O=Ln(Error(D(424)),r),r=xc(t,r,m,o,O);break e}else for(Ut=Sr(r.stateNode.containerInfo.firstChild),wt=r,Xe=!0,Jt=null,o=Ru(r,null,m,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(In(),m===O){r=cr(t,r,o);break e}Et(t,r,m,o)}r=r.child}return r;case 5:return bu(r),t===null&&ro(r),m=r.type,O=r.pendingProps,S=t!==null?t.memoizedProps:null,F=O.children,Ji(m,O)?F=null:S!==null&&Ji(m,S)&&(r.flags|=32),gc(t,r),Et(t,r,F,o),r.child;case 6:return t===null&&ro(r),null;case 13:return Ec(t,r,o);case 4:return co(r,r.stateNode.containerInfo),m=r.pendingProps,t===null?r.child=Rn(r,null,m,o):Et(t,r,m,o),r.child;case 11:return m=r.type,O=r.pendingProps,O=r.elementType===m?O:Yt(m,O),fc(t,r,m,O,o);case 7:return Et(t,r,r.pendingProps,o),r.child;case 8:return Et(t,r,r.pendingProps.children,o),r.child;case 12:return Et(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(m=r.type._context,O=r.pendingProps,S=r.memoizedProps,F=O.value,He(Sa,m._currentValue),m._currentValue=F,S!==null)if(Gt(S.value,F)){if(S.children===O.children&&!Ct.current){r=cr(t,r,o);break e}}else for(S=r.child,S!==null&&(S.return=r);S!==null;){var Y=S.dependencies;if(Y!==null){F=S.child;for(var Z=Y.firstContext;Z!==null;){if(Z.context===m){if(S.tag===1){Z=ur(-1,o&-o),Z.tag=2;var re=S.updateQueue;if(re!==null){re=re.shared;var ue=re.pending;ue===null?Z.next=Z:(Z.next=ue.next,ue.next=Z),re.pending=Z}}S.lanes|=o,Z=S.alternate,Z!==null&&(Z.lanes|=o),oo(S.return,o,r),Y.lanes|=o;break}Z=Z.next}}else if(S.tag===10)F=S.type===r.type?null:S.child;else if(S.tag===18){if(F=S.return,F===null)throw Error(D(341));F.lanes|=o,Y=F.alternate,Y!==null&&(Y.lanes|=o),oo(F,o,r),F=S.sibling}else F=S.child;if(F!==null)F.return=S;else for(F=S;F!==null;){if(F===r){F=null;break}if(S=F.sibling,S!==null){S.return=F.return,F=S;break}F=F.return}S=F}Et(t,r,O.children,o),r=r.child}return r;case 9:return O=r.type,m=r.pendingProps.children,wn(r,o),O=Ft(O),m=m(O),r.flags|=1,Et(t,r,m,o),r.child;case 14:return m=r.type,O=Yt(m,r.pendingProps),O=Yt(m.type,O),hc(t,r,m,O,o);case 15:return vc(t,r,r.type,r.pendingProps,o);case 17:return m=r.type,O=r.pendingProps,O=r.elementType===m?O:Yt(m,O),Wa(t,r),r.tag=1,St(m)?(t=!0,Ea(r)):t=!1,wn(r,o),ac(r,m,O),Po(r,m,O,o),Do(null,r,m,!0,t,o);case 19:return Oc(t,r,o);case 22:return mc(t,r,o)}throw Error(D(156,r.tag))};function Gc(t,r){return Vs(t,r)}function fh(t,r,o,m){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(t,r,o,m){return new fh(t,r,o,m)}function Yo(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hh(t){if(typeof t=="function")return Yo(t)?1:0;if(t!=null){if(t=t.$$typeof,t===M)return 11;if(t===G)return 14}return 2}function Br(t,r){var o=t.alternate;return o===null?(o=$t(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Xa(t,r,o,m,O,S){var F=2;if(m=t,typeof t=="function")Yo(t)&&(F=1);else if(typeof t=="string")F=5;else e:switch(t){case A:return un(o.children,O,S,r);case w:F=8,O|=8;break;case P:return t=$t(12,o,r,O|2),t.elementType=P,t.lanes=S,t;case W:return t=$t(13,o,r,O),t.elementType=W,t.lanes=S,t;case Q:return t=$t(19,o,r,O),t.elementType=Q,t.lanes=S,t;case J:return Za(o,O,S,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case N:F=10;break e;case E:F=9;break e;case M:F=11;break e;case G:F=14;break e;case H:F=16,m=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return r=$t(F,o,r,O),r.elementType=t,r.type=m,r.lanes=S,r}function un(t,r,o,m){return t=$t(7,t,m,r),t.lanes=o,t}function Za(t,r,o,m){return t=$t(22,t,m,r),t.elementType=J,t.lanes=o,t.stateNode={isHidden:!1},t}function Xo(t,r,o){return t=$t(6,t,null,r),t.lanes=o,t}function Zo(t,r,o){return r=$t(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function vh(t,r,o,m,O){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_n(0),this.expirationTimes=_n(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_n(0),this.identifierPrefix=m,this.onRecoverableError=O,this.mutableSourceEagerHydrationData=null}function Vo(t,r,o,m,O,S,F,Y,Z){return t=new vh(t,r,o,Y,Z),r===1?(r=1,S===!0&&(r|=8)):r=0,S=$t(3,null,null,r),t.current=S,S.stateNode=t,S.memoizedState={element:m,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},uo(S),t}function mh(t,r,o){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:m==null?null:""+m,children:t,containerInfo:r,implementation:o}}function Jc(t){if(!t)return Dr;t=t._reactInternals;e:{if(Ht(t)!==t||t.tag!==1)throw Error(D(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(St(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(D(171))}if(t.tag===1){var o=t.type;if(St(o))return ju(t,o,r)}return r}function Yc(t,r,o,m,O,S,F,Y,Z){return t=Vo(o,m,!0,t,O,S,F,Y,Z),t.context=Jc(null),o=t.current,m=jt(),O=Lr(o),S=ur(m,O),S.callback=r??null,Rr(o,S,O),t.current.lanes=O,Zr(t,O,m),Mt(t,m),t}function Va(t,r,o,m){var O=r.current,S=jt(),F=Lr(O);return o=Jc(o),r.context===null?r.context=o:r.pendingContext=o,r=ur(S,F),r.payload={element:t},m=m===void 0?null:m,m!==null&&(r.callback=m),t=Rr(O,r,F),t!==null&&(Vt(t,O,F,S),Da(t,O,F)),F}function qa(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Xc(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function qo(t,r){Xc(t,r),(t=t.alternate)&&Xc(t,r)}function gh(){return null}var Zc=typeof reportError=="function"?reportError:function(t){console.error(t)};function _o(t){this._internalRoot=t}_a.prototype.render=_o.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(D(409));Va(t,r,null,null)},_a.prototype.unmount=_o.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;an(function(){Va(null,t,null,null)}),r[sr]=null}};function _a(t){this._internalRoot=t}_a.prototype.unstable_scheduleHydration=function(t){if(t){var r=wl();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Nr.length&&r!==0&&r<Nr[o].priority;o++);Nr.splice(o,0,t),o===0&&bl(t)}};function el(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ei(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Vc(){}function ph(t,r,o,m,O){if(O){if(typeof m=="function"){var S=m;m=function(){var re=qa(F);S.call(re)}}var F=Yc(r,m,t,0,null,!1,!1,"",Vc);return t._reactRootContainer=F,t[sr]=F.current,hs(t.nodeType===8?t.parentNode:t),an(),F}for(;O=t.lastChild;)t.removeChild(O);if(typeof m=="function"){var Y=m;m=function(){var re=qa(Z);Y.call(re)}}var Z=Vo(t,0,!1,null,null,!1,!1,"",Vc);return t._reactRootContainer=Z,t[sr]=Z.current,hs(t.nodeType===8?t.parentNode:t),an(function(){Va(r,Z,o,m)}),Z}function ti(t,r,o,m,O){var S=o._reactRootContainer;if(S){var F=S;if(typeof O=="function"){var Y=O;O=function(){var Z=qa(F);Y.call(Z)}}Va(r,F,t,O)}else F=ph(o,r,t,O,m);return qa(F)}Rl=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Xr(r.pendingLanes);o!==0&&(Ni(r,o|1),Mt(r,Ze()),(ke&6)===0&&(Wn=Ze()+500,Mr()))}break;case 13:an(function(){var m=lr(t,1);if(m!==null){var O=jt();Vt(m,t,1,O)}}),qo(t,1)}},Pi=function(t){if(t.tag===13){var r=lr(t,134217728);if(r!==null){var o=jt();Vt(r,t,134217728,o)}qo(t,134217728)}},Al=function(t){if(t.tag===13){var r=Lr(t),o=lr(t,r);if(o!==null){var m=jt();Vt(o,t,r,m)}qo(t,r)}},wl=function(){return $e},Ul=function(t,r){var o=$e;try{return $e=t,r()}finally{$e=o}},Qr=function(t,r,o){switch(r){case"input":if(Ue(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var m=o[r];if(m!==t&&m.form===t.form){var O=ya(m);if(!O)throw Error(D(90));se(m),Ue(m,O)}}}break;case"textarea":Qt(t,o);break;case"select":r=o.value,r!=null&&tt(t,!!o.multiple,r,!1)}},ks=Ho,zs=an;var yh={usingClientEntryPoint:!1,Events:[gs,Cn,ya,Ks,Fs,Ho]},Is={findFiberByHostInstance:Vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xh={bundleType:Is.bundleType,version:Is.version,rendererPackageName:Is.rendererPackageName,rendererConfig:Is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Xs(t),t===null?null:t.stateNode},findFiberByHostInstance:Is.findFiberByHostInstance||gh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ri=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ri.isDisabled&&ri.supportsFiber)try{xr=ri.inject(xh),Bt=ri}catch{}}return It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yh,It.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!el(r))throw Error(D(200));return mh(t,r,null,o)},It.createRoot=function(t,r){if(!el(t))throw Error(D(299));var o=!1,m="",O=Zc;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(m=r.identifierPrefix),r.onRecoverableError!==void 0&&(O=r.onRecoverableError)),r=Vo(t,1,!1,null,null,o,!1,m,O),t[sr]=r.current,hs(t.nodeType===8?t.parentNode:t),new _o(r)},It.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=Xs(r),t=t===null?null:t.stateNode,t},It.flushSync=function(t){return an(t)},It.hydrate=function(t,r,o){if(!ei(r))throw Error(D(200));return ti(null,t,r,!0,o)},It.hydrateRoot=function(t,r,o){if(!el(t))throw Error(D(405));var m=o!=null&&o.hydratedSources||null,O=!1,S="",F=Zc;if(o!=null&&(o.unstable_strictMode===!0&&(O=!0),o.identifierPrefix!==void 0&&(S=o.identifierPrefix),o.onRecoverableError!==void 0&&(F=o.onRecoverableError)),r=Yc(r,null,t,1,o??null,O,!1,S,F),t[sr]=r.current,hs(t),m)for(t=0;t<m.length;t++)o=m[t],O=o._getVersion,O=O(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,O]:r.mutableSourceEagerHydrationData.push(o,O);return new _a(r)},It.render=function(t,r,o){if(!ei(r))throw Error(D(200));return ti(null,t,r,!1,o)},It.unmountComponentAtNode=function(t){if(!ei(t))throw Error(D(40));return t._reactRootContainer?(an(function(){ti(null,null,t,!1,function(){t._reactRootContainer=null,t[sr]=null})}),!0):!1},It.unstable_batchedUpdates=Ho,It.unstable_renderSubtreeIntoContainer=function(t,r,o,m){if(!ei(o))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return ti(t,r,o,!1,m)},It.version="18.3.1-next-f1338f8080-20240426",It}var ad;function xd(){if(ad)return nl.exports;ad=1;function b(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b)}catch(R){console.error(R)}}return b(),nl.exports=Dh(),nl.exports}var id;function Mh(){if(id)return ni;id=1;var b=xd();return ni.createRoot=b.createRoot,ni.hydrateRoot=b.hydrateRoot,ni}var Ih=Mh();const Rh=yl(Ih);xd();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Us(){return Us=Object.assign?Object.assign.bind():function(b){for(var R=1;R<arguments.length;R++){var D=arguments[R];for(var i in D)Object.prototype.hasOwnProperty.call(D,i)&&(b[i]=D[i])}return b},Us.apply(this,arguments)}var Fr;(function(b){b.Pop="POP",b.Push="PUSH",b.Replace="REPLACE"})(Fr||(Fr={}));const od="popstate";function Ah(b){b===void 0&&(b={});function R(a,e){let{pathname:n="/",search:s="",hash:u=""}=cn(a.location.hash.substr(1));return!n.startsWith("/")&&!n.startsWith(".")&&(n="/"+n),dl("",{pathname:n,search:s,hash:u},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}function D(a,e){let n=a.document.querySelector("base"),s="";if(n&&n.getAttribute("href")){let u=a.location.href,c=u.indexOf("#");s=c===-1?u:u.slice(0,c)}return s+"#"+(typeof e=="string"?e:li(e))}function i(a,e){El(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(e)+")")}return Uh(R,D,i,b)}function nt(b,R){if(b===!1||b===null||typeof b>"u")throw new Error(R)}function El(b,R){if(!b){typeof console<"u"&&console.warn(R);try{throw new Error(R)}catch{}}}function wh(){return Math.random().toString(36).substr(2,8)}function ld(b,R){return{usr:b.state,key:b.key,idx:R}}function dl(b,R,D,i){return D===void 0&&(D=null),Us({pathname:typeof b=="string"?b:b.pathname,search:"",hash:""},typeof R=="string"?cn(R):R,{state:D,key:R&&R.key||i||wh()})}function li(b){let{pathname:R="/",search:D="",hash:i=""}=b;return D&&D!=="?"&&(R+=D.charAt(0)==="?"?D:"?"+D),i&&i!=="#"&&(R+=i.charAt(0)==="#"?i:"#"+i),R}function cn(b){let R={};if(b){let D=b.indexOf("#");D>=0&&(R.hash=b.substr(D),b=b.substr(0,D));let i=b.indexOf("?");i>=0&&(R.search=b.substr(i),b=b.substr(0,i)),b&&(R.pathname=b)}return R}function Uh(b,R,D,i){i===void 0&&(i={});let{window:a=document.defaultView,v5Compat:e=!1}=i,n=a.history,s=Fr.Pop,u=null,c=d();c==null&&(c=0,n.replaceState(Us({},n.state,{idx:c}),""));function d(){return(n.state||{idx:null}).idx}function v(){s=Fr.Pop;let x=d(),p=x==null?null:x-c;c=x,u&&u({action:s,location:y.location,delta:p})}function f(x,p){s=Fr.Push;let j=dl(y.location,x,p);D&&D(j,x),c=d()+1;let T=ld(j,c),C=y.createHref(j);try{n.pushState(T,"",C)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;a.location.assign(C)}e&&u&&u({action:s,location:y.location,delta:1})}function h(x,p){s=Fr.Replace;let j=dl(y.location,x,p);D&&D(j,x),c=d();let T=ld(j,c),C=y.createHref(j);n.replaceState(T,"",C),e&&u&&u({action:s,location:y.location,delta:0})}function g(x){let p=a.location.origin!=="null"?a.location.origin:a.location.href,j=typeof x=="string"?x:li(x);return j=j.replace(/ $/,"%20"),nt(p,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,p)}let y={get action(){return s},get location(){return b(a,n)},listen(x){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(od,v),u=x,()=>{a.removeEventListener(od,v),u=null}},createHref(x){return R(a,x)},createURL:g,encodeLocation(x){let p=g(x);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:h,go(x){return n.go(x)}};return y}var ud;(function(b){b.data="data",b.deferred="deferred",b.redirect="redirect",b.error="error"})(ud||(ud={}));function Lh(b,R,D){return D===void 0&&(D="/"),bh(b,R,D)}function bh(b,R,D,i){let a=typeof R=="string"?cn(R):R,e=jl(a.pathname||"/",D);if(e==null)return null;let n=Ed(b);Bh(n);let s=null;for(let u=0;s==null&&u<n.length;++u){let c=Xh(e);s=Gh(n[u],c)}return s}function Ed(b,R,D,i){R===void 0&&(R=[]),D===void 0&&(D=[]),i===void 0&&(i="");let a=(e,n,s)=>{let u={relativePath:s===void 0?e.path||"":s,caseSensitive:e.caseSensitive===!0,childrenIndex:n,route:e};u.relativePath.startsWith("/")&&(nt(u.relativePath.startsWith(i),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(i.length));let c=kr([i,u.relativePath]),d=D.concat(u);e.children&&e.children.length>0&&(nt(e.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Ed(e.children,R,d,c)),!(e.path==null&&!e.index)&&R.push({path:c,score:Qh(c,e.index),routesMeta:d})};return b.forEach((e,n)=>{var s;if(e.path===""||!((s=e.path)!=null&&s.includes("?")))a(e,n);else for(let u of jd(e.path))a(e,n,u)}),R}function jd(b){let R=b.split("/");if(R.length===0)return[];let[D,...i]=R,a=D.endsWith("?"),e=D.replace(/\?$/,"");if(i.length===0)return a?[e,""]:[e];let n=jd(i.join("/")),s=[];return s.push(...n.map(u=>u===""?e:[e,u].join("/"))),a&&s.push(...n),s.map(u=>b.startsWith("/")&&u===""?"/":u)}function Bh(b){b.sort((R,D)=>R.score!==D.score?D.score-R.score:Hh(R.routesMeta.map(i=>i.childrenIndex),D.routesMeta.map(i=>i.childrenIndex)))}const Wh=/^:[\w-]+$/,Kh=3,Fh=2,kh=1,zh=10,$h=-2,cd=b=>b==="*";function Qh(b,R){let D=b.split("/"),i=D.length;return D.some(cd)&&(i+=$h),R&&(i+=Fh),D.filter(a=>!cd(a)).reduce((a,e)=>a+(Wh.test(e)?Kh:e===""?kh:zh),i)}function Hh(b,R){return b.length===R.length&&b.slice(0,-1).every((i,a)=>i===R[a])?b[b.length-1]-R[R.length-1]:0}function Gh(b,R,D){let{routesMeta:i}=b,a={},e="/",n=[];for(let s=0;s<i.length;++s){let u=i[s],c=s===i.length-1,d=e==="/"?R:R.slice(e.length)||"/",v=Jh({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),f=u.route;if(!v)return null;Object.assign(a,v.params),n.push({params:a,pathname:kr([e,v.pathname]),pathnameBase:_h(kr([e,v.pathnameBase])),route:f}),v.pathnameBase!=="/"&&(e=kr([e,v.pathnameBase]))}return n}function Jh(b,R){typeof b=="string"&&(b={path:b,caseSensitive:!1,end:!0});let[D,i]=Yh(b.path,b.caseSensitive,b.end),a=R.match(D);if(!a)return null;let e=a[0],n=e.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:i.reduce((c,d,v)=>{let{paramName:f,isOptional:h}=d;if(f==="*"){let y=s[v]||"";n=e.slice(0,e.length-y.length).replace(/(.)\/+$/,"$1")}const g=s[v];return h&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:e,pathnameBase:n,pattern:b}}function Yh(b,R,D){R===void 0&&(R=!1),D===void 0&&(D=!0),El(b==="*"||!b.endsWith("*")||b.endsWith("/*"),'Route path "'+b+'" will be treated as if it were '+('"'+b.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+b.replace(/\*$/,"/*")+'".'));let i=[],a="^"+b.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(n,s,u)=>(i.push({paramName:s,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return b.endsWith("*")?(i.push({paramName:"*"}),a+=b==="*"||b==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):D?a+="\\/*$":b!==""&&b!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,R?void 0:"i"),i]}function Xh(b){try{return b.split("/").map(R=>decodeURIComponent(R).replace(/\//g,"%2F")).join("/")}catch(R){return El(!1,'The URL path "'+b+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+R+").")),b}}function jl(b,R){if(R==="/")return b;if(!b.toLowerCase().startsWith(R.toLowerCase()))return null;let D=R.endsWith("/")?R.length-1:R.length,i=b.charAt(D);return i&&i!=="/"?null:b.slice(D)||"/"}function Zh(b,R){R===void 0&&(R="/");let{pathname:D,search:i="",hash:a=""}=typeof b=="string"?cn(b):b;return{pathname:D?D.startsWith("/")?D:Vh(D,R):R,search:ev(i),hash:tv(a)}}function Vh(b,R){let D=R.replace(/\/+$/,"").split("/");return b.split("/").forEach(a=>{a===".."?D.length>1&&D.pop():a!=="."&&D.push(a)}),D.length>1?D.join("/"):"/"}function il(b,R,D,i){return"Cannot include a '"+b+"' character in a manually specified "+("`to."+R+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+D+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qh(b){return b.filter((R,D)=>D===0||R.route.path&&R.route.path.length>0)}function Ol(b,R){let D=qh(b);return R?D.map((i,a)=>a===D.length-1?i.pathname:i.pathnameBase):D.map(i=>i.pathnameBase)}function Nl(b,R,D,i){i===void 0&&(i=!1);let a;typeof b=="string"?a=cn(b):(a=Us({},b),nt(!a.pathname||!a.pathname.includes("?"),il("?","pathname","search",a)),nt(!a.pathname||!a.pathname.includes("#"),il("#","pathname","hash",a)),nt(!a.search||!a.search.includes("#"),il("#","search","hash",a)));let e=b===""||a.pathname==="",n=e?"/":a.pathname,s;if(n==null)s=D;else{let v=R.length-1;if(!i&&n.startsWith("..")){let f=n.split("/");for(;f[0]==="..";)f.shift(),v-=1;a.pathname=f.join("/")}s=v>=0?R[v]:"/"}let u=Zh(a,s),c=n&&n!=="/"&&n.endsWith("/"),d=(e||n===".")&&D.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const kr=b=>b.join("/").replace(/\/\/+/g,"/"),_h=b=>b.replace(/\/+$/,"").replace(/^\/*/,"/"),ev=b=>!b||b==="?"?"":b.startsWith("?")?b:"?"+b,tv=b=>!b||b==="#"?"":b.startsWith("#")?b:"#"+b;function rv(b){return b!=null&&typeof b.status=="number"&&typeof b.statusText=="string"&&typeof b.internal=="boolean"&&"data"in b}const Od=["post","put","patch","delete"];new Set(Od);const nv=["get",...Od];new Set(nv);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ls(){return Ls=Object.assign?Object.assign.bind():function(b){for(var R=1;R<arguments.length;R++){var D=arguments[R];for(var i in D)Object.prototype.hasOwnProperty.call(D,i)&&(b[i]=D[i])}return b},Ls.apply(this,arguments)}const Pl=_.createContext(null),sv=_.createContext(null),zr=_.createContext(null),ui=_.createContext(null),$r=_.createContext({outlet:null,matches:[],isDataRoute:!1}),Nd=_.createContext(null);function av(b,R){let{relative:D}=R===void 0?{}:R;Jn()||nt(!1);let{basename:i,navigator:a}=_.useContext(zr),{hash:e,pathname:n,search:s}=Cd(b,{relative:D}),u=n;return i!=="/"&&(u=n==="/"?i:kr([i,n])),a.createHref({pathname:u,search:s,hash:e})}function Jn(){return _.useContext(ui)!=null}function dn(){return Jn()||nt(!1),_.useContext(ui).location}function Pd(b){_.useContext(zr).static||_.useLayoutEffect(b)}function bs(){let{isDataRoute:b}=_.useContext($r);return b?yv():iv()}function iv(){Jn()||nt(!1);let b=_.useContext(Pl),{basename:R,future:D,navigator:i}=_.useContext(zr),{matches:a}=_.useContext($r),{pathname:e}=dn(),n=JSON.stringify(Ol(a,D.v7_relativeSplatPath)),s=_.useRef(!1);return Pd(()=>{s.current=!0}),_.useCallback(function(c,d){if(d===void 0&&(d={}),!s.current)return;if(typeof c=="number"){i.go(c);return}let v=Nl(c,JSON.parse(n),e,d.relative==="path");b==null&&R!=="/"&&(v.pathname=v.pathname==="/"?R:kr([R,v.pathname])),(d.replace?i.replace:i.push)(v,d.state,d)},[R,i,n,e,b])}function Cd(b,R){let{relative:D}=R===void 0?{}:R,{future:i}=_.useContext(zr),{matches:a}=_.useContext($r),{pathname:e}=dn(),n=JSON.stringify(Ol(a,i.v7_relativeSplatPath));return _.useMemo(()=>Nl(b,JSON.parse(n),e,D==="path"),[b,n,e,D])}function ov(b,R){return lv(b,R)}function lv(b,R,D,i){Jn()||nt(!1);let{navigator:a}=_.useContext(zr),{matches:e}=_.useContext($r),n=e[e.length-1],s=n?n.params:{};n&&n.pathname;let u=n?n.pathnameBase:"/";n&&n.route;let c=dn(),d;if(R){var v;let x=typeof R=="string"?cn(R):R;u==="/"||(v=x.pathname)!=null&&v.startsWith(u)||nt(!1),d=x}else d=c;let f=d.pathname||"/",h=f;if(u!=="/"){let x=u.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=Lh(b,{pathname:h}),y=hv(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},s,x.params),pathname:kr([u,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:kr([u,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),e,D,i);return R&&y?_.createElement(ui.Provider,{value:{location:Ls({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Fr.Pop}},y):y}function uv(){let b=pv(),R=rv(b)?b.status+" "+b.statusText:b instanceof Error?b.message:JSON.stringify(b),D=b instanceof Error?b.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},R),D?_.createElement("pre",{style:a},D):null,null)}const cv=_.createElement(uv,null);class dv extends _.Component{constructor(R){super(R),this.state={location:R.location,revalidation:R.revalidation,error:R.error}}static getDerivedStateFromError(R){return{error:R}}static getDerivedStateFromProps(R,D){return D.location!==R.location||D.revalidation!=="idle"&&R.revalidation==="idle"?{error:R.error,location:R.location,revalidation:R.revalidation}:{error:R.error!==void 0?R.error:D.error,location:D.location,revalidation:R.revalidation||D.revalidation}}componentDidCatch(R,D){console.error("React Router caught the following error during render",R,D)}render(){return this.state.error!==void 0?_.createElement($r.Provider,{value:this.props.routeContext},_.createElement(Nd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fv(b){let{routeContext:R,match:D,children:i}=b,a=_.useContext(Pl);return a&&a.static&&a.staticContext&&(D.route.errorElement||D.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=D.route.id),_.createElement($r.Provider,{value:R},i)}function hv(b,R,D,i){var a;if(R===void 0&&(R=[]),D===void 0&&(D=null),i===void 0&&(i=null),b==null){var e;if(!D)return null;if(D.errors)b=D.matches;else if((e=i)!=null&&e.v7_partialHydration&&R.length===0&&!D.initialized&&D.matches.length>0)b=D.matches;else return null}let n=b,s=(a=D)==null?void 0:a.errors;if(s!=null){let d=n.findIndex(v=>v.route.id&&s?.[v.route.id]!==void 0);d>=0||nt(!1),n=n.slice(0,Math.min(n.length,d+1))}let u=!1,c=-1;if(D&&i&&i.v7_partialHydration)for(let d=0;d<n.length;d++){let v=n[d];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(c=d),v.route.id){let{loaderData:f,errors:h}=D,g=v.route.loader&&f[v.route.id]===void 0&&(!h||h[v.route.id]===void 0);if(v.route.lazy||g){u=!0,c>=0?n=n.slice(0,c+1):n=[n[0]];break}}}return n.reduceRight((d,v,f)=>{let h,g=!1,y=null,x=null;D&&(h=s&&v.route.id?s[v.route.id]:void 0,y=v.route.errorElement||cv,u&&(c<0&&f===0?(xv("route-fallback"),g=!0,x=null):c===f&&(g=!0,x=v.route.hydrateFallbackElement||null)));let p=R.concat(n.slice(0,f+1)),j=()=>{let T;return h?T=y:g?T=x:v.route.Component?T=_.createElement(v.route.Component,null):v.route.element?T=v.route.element:T=d,_.createElement(fv,{match:v,routeContext:{outlet:d,matches:p,isDataRoute:D!=null},children:T})};return D&&(v.route.ErrorBoundary||v.route.errorElement||f===0)?_.createElement(dv,{location:D.location,revalidation:D.revalidation,component:y,error:h,children:j(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):j()},null)}var Sd=function(b){return b.UseBlocker="useBlocker",b.UseRevalidator="useRevalidator",b.UseNavigateStable="useNavigate",b}(Sd||{}),Td=function(b){return b.UseBlocker="useBlocker",b.UseLoaderData="useLoaderData",b.UseActionData="useActionData",b.UseRouteError="useRouteError",b.UseNavigation="useNavigation",b.UseRouteLoaderData="useRouteLoaderData",b.UseMatches="useMatches",b.UseRevalidator="useRevalidator",b.UseNavigateStable="useNavigate",b.UseRouteId="useRouteId",b}(Td||{});function vv(b){let R=_.useContext(Pl);return R||nt(!1),R}function mv(b){let R=_.useContext(sv);return R||nt(!1),R}function gv(b){let R=_.useContext($r);return R||nt(!1),R}function Dd(b){let R=gv(),D=R.matches[R.matches.length-1];return D.route.id||nt(!1),D.route.id}function pv(){var b;let R=_.useContext(Nd),D=mv(),i=Dd();return R!==void 0?R:(b=D.errors)==null?void 0:b[i]}function yv(){let{router:b}=vv(Sd.UseNavigateStable),R=Dd(Td.UseNavigateStable),D=_.useRef(!1);return Pd(()=>{D.current=!0}),_.useCallback(function(a,e){e===void 0&&(e={}),D.current&&(typeof a=="number"?b.navigate(a):b.navigate(a,Ls({fromRouteId:R},e)))},[b,R])}const dd={};function xv(b,R,D){dd[b]||(dd[b]=!0)}function Ev(b,R){b?.v7_startTransition,b?.v7_relativeSplatPath}function zn(b){let{to:R,replace:D,state:i,relative:a}=b;Jn()||nt(!1);let{future:e,static:n}=_.useContext(zr),{matches:s}=_.useContext($r),{pathname:u}=dn(),c=bs(),d=Nl(R,Ol(s,e.v7_relativeSplatPath),u,a==="path"),v=JSON.stringify(d);return _.useEffect(()=>c(JSON.parse(v),{replace:D,state:i,relative:a}),[c,v,a,D,i]),null}function qt(b){nt(!1)}function jv(b){let{basename:R="/",children:D=null,location:i,navigationType:a=Fr.Pop,navigator:e,static:n=!1,future:s}=b;Jn()&&nt(!1);let u=R.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:u,navigator:e,static:n,future:Ls({v7_relativeSplatPath:!1},s)}),[u,s,e,n]);typeof i=="string"&&(i=cn(i));let{pathname:d="/",search:v="",hash:f="",state:h=null,key:g="default"}=i,y=_.useMemo(()=>{let x=jl(d,u);return x==null?null:{location:{pathname:x,search:v,hash:f,state:h,key:g},navigationType:a}},[u,d,v,f,h,g,a]);return y==null?null:_.createElement(zr.Provider,{value:c},_.createElement(ui.Provider,{children:D,value:y}))}function Ov(b){let{children:R,location:D}=b;return ov(fl(R),D)}new Promise(()=>{});function fl(b,R){R===void 0&&(R=[]);let D=[];return _.Children.forEach(b,(i,a)=>{if(!_.isValidElement(i))return;let e=[...R,a];if(i.type===_.Fragment){D.push.apply(D,fl(i.props.children,e));return}i.type!==qt&&nt(!1),!i.props.index||!i.props.children||nt(!1);let n={id:i.props.id||e.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(n.children=fl(i.props.children,e)),D.push(n)}),D}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hl(){return hl=Object.assign?Object.assign.bind():function(b){for(var R=1;R<arguments.length;R++){var D=arguments[R];for(var i in D)Object.prototype.hasOwnProperty.call(D,i)&&(b[i]=D[i])}return b},hl.apply(this,arguments)}function Nv(b,R){if(b==null)return{};var D={},i=Object.keys(b),a,e;for(e=0;e<i.length;e++)a=i[e],!(R.indexOf(a)>=0)&&(D[a]=b[a]);return D}function Pv(b){return!!(b.metaKey||b.altKey||b.ctrlKey||b.shiftKey)}function Cv(b,R){return b.button===0&&(!R||R==="_self")&&!Pv(b)}const Sv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Tv="6";try{window.__reactRouterVersion=Tv}catch{}const Dv="startTransition",fd=Ch[Dv];function Mv(b){let{basename:R,children:D,future:i,window:a}=b,e=_.useRef();e.current==null&&(e.current=Ah({window:a,v5Compat:!0}));let n=e.current,[s,u]=_.useState({action:n.action,location:n.location}),{v7_startTransition:c}=i||{},d=_.useCallback(v=>{c&&fd?fd(()=>u(v)):u(v)},[u,c]);return _.useLayoutEffect(()=>n.listen(d),[n,d]),_.useEffect(()=>Ev(i),[i]),_.createElement(jv,{basename:R,children:D,location:s.location,navigationType:s.action,navigator:n,future:i})}const Iv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Rv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bt=_.forwardRef(function(R,D){let{onClick:i,relative:a,reloadDocument:e,replace:n,state:s,target:u,to:c,preventScrollReset:d,viewTransition:v}=R,f=Nv(R,Sv),{basename:h}=_.useContext(zr),g,y=!1;if(typeof c=="string"&&Rv.test(c)&&(g=c,Iv))try{let T=new URL(window.location.href),C=c.startsWith("//")?new URL(T.protocol+c):new URL(c),I=jl(C.pathname,h);C.origin===T.origin&&I!=null?c=I+C.search+C.hash:y=!0}catch{}let x=av(c,{relative:a}),p=Av(c,{replace:n,state:s,target:u,preventScrollReset:d,relative:a,viewTransition:v});function j(T){i&&i(T),T.defaultPrevented||p(T)}return _.createElement("a",hl({},f,{href:g||x,onClick:y||e?i:j,ref:D,target:u}))});var hd;(function(b){b.UseScrollRestoration="useScrollRestoration",b.UseSubmit="useSubmit",b.UseSubmitFetcher="useSubmitFetcher",b.UseFetcher="useFetcher",b.useViewTransitionState="useViewTransitionState"})(hd||(hd={}));var vd;(function(b){b.UseFetcher="useFetcher",b.UseFetchers="useFetchers",b.UseScrollRestoration="useScrollRestoration"})(vd||(vd={}));function Av(b,R){let{target:D,replace:i,state:a,preventScrollReset:e,relative:n,viewTransition:s}=R===void 0?{}:R,u=bs(),c=dn(),d=Cd(b,{relative:n});return _.useCallback(v=>{if(Cv(v,D)){v.preventDefault();let f=i!==void 0?i:li(c)===li(d);u(b,{replace:f,state:a,preventScrollReset:e,relative:n,viewTransition:s})}},[c,u,d,i,a,D,b,e,n,s])}var si={exports:{}},wv=si.exports,md;function Uv(){return md||(md=1,function(b,R){var D={};(function(a,e){b.exports=e()})(typeof self<"u"?self:wv,function(){return function(i){var a={};function e(n){if(a[n])return a[n].exports;var s=a[n]={i:n,l:!1,exports:{}};return i[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}return e.m=i,e.c=a,e.d=function(n,s,u){e.o(n,s)||Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:u})},e.n=function(n){var s=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(s,"a",s),s},e.o=function(n,s){return Object.prototype.hasOwnProperty.call(n,s)},e.p="",e(e.s=245)}([function(i,a,e){var n=e(9),s=e(71),u=e(4),c=e(8),d=e(73).f,v=e(148),f=e(15),h=e(58),g=e(39),y=e(13),x=function(p){var j=function(T,C,I){if(this instanceof j){switch(arguments.length){case 0:return new p;case 1:return new p(T);case 2:return new p(T,C)}return new p(T,C,I)}return s(p,this,arguments)};return j.prototype=p.prototype,j};i.exports=function(p,j){var T=p.target,C=p.global,I=p.stat,U=p.proto,A=C?n:I?n[T]:(n[T]||{}).prototype,w=C?f:f[T]||g(f,T,{})[T],P=w.prototype,N,E,M,W,Q,G,H,J,K;for(W in j)N=v(C?W:T+(I?".":"#")+W,p.forced),E=!N&&A&&y(A,W),G=w[W],E&&(p.dontCallGetSet?(K=d(A,W),H=K&&K.value):H=A[W]),Q=E&&H?H:j[W],!(E&&typeof G==typeof Q)&&(p.bind&&E?J=h(Q,n):p.wrap&&E?J=x(Q):U&&c(Q)?J=u(Q):J=Q,(p.sham||Q&&Q.sham||G&&G.sham)&&g(J,"sham",!0),g(w,W,J),U&&(M=T+"Prototype",y(f,M)||g(f,M,{}),g(f[M],W,Q),p.real&&P&&!P[W]&&g(P,W,Q)))}},function(i,a){function e(n){return n&&n.__esModule?n:{default:n}}i.exports=e,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,a,e){Object.defineProperty(a,"__esModule",{value:!0});var n=e(288);e.d(a,"default",function(){return n.a});var s=e(124);e.d(a,"VERSION",function(){return s.VERSION}),e.d(a,"restArguments",function(){return s.restArguments}),e.d(a,"isObject",function(){return s.isObject}),e.d(a,"isNull",function(){return s.isNull}),e.d(a,"isUndefined",function(){return s.isUndefined}),e.d(a,"isBoolean",function(){return s.isBoolean}),e.d(a,"isElement",function(){return s.isElement}),e.d(a,"isString",function(){return s.isString}),e.d(a,"isNumber",function(){return s.isNumber}),e.d(a,"isDate",function(){return s.isDate}),e.d(a,"isRegExp",function(){return s.isRegExp}),e.d(a,"isError",function(){return s.isError}),e.d(a,"isSymbol",function(){return s.isSymbol}),e.d(a,"isArrayBuffer",function(){return s.isArrayBuffer}),e.d(a,"isDataView",function(){return s.isDataView}),e.d(a,"isArray",function(){return s.isArray}),e.d(a,"isFunction",function(){return s.isFunction}),e.d(a,"isArguments",function(){return s.isArguments}),e.d(a,"isFinite",function(){return s.isFinite}),e.d(a,"isNaN",function(){return s.isNaN}),e.d(a,"isTypedArray",function(){return s.isTypedArray}),e.d(a,"isEmpty",function(){return s.isEmpty}),e.d(a,"isMatch",function(){return s.isMatch}),e.d(a,"isEqual",function(){return s.isEqual}),e.d(a,"isMap",function(){return s.isMap}),e.d(a,"isWeakMap",function(){return s.isWeakMap}),e.d(a,"isSet",function(){return s.isSet}),e.d(a,"isWeakSet",function(){return s.isWeakSet}),e.d(a,"keys",function(){return s.keys}),e.d(a,"allKeys",function(){return s.allKeys}),e.d(a,"values",function(){return s.values}),e.d(a,"pairs",function(){return s.pairs}),e.d(a,"invert",function(){return s.invert}),e.d(a,"functions",function(){return s.functions}),e.d(a,"methods",function(){return s.methods}),e.d(a,"extend",function(){return s.extend}),e.d(a,"extendOwn",function(){return s.extendOwn}),e.d(a,"assign",function(){return s.assign}),e.d(a,"defaults",function(){return s.defaults}),e.d(a,"create",function(){return s.create}),e.d(a,"clone",function(){return s.clone}),e.d(a,"tap",function(){return s.tap}),e.d(a,"get",function(){return s.get}),e.d(a,"has",function(){return s.has}),e.d(a,"mapObject",function(){return s.mapObject}),e.d(a,"identity",function(){return s.identity}),e.d(a,"constant",function(){return s.constant}),e.d(a,"noop",function(){return s.noop}),e.d(a,"toPath",function(){return s.toPath}),e.d(a,"property",function(){return s.property}),e.d(a,"propertyOf",function(){return s.propertyOf}),e.d(a,"matcher",function(){return s.matcher}),e.d(a,"matches",function(){return s.matches}),e.d(a,"times",function(){return s.times}),e.d(a,"random",function(){return s.random}),e.d(a,"now",function(){return s.now}),e.d(a,"escape",function(){return s.escape}),e.d(a,"unescape",function(){return s.unescape}),e.d(a,"templateSettings",function(){return s.templateSettings}),e.d(a,"template",function(){return s.template}),e.d(a,"result",function(){return s.result}),e.d(a,"uniqueId",function(){return s.uniqueId}),e.d(a,"chain",function(){return s.chain}),e.d(a,"iteratee",function(){return s.iteratee}),e.d(a,"partial",function(){return s.partial}),e.d(a,"bind",function(){return s.bind}),e.d(a,"bindAll",function(){return s.bindAll}),e.d(a,"memoize",function(){return s.memoize}),e.d(a,"delay",function(){return s.delay}),e.d(a,"defer",function(){return s.defer}),e.d(a,"throttle",function(){return s.throttle}),e.d(a,"debounce",function(){return s.debounce}),e.d(a,"wrap",function(){return s.wrap}),e.d(a,"negate",function(){return s.negate}),e.d(a,"compose",function(){return s.compose}),e.d(a,"after",function(){return s.after}),e.d(a,"before",function(){return s.before}),e.d(a,"once",function(){return s.once}),e.d(a,"findKey",function(){return s.findKey}),e.d(a,"findIndex",function(){return s.findIndex}),e.d(a,"findLastIndex",function(){return s.findLastIndex}),e.d(a,"sortedIndex",function(){return s.sortedIndex}),e.d(a,"indexOf",function(){return s.indexOf}),e.d(a,"lastIndexOf",function(){return s.lastIndexOf}),e.d(a,"find",function(){return s.find}),e.d(a,"detect",function(){return s.detect}),e.d(a,"findWhere",function(){return s.findWhere}),e.d(a,"each",function(){return s.each}),e.d(a,"forEach",function(){return s.forEach}),e.d(a,"map",function(){return s.map}),e.d(a,"collect",function(){return s.collect}),e.d(a,"reduce",function(){return s.reduce}),e.d(a,"foldl",function(){return s.foldl}),e.d(a,"inject",function(){return s.inject}),e.d(a,"reduceRight",function(){return s.reduceRight}),e.d(a,"foldr",function(){return s.foldr}),e.d(a,"filter",function(){return s.filter}),e.d(a,"select",function(){return s.select}),e.d(a,"reject",function(){return s.reject}),e.d(a,"every",function(){return s.every}),e.d(a,"all",function(){return s.all}),e.d(a,"some",function(){return s.some}),e.d(a,"any",function(){return s.any}),e.d(a,"contains",function(){return s.contains}),e.d(a,"includes",function(){return s.includes}),e.d(a,"include",function(){return s.include}),e.d(a,"invoke",function(){return s.invoke}),e.d(a,"pluck",function(){return s.pluck}),e.d(a,"where",function(){return s.where}),e.d(a,"max",function(){return s.max}),e.d(a,"min",function(){return s.min}),e.d(a,"shuffle",function(){return s.shuffle}),e.d(a,"sample",function(){return s.sample}),e.d(a,"sortBy",function(){return s.sortBy}),e.d(a,"groupBy",function(){return s.groupBy}),e.d(a,"indexBy",function(){return s.indexBy}),e.d(a,"countBy",function(){return s.countBy}),e.d(a,"partition",function(){return s.partition}),e.d(a,"toArray",function(){return s.toArray}),e.d(a,"size",function(){return s.size}),e.d(a,"pick",function(){return s.pick}),e.d(a,"omit",function(){return s.omit}),e.d(a,"first",function(){return s.first}),e.d(a,"head",function(){return s.head}),e.d(a,"take",function(){return s.take}),e.d(a,"initial",function(){return s.initial}),e.d(a,"last",function(){return s.last}),e.d(a,"rest",function(){return s.rest}),e.d(a,"tail",function(){return s.tail}),e.d(a,"drop",function(){return s.drop}),e.d(a,"compact",function(){return s.compact}),e.d(a,"flatten",function(){return s.flatten}),e.d(a,"without",function(){return s.without}),e.d(a,"uniq",function(){return s.uniq}),e.d(a,"unique",function(){return s.unique}),e.d(a,"union",function(){return s.union}),e.d(a,"intersection",function(){return s.intersection}),e.d(a,"difference",function(){return s.difference}),e.d(a,"unzip",function(){return s.unzip}),e.d(a,"transpose",function(){return s.transpose}),e.d(a,"zip",function(){return s.zip}),e.d(a,"object",function(){return s.object}),e.d(a,"range",function(){return s.range}),e.d(a,"chunk",function(){return s.chunk}),e.d(a,"mixin",function(){return s.mixin})},function(i,a){i.exports=function(e){try{return!!e()}catch{return!0}}},function(i,a,e){var n=e(72),s=Function.prototype,u=s.bind,c=s.call,d=n&&u.bind(c,c);i.exports=n?function(v){return v&&d(v)}:function(v){return v&&function(){return c.apply(v,arguments)}}},function(i,a,e){var n=e(9),s=e(75),u=e(13),c=e(112),d=e(55),v=e(146),f=s("wks"),h=n.Symbol,g=h&&h.for,y=v?h:h&&h.withoutSetter||c;i.exports=function(x){if(!u(f,x)||!(d||typeof f[x]=="string")){var p="Symbol."+x;d&&u(h,x)?f[x]=h[x]:v&&g?f[x]=g(p):f[x]=y(p)}return f[x]}},function(i,a,e){(function(n){e.d(a,"e",function(){return s}),e.d(a,"p",function(){return u}),e.d(a,"a",function(){return c}),e.d(a,"c",function(){return d}),e.d(a,"d",function(){return v}),e.d(a,"o",function(){return f}),e.d(a,"q",function(){return h}),e.d(a,"t",function(){return g}),e.d(a,"i",function(){return y}),e.d(a,"r",function(){return x}),e.d(a,"s",function(){return p}),e.d(a,"k",function(){return j}),e.d(a,"m",function(){return T}),e.d(a,"j",function(){return C}),e.d(a,"l",function(){return I}),e.d(a,"g",function(){return U}),e.d(a,"f",function(){return A}),e.d(a,"h",function(){return w}),e.d(a,"n",function(){return P}),e.d(a,"b",function(){return N});var s="1.12.1",u=typeof self=="object"&&self.self===self&&self||typeof n=="object"&&n.global===n&&n||Function("return this")()||{},c=Array.prototype,d=Object.prototype,v=typeof Symbol<"u"?Symbol.prototype:null,f=c.push,h=c.slice,g=d.toString,y=d.hasOwnProperty,x=typeof ArrayBuffer<"u",p=typeof DataView<"u",j=Array.isArray,T=Object.keys,C=Object.create,I=x&&ArrayBuffer.isView,U=isNaN,A=isFinite,w=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],N=Math.pow(2,53)-1}).call(a,e(108))},function(i,a,e){var n=e(15),s=e(13),u=e(142),c=e(34).f;i.exports=function(d){var v=n.Symbol||(n.Symbol={});s(v,d)||c(v,d,{value:u.f(d)})}},function(i,a){i.exports=function(e){return typeof e=="function"}},function(i,a,e){(function(n){var s=function(u){return u&&u.Math==Math&&u};i.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof n=="object"&&n)||function(){return this}()||Function("return this")()}).call(a,e(108))},function(i,a,e){i.exports=e(248)},function(i,a,e){var n=e(72),s=Function.prototype.call;i.exports=n?s.bind(s):function(){return s.apply(s,arguments)}},function(i,a,e){var n=e(4);i.exports=n({}.isPrototypeOf)},function(i,a,e){var n=e(4),s=e(33),u=n({}.hasOwnProperty);i.exports=Object.hasOwn||function(d,v){return u(s(d),v)}},function(i,a,e){a.a=d;var n=e(50),s=e(6),u=e(41),c=e(177);function d(v){if(!Object(n.a)(v))return[];if(s.m)return Object(s.m)(v);var f=[];for(var h in v)Object(u.a)(v,h)&&f.push(h);return s.h&&Object(c.a)(v,f),f}},function(i,a){i.exports={}},function(i,a,e){a.a=s;var n=e(6);function s(u){var c="[object "+u+"]";return function(d){return n.t.call(d)===c}}},function(i,a,e){var n=e(8);i.exports=function(s){return typeof s=="object"?s!==null:n(s)}},function(i,a,e){var n=e(15),s=e(9),u=e(8),c=function(d){return u(d)?d:void 0};i.exports=function(d,v){return arguments.length<2?c(n[d])||c(s[d]):n[d]&&n[d][v]||s[d]&&s[d][v]}},function(i,a,e){a.a=c;var n=e(23),s=e(187),u=e(188);function c(d,v,f){return n.a.iteratee!==u.a?n.a.iteratee(d,v):Object(s.a)(d,v,f)}},function(i,a,e){var n=e(3);i.exports=!n(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(i,a,e){var n=e(17),s=String,u=TypeError;i.exports=function(c){if(n(c))return c;throw u(s(c)+" is not an object")}},function(i,a,e){a.a=n;function n(s,u){return u=u==null?s.length-1:+u,function(){for(var c=Math.max(arguments.length-u,0),d=Array(c),v=0;v<c;v++)d[v]=arguments[v+u];switch(u){case 0:return s.call(this,d);case 1:return s.call(this,arguments[0],d);case 2:return s.call(this,arguments[0],arguments[1],d)}var f=Array(u+1);for(v=0;v<u;v++)f[v]=arguments[v];return f[u]=d,s.apply(this,f)}}},function(i,a,e){a.a=s;var n=e(6);function s(u){if(u instanceof s)return u;if(!(this instanceof s))return new s(u);this._wrapped=u}s.VERSION=n.e,s.prototype.value=function(){return this._wrapped},s.prototype.valueOf=s.prototype.toJSON=s.prototype.value,s.prototype.toString=function(){return String(this._wrapped)}},function(i,a,e){var n=e(175),s=e(30);a.a=Object(n.a)(s.a)},function(i,a,e){i.exports=e(360)},function(i,a,e){var n=e(15);i.exports=function(s){return n[s+"Prototype"]}},function(i,a,e){var n=e(1),s=n(e(25)),u=n(e(10)),c=e(2),d=e(500),v=e(2),f=v.extend,h=e(67),g=e(43),y=e(31),x=y.getSessionToken,p=e(106),j=function(P,N){var E,M=new Date().getTime(),W=d(M+P);if(N){var Q;return(0,s.default)(Q="".concat(W,",")).call(Q,M,",master")}return(0,s.default)(E="".concat(W,",")).call(E,M)},T=function(P,N){N?P["X-LC-Sign"]=j(h.applicationKey):P["X-LC-Key"]=h.applicationKey},C=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},N=arguments.length>1?arguments[1]:void 0,E={"X-LC-Id":h.applicationId,"Content-Type":"application/json;charset=UTF-8"},M=!1;return typeof P.useMasterKey=="boolean"?M=P.useMasterKey:typeof h._config.useMasterKey=="boolean"&&(M=h._config.useMasterKey),M?h.masterKey?N?E["X-LC-Sign"]=j(h.masterKey,!0):E["X-LC-Key"]="".concat(h.masterKey,",master"):(console.warn("masterKey is not set, fall back to use appKey"),T(E,N)):T(E,N),h.hookKey&&(E["X-LC-Hook-Key"]=h.hookKey),h._config.production!==null&&(E["X-LC-Prod"]=String(h._config.production)),E["X-LC-UA"]=h._sharedConfig.userAgent,u.default.resolve().then(function(){var W=x(P);if(W)E["X-LC-Session"]=W;else if(!h._config.disableCurrentUser)return h.User.currentAsync().then(function(Q){return Q&&Q._sessionToken&&(E["X-LC-Session"]=Q._sessionToken),E});return E})},I=function(P){var N=P.service,E=N===void 0?"api":N,M=P.version,W=M===void 0?"1.1":M,Q=P.path,G=h._config.serverURLs[E];if(!G)throw new Error("undefined server URL for ".concat(E));return G.charAt(G.length-1)!=="/"&&(G+="/"),G+=W,Q&&(G+=Q),G},U=function(P){var N=P.service,E=P.version,M=P.method,W=P.path,Q=P.query,G=P.data,H=P.authOptions,J=P.signKey,K=J===void 0?!0:J;if(!(h.applicationId&&(h.applicationKey||h.masterKey)))throw new Error("Not initialized");h._appRouter&&h._appRouter.refresh();var k=h._config.requestTimeout,L=I({service:N,path:W,version:E});return C(H,K).then(function(B){return p({method:M,url:L,query:Q,data:G,headers:B,timeout:k}).catch(function($){var z={code:$.code||-1,error:$.message||$.responseText};if($.response&&$.response.code)z=$.response;else if($.responseText)try{z=JSON.parse($.responseText)}catch{}if(z.rawMessage=z.rawMessage||z.error,!h._sharedConfig.keepErrorRawMessage){var X,q;z.error+=(0,s.default)(X=(0,s.default)(q=" [".concat($.statusCode||"N/A"," ")).call(q,M," ")).call(X,L,"]")}var ne=new g(z.code,z.error);throw delete z.error,c.extend(ne,z)})})},A=function(P,N,E,M,W,Q,G){var H="";if(P&&(H+="/".concat(P)),N&&(H+="/".concat(N)),E&&(H+="/".concat(E)),W&&W._fetchWhenSave)throw new Error("_fetchWhenSave should be in the query");if(W&&W._where)throw new Error("_where should be in the query");return M&&M.toLowerCase()==="get"&&(G=f({},G,W),W=null),U({method:M,path:H,query:G,data:W,authOptions:Q})};h.request=U,i.exports={_request:A,request:U}},function(i,a,e){var n=e(8),s=e(57),u=TypeError;i.exports=function(c){if(n(c))return c;throw u(s(c)+" is not a function")}},function(i,a,e){var n=e(16),s=e(6),u=Object(n.a)("Function"),c=s.p.document&&s.p.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof c!="function"&&(u=function(d){return typeof d=="function"||!1}),a.a=u},function(i,a,e){var n=e(176);a.a=Object(n.a)("length")},function(i,a,e){var n=e(1),s=n(e(53)),u=n(e(220)),c=n(e(10)),d=e(2),v=function(w){return d.isNull(w)||d.isUndefined(w)},f=function(w){return d.isArray(w)?w:w==null?[]:[w]},h=function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=(0,s.default)(w),N=w.include,E=w.includeACL,M={};return P&&(M.keys=f(P).join(",")),N&&(M.include=f(N).join(",")),E&&(M.returnACL=E),M},g=function(w){if(w.sessionToken)return w.sessionToken;if(w.user&&typeof w.user.getSessionToken=="function")return w.user.getSessionToken()},y=function(w){return function(P){return w(P),P}},x=function(){},p=function(w,P,N){var E;return P&&P.hasOwnProperty("constructor")?E=P.constructor:E=function(){w.apply(this,arguments)},d.extend(E,w),x.prototype=w.prototype,E.prototype=new x,P&&d.extend(E.prototype,P),N&&d.extend(E,N),E.prototype.constructor=E,E.__super__=w.prototype,E},j=typeof wx>"u"?function(A){return new Date(A)}:function(A){return new Date(Date.parse(A))},T=function(w,P,N){var E=P.split("."),M=E.pop(),W=w;return E.forEach(function(Q){W[Q]===void 0&&(W[Q]={}),W=W[Q]}),W[M]=N,w},C=function(w,P){for(var N=P.split("."),E=N[0],M=N.pop(),W=w,Q=0;Q<N.length;Q++)if(W=W[N[Q]],W===void 0)return[void 0,void 0,M];var G=W[M];return[G,W,M,E]},I=function(w){return d.isObject(w)&&(0,u.default)(w)===Object.prototype},U=function A(w,P){return w()?P().then(function(){return A(w,P)}):c.default.resolve()};i.exports={isNullOrUndefined:v,ensureArray:f,transformFetchOptions:h,getSessionToken:g,tap:y,inherits:p,parseDate:j,setValue:T,findValue:C,isPlainObject:I,continueWhile:U}},function(i,a){i.exports=!0},function(i,a,e){var n=e(74),s=Object;i.exports=function(u){return s(n(u))}},function(i,a,e){var n=e(20),s=e(147),u=e(149),c=e(21),d=e(88),v=TypeError,f=Object.defineProperty,h=Object.getOwnPropertyDescriptor,g="enumerable",y="configurable",x="writable";a.f=n?u?function(j,T,C){if(c(j),T=d(T),c(C),typeof j=="function"&&T==="prototype"&&"value"in C&&x in C&&!C[x]){var I=h(j,T);I&&I[x]&&(j[T]=C.value,C={configurable:y in C?C[y]:I[y],enumerable:g in C?C[g]:I[g],writable:!1})}return f(j,T,C)}:f:function(j,T,C){if(c(j),T=d(T),c(C),s)try{return f(j,T,C)}catch{}if("get"in C||"set"in C)throw v("Accessors not supported");return"value"in C&&(j[T]=C.value),j}},function(i,a,e){var n=e(109),s=e(74);i.exports=function(u){return n(s(u))}},function(i,a,e){var n=e(259);i.exports=function(s){return n(s.length)}},function(i,a,e){i.exports=e(372)},function(i,a,e){i.exports=e(227)},function(i,a,e){var n=e(20),s=e(34),u=e(44);i.exports=n?function(c,d,v){return s.f(c,d,u(1,v))}:function(c,d,v){return c[d]=v,c}},function(i,a,e){var n=e(47),s=String;i.exports=function(u){if(n(u)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return s(u)}},function(i,a,e){a.a=s;var n=e(6);function s(u,c){return u!=null&&n.i.call(u,c)}},function(i,a,e){i.exports=e(365)},function(i,a,e){var n=e(1),s=n(e(387)),u=n(e(220)),c=e(2);function d(v,f){if(this instanceof d&&this.constructor){var h=new Error(f);return(0,s.default)(h,(0,u.default)(this)),h.code=v,h}return new d(v,f)}d.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),(0,s.default)(d,Error),c.extend(d,{OTHER_CAUSE:-1,INTERNAL_SERVER_ERROR:1,CONNECTION_FAILED:100,OBJECT_NOT_FOUND:101,INVALID_QUERY:102,INVALID_CLASS_NAME:103,MISSING_OBJECT_ID:104,INVALID_KEY_NAME:105,INVALID_POINTER:106,INVALID_JSON:107,COMMAND_UNAVAILABLE:108,NOT_INITIALIZED:109,INCORRECT_TYPE:111,INVALID_CHANNEL_NAME:112,PUSH_MISCONFIGURED:115,OBJECT_TOO_LARGE:116,OPERATION_FORBIDDEN:119,CACHE_MISS:120,INVALID_NESTED_KEY:121,INVALID_FILE_NAME:122,INVALID_ACL:123,TIMEOUT:124,INVALID_EMAIL_ADDRESS:125,MISSING_CONTENT_TYPE:126,MISSING_CONTENT_LENGTH:127,INVALID_CONTENT_LENGTH:128,FILE_TOO_LARGE:129,FILE_SAVE_ERROR:130,FILE_DELETE_ERROR:153,DUPLICATE_VALUE:137,INVALID_ROLE_NAME:139,EXCEEDED_QUOTA:140,SCRIPT_FAILED:141,VALIDATION_ERROR:142,INVALID_IMAGE_DATA:150,UNSAVED_FILE_ERROR:151,INVALID_PUSH_TIME_ERROR:152,USERNAME_MISSING:200,PASSWORD_MISSING:201,USERNAME_TAKEN:202,EMAIL_TAKEN:203,EMAIL_MISSING:204,EMAIL_NOT_FOUND:205,SESSION_MISSING:206,MUST_CREATE_USER_THROUGH_SIGNUP:207,ACCOUNT_ALREADY_LINKED:208,LINKED_ID_MISSING:250,INVALID_LINKED_SESSION:251,UNSUPPORTED_SERVICE:252,X_DOMAIN_REQUEST:602}),i.exports=d},function(i,a){i.exports=function(e,n){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:n}}},function(i,a,e){var n=e(18);i.exports=n("navigator","userAgent")||""},function(i,a){i.exports={}},function(i,a,e){var n=e(121),s=e(8),u=e(54),c=e(5),d=c("toStringTag"),v=Object,f=u(function(){return arguments}())=="Arguments",h=function(g,y){try{return g[y]}catch{}};i.exports=n?u:function(g){var y,x,p;return g===void 0?"Undefined":g===null?"Null":typeof(x=h(y=v(g),d))=="string"?x:f?u(y):(p=u(y))=="Object"&&s(y.callee)?"Arguments":p}},function(i,a,e){var n=e(39);i.exports=function(s,u,c,d){return d&&d.enumerable?s[u]=c:n(s,u,c),s}},function(i,a,e){var n=e(28),s=function(u){var c,d;this.promise=new u(function(v,f){if(c!==void 0||d!==void 0)throw TypeError("Bad Promise constructor");c=v,d=f}),this.resolve=n(c),this.reject=n(d)};i.exports.f=function(u){return new s(u)}},function(i,a,e){a.a=n;function n(s){var u=typeof s;return u==="function"||u==="object"&&!!s}},function(i,a,e){var n=e(6),s=e(16);a.a=n.k||Object(s.a)("Array")},function(i,a,e){a.a=c;var n=e(83),s=e(24),u=e(14);function c(d,v,f){v=Object(n.a)(v,f);var h,g;if(Object(s.a)(d))for(h=0,g=d.length;h<g;h++)v(d[h],h,d);else{var y=Object(u.a)(d);for(h=0,g=y.length;h<g;h++)v(d[y[h]],y[h],d)}return d}},function(i,a,e){i.exports=e(378)},function(i,a,e){var n=e(4),s=n({}.toString),u=n("".slice);i.exports=function(c){return u(s(c),8,-1)}},function(i,a,e){var n=e(56),s=e(3);i.exports=!!Object.getOwnPropertySymbols&&!s(function(){var u=Symbol();return!String(u)||!(Object(u)instanceof Symbol)||!Symbol.sham&&n&&n<41})},function(i,a,e){var n=e(9),s=e(45),u=n.process,c=n.Deno,d=u&&u.versions||c&&c.version,v=d&&d.v8,f,h;v&&(f=v.split("."),h=f[0]>0&&f[0]<4?1:+(f[0]+f[1])),!h&&s&&(f=s.match(/Edge\/(\d+)/),(!f||f[1]>=74)&&(f=s.match(/Chrome\/(\d+)/),f&&(h=+f[1]))),i.exports=h},function(i,a){var e=String;i.exports=function(n){try{return e(n)}catch{return"Object"}}},function(i,a,e){var n=e(4),s=e(28),u=e(72),c=n(n.bind);i.exports=function(d,v){return s(d),v===void 0?d:u?c(d,v):function(){return d.apply(v,arguments)}}},function(i,a,e){var n=e(21),s=e(152),u=e(118),c=e(93),d=e(153),v=e(113),f=e(91),h=">",g="<",y="prototype",x="script",p=f("IE_PROTO"),j=function(){},T=function(w){return g+x+h+w+g+"/"+x+h},C=function(w){w.write(T("")),w.close();var P=w.parentWindow.Object;return w=null,P},I=function(){var w=v("iframe"),P="java"+x+":",N;return w.style.display="none",d.appendChild(w),w.src=String(P),N=w.contentWindow.document,N.open(),N.write(T("document.F=Object")),N.close(),N.F},U,A=function(){try{U=new ActiveXObject("htmlfile")}catch{}A=typeof document<"u"?document.domain&&U?C(U):I():C(U);for(var w=u.length;w--;)delete A[y][u[w]];return A()};c[p]=!0,i.exports=Object.create||function(P,N){var E;return P!==null?(j[y]=n(P),E=new j,j[y]=null,E[p]=P):E=A(),N===void 0?E:s.f(E,N)}},function(i,a,e){var n=e(35),s=e(122),u=e(46),c=e(95),d=e(34).f,v=e(157),f=e(32),h=e(20),g="Array Iterator",y=c.set,x=c.getterFor(g);i.exports=v(Array,"Array",function(j,T){y(this,{type:g,target:n(j),index:0,kind:T})},function(){var j=x(this),T=j.target,C=j.kind,I=j.index++;return!T||I>=T.length?(j.target=void 0,{value:void 0,done:!0}):C=="keys"?{value:I,done:!1}:C=="values"?{value:T[I],done:!1}:{value:[I,T[I]],done:!1}},"values");var p=u.Arguments=u.Array;if(s("keys"),s("values"),s("entries"),!f&&h&&p.name!=="values")try{d(p,"name",{value:"values"})}catch{}},function(i,a,e){var n=e(121),s=e(34).f,u=e(39),c=e(13),d=e(266),v=e(5),f=v("toStringTag");i.exports=function(h,g,y,x){if(h){var p=y?h:h.prototype;c(p,f)||s(p,f,{configurable:!0,value:g}),x&&!n&&u(p,"toString",d)}}},function(i,a,e){var n=e(9);i.exports=n.Promise},function(i,a,e){e(60);var n=e(287),s=e(9),u=e(47),c=e(39),d=e(46),v=e(5),f=v("toStringTag");for(var h in n){var g=s[h],y=g&&g.prototype;y&&u(y)!==f&&c(y,f,h),d[h]=d.Array}},function(i,a,e){a.a=s;var n=e(14);function s(u){for(var c=Object(n.a)(u),d=c.length,v=Array(d),f=0;f<d;f++)v[f]=u[c[f]];return v}},function(i,a,e){a.a=d;var n=e(30),s=e(24),u=e(51),c=e(127);function d(v,f,h,g){if(g=g||[],!f&&f!==0)f=1/0;else if(f<=0)return g.concat(v);for(var y=g.length,x=0,p=Object(n.a)(v);x<p;x++){var j=v[x];if(Object(s.a)(j)&&(Object(u.a)(j)||Object(c.a)(j)))if(f>1)d(j,f-1,h,g),y=g.length;else for(var T=0,C=j.length;T<C;)g[y++]=j[T++];else h||(g[y++]=j)}return g}},function(i,a,e){a.a=c;var n=e(19),s=e(24),u=e(14);function c(d,v,f){v=Object(n.a)(v,f);for(var h=!Object(s.a)(d)&&Object(u.a)(d),g=(h||d).length,y=Array(g),x=0;x<g;x++){var p=h?h[x]:x;y[x]=v(d[p],p,d)}return y}},function(i,a,e){(function(n){var s=e(1),u=s(e(10)),c=s(e(25)),d=s(e(42)),v=s(e(217)),f=s(e(37)),h=s(e(68)),g=s(e(53)),y=e(2),x=e(219),p=e(69),j=e(31),T=j.inherits,C=j.parseDate,I=e(222),U=e(70),A=U.setAdapters,w=U.adapterManager,P=n.AV||{};P._config={serverURLs:{},useMasterKey:!1,production:null,realtime:null,requestTimeout:null};var N="LeanCloud-JS-SDK/".concat(I);P._sharedConfig={userAgent:N,liveQueryRealtime:null},w.on("platformInfo",function(E){var M=N;if(E)if(E.userAgent)M=E.userAgent;else{var W=E.name;E.version&&(W+="/".concat(E.version)),E.extra&&(W+="; ".concat(E.extra)),M+=" (".concat(W,")")}P._sharedConfig.userAgent=M}),P._getAVPath=function(E){if(!P.applicationId)throw new Error("You need to call AV.initialize before using AV.");if(E||(E=""),!y.isString(E))throw new Error("Tried to get a localStorage path that wasn't a String.");return E[0]==="/"&&(E=E.substring(1)),"AV/"+P.applicationId+"/"+E},P._installationId=null,P._getInstallationId=function(){if(P._installationId)return u.default.resolve(P._installationId);var E=P._getAVPath("installationId");return P.localStorage.getItemAsync(E).then(function(M){return P._installationId=M,P._installationId?M:(P._installationId=M=x(),P.localStorage.setItemAsync(E,M).then(function(){return M}))})},P._subscriptionId=null,P._refreshSubscriptionId=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:P._getAVPath("subscriptionId"),M=P._subscriptionId=x();return P.localStorage.setItemAsync(E,M).then(function(){return M})},P._getSubscriptionId=function(){if(P._subscriptionId)return u.default.resolve(P._subscriptionId);var E=P._getAVPath("subscriptionId");return P.localStorage.getItemAsync(E).then(function(M){return P._subscriptionId=M,P._subscriptionId||(M=P._refreshSubscriptionId(E)),M})},P._parseDate=C,P._extend=function(E,M){var W=T(this,E,M);return W.extend=this.extend,W},P._encode=function(E,M,W){var Q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(E instanceof P.Object){if(W)throw new Error("AV.Objects not allowed here");return!M||y.include(M,E)||!E._hasData?E._toPointer():E._toFullJSON((0,c.default)(M).call(M,E),Q)}if(E instanceof P.ACL)return E.toJSON();if(y.isDate(E))return Q?{__type:"Date",iso:E.toJSON()}:E.toJSON();if(E instanceof P.GeoPoint)return E.toJSON();if(y.isArray(E))return(0,d.default)(y).call(y,E,function(G){return P._encode(G,M,W,Q)});if(y.isRegExp(E))return E.source;if(E instanceof P.Relation||E instanceof P.Op)return E.toJSON();if(E instanceof P.File){if(!E.url()&&!E.id)throw new Error("Tried to save an object containing an unsaved file.");return E._toFullJSON(M,Q)}return y.isObject(E)?y.mapObject(E,function(G,H){return P._encode(G,M,W,Q)}):E},P._decode=function(E,M){if(!y.isObject(E)||y.isDate(E))return E;if(y.isArray(E))return(0,d.default)(y).call(y,E,function(B){return P._decode(B)});if(E instanceof P.Object||E instanceof P.File||E instanceof P.Op||E instanceof P.GeoPoint||E instanceof P.ACL)return E;if(M==="ACL")return new P.ACL(E);if(E.__op)return P.Op._decode(E);var W;if(E.__type==="Pointer"){W=E.className;var Q=P.Object._create(W);if((0,v.default)(E).length>3){var G=y.clone(E);delete G.__type,delete G.className,Q._finishFetch(G,!0)}else Q._finishFetch({objectId:E.objectId},!1);return Q}if(E.__type==="Object"){W=E.className;var H=y.clone(E);delete H.__type,delete H.className;var J=P.Object._create(W);return J._finishFetch(H,!0),J}if(E.__type==="Date")return P._parseDate(E.iso);if(E.__type==="GeoPoint")return new P.GeoPoint({latitude:E.latitude,longitude:E.longitude});if(E.__type==="Relation"){if(!M)throw new Error("key missing decoding a Relation");var K=new P.Relation(null,M);return K.targetClassName=E.className,K}if(E.__type==="File"){var k=new P.File(E.name),L=y.clone(E);return delete L.__type,k._finishFetch(L),k}return y.mapObject(E,P._decode)},P.parseJSON=P._decode,P.parse=function(E){return P.parseJSON(JSON.parse(E))},P.stringify=function(E){return(0,f.default)(P._encode(E,[],!1,!0))},P._encodeObjectOrArray=function(E){var M=function(Q){return Q&&Q._toFullJSON&&(Q=Q._toFullJSON([])),y.mapObject(Q,function(G){return P._encode(G,[])})};return y.isArray(E)?(0,d.default)(E).call(E,function(W){return M(W)}):M(E)},P._arrayEach=y.each,P._traverse=function(E,M,W){return E instanceof P.Object?(W=W||[],(0,h.default)(y).call(y,W,E)>=0?void 0:(W.push(E),P._traverse(E.attributes,M,W),M(E))):E instanceof P.Relation||E instanceof P.File?M(E):y.isArray(E)?(y.each(E,function(Q,G){var H=P._traverse(Q,M,W);H&&(E[G]=H)}),M(E)):(y.isObject(E)&&P._each(E,function(Q,G){var H=P._traverse(Q,M,W);H&&(E[G]=H)}),M(E))},P._objectEach=P._each=function(E,M){y.isObject(E)?y.each((0,g.default)(y).call(y,E),function(W){M(E[W],W)}):y.each(E,M)},P.debug={enable:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"leancloud*";return p.enable(M)},disable:p.disable},P.setAdapters=A,i.exports=P}).call(a,e(108))},function(i,a,e){i.exports=e(374)},function(i,a,e){function n(g){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(x){return typeof x}:n=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},n(g)}a.log=c,a.formatArgs=u,a.save=d,a.load=v,a.useColors=s,a.storage=f(),a.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function s(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function u(g){if(g[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+g[0]+(this.useColors?"%c ":" ")+"+"+i.exports.humanize(this.diff),!!this.useColors){var y="color: "+this.color;g.splice(1,0,y,"color: inherit");var x=0,p=0;g[0].replace(/%[a-zA-Z%]/g,function(j){j!=="%%"&&(x++,j==="%c"&&(p=x))}),g.splice(p,0,y)}}function c(){var g;return(typeof console>"u"?"undefined":n(console))==="object"&&console.log&&(g=console).log.apply(g,arguments)}function d(g){try{g?a.storage.setItem("debug",g):a.storage.removeItem("debug")}catch{}}function v(){var g;try{g=a.storage.getItem("debug")}catch{}return!g&&typeof process<"u"&&"env"in process&&(g=D.DEBUG),g}function f(){try{return localStorage}catch{}}i.exports=e(383)(a);var h=i.exports.formatters;h.j=function(g){try{return JSON.stringify(g)}catch(y){return"[UnexpectedJSONParseError]: "+y.message}}},function(i,a,e){var n=e(1),s=n(e(53)),u=e(2),c=e(223),d=e(31),v=d.inherits,f=v(c,{constructor:function(){c.apply(this),this._adapters={}},getAdapter:function(y){var x=this._adapters[y];if(x===void 0)throw new Error("".concat(y," adapter is not configured"));return x},setAdapters:function(y){var x=this;u.extend(this._adapters,y),(0,s.default)(u).call(u,y).forEach(function(p){return x.emit(p,y[p])})}}),h=new f;i.exports={getAdapter:h.getAdapter.bind(h),setAdapters:h.setAdapters.bind(h),adapterManager:h}},function(i,a,e){var n=e(72),s=Function.prototype,u=s.apply,c=s.call;i.exports=typeof Reflect=="object"&&Reflect.apply||(n?c.bind(u):function(){return c.apply(u,arguments)})},function(i,a,e){var n=e(3);i.exports=!n(function(){var s=(function(){}).bind();return typeof s!="function"||s.hasOwnProperty("prototype")})},function(i,a,e){var n=e(20),s=e(11),u=e(145),c=e(44),d=e(35),v=e(88),f=e(13),h=e(147),g=Object.getOwnPropertyDescriptor;a.f=n?g:function(x,p){if(x=d(x),p=v(p),h)try{return g(x,p)}catch{}if(f(x,p))return c(!s(u.f,x,p),x[p])}},function(i,a){var e=TypeError;i.exports=function(n){if(n==null)throw e("Can't call method on "+n);return n}},function(i,a,e){var n=e(32),s=e(111);(i.exports=function(u,c){return s[u]||(s[u]=c!==void 0?c:{})})("versions",[]).push({version:"3.23.3",mode:n?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.3/LICENSE",source:"https://github.com/zloirock/core-js"})},function(i,a,e){var n=e(58),s=e(11),u=e(21),c=e(57),d=e(154),v=e(36),f=e(12),h=e(155),g=e(94),y=e(156),x=TypeError,p=function(T,C){this.stopped=T,this.result=C},j=p.prototype;i.exports=function(T,C,I){var U=I&&I.that,A=!!(I&&I.AS_ENTRIES),w=!!(I&&I.IS_ITERATOR),P=!!(I&&I.INTERRUPTED),N=n(C,U),E,M,W,Q,G,H,J,K=function(L){return E&&y(E,"normal",L),new p(!0,L)},k=function(L){return A?(u(L),P?N(L[0],L[1],K):N(L[0],L[1])):P?N(L,K):N(L)};if(w)E=T;else{if(M=g(T),!M)throw x(c(T)+" is not iterable");if(d(M)){for(W=0,Q=v(T);Q>W;W++)if(G=k(T[W]),G&&f(j,G))return G;return new p(!1)}E=h(T,M)}for(H=E.next;!(J=s(H,E)).done;){try{G=k(J.value)}catch(L){y(E,"throw",L)}if(typeof G=="object"&&G&&f(j,G))return G}return new p(!1)}},function(i,a){i.exports=function(e){try{return{error:!1,value:e()}}catch(n){return{error:!0,value:n}}}},function(i,a,e){var n=e(9),s=e(62),u=e(8),c=e(148),d=e(123),v=e(5),f=e(277),h=e(32),g=e(56),y=s&&s.prototype,x=v("species"),p=!1,j=u(n.PromiseRejectionEvent),T=c("Promise",function(){var C=d(s),I=C!==String(s);if(!I&&g===66||h&&!(y.catch&&y.finally))return!0;if(g>=51&&/native code/.test(C))return!1;var U=new s(function(P){P(1)}),A=function(P){P(function(){},function(){})},w=U.constructor={};return w[x]=A,p=U.then(function(){})instanceof A,p?!I&&f&&!j:!0});i.exports={CONSTRUCTOR:T,REJECTION_EVENT:j,SUBCLASSING:p}},function(i,a,e){var n=e(286).charAt,s=e(40),u=e(95),c=e(157),d="String Iterator",v=u.set,f=u.getterFor(d);c(String,"String",function(h){v(this,{type:d,string:s(h),index:0})},function(){var g=f(this),y=g.string,x=g.index,p;return x>=y.length?{value:void 0,done:!0}:(p=n(y,x),g.index+=p.length,{value:p,done:!1})})},function(i,a,e){e.d(a,"a",function(){return u}),e.d(a,"b",function(){return c});var n=e(6),s=e(294),u=n.s&&Object(s.a)(new DataView(new ArrayBuffer(8))),c=typeof Map<"u"&&Object(s.a)(new Map)},function(i,a,e){a.a=c;var n=e(50),s=e(6),u=e(177);function c(d){if(!Object(n.a)(d))return[];var v=[];for(var f in d)v.push(f);return s.h&&Object(u.a)(d,v),v}},function(i,a,e){a.a=s;var n=e(23);e(186);function s(u){return n.a.toPath(u)}},function(i,a,e){a.a=n;function n(s,u,c){if(u===void 0)return s;switch(c??3){case 1:return function(d){return s.call(u,d)};case 3:return function(d,v,f){return s.call(u,d,v,f)};case 4:return function(d,v,f,h){return s.call(u,d,v,f,h)}}return function(){return s.apply(u,arguments)}}},function(i,a,e){a.a=u;var n=e(19),s=e(52);function u(c,d,v){var f=[];return d=Object(n.a)(d,v),Object(s.a)(c,function(h,g,y){d(h,g,y)&&f.push(h)}),f}},function(i,a,e){a.a=c;var n=e(24),s=e(64),u=e(202);function c(d,v,f,h){return Object(n.a)(d)||(d=Object(s.a)(d)),(typeof f!="number"||h)&&(f=0),Object(u.a)(d,v,f)>=0}},function(i,a,e){var n=e(54);i.exports=Array.isArray||function(u){return n(u)=="Array"}},function(i,a,e){i.exports=e(230)},function(i,a,e){var n=e(252),s=e(89);i.exports=function(u){var c=n(u,"string");return s(c)?c:c+""}},function(i,a,e){var n=e(18),s=e(8),u=e(12),c=e(146),d=Object;i.exports=c?function(v){return typeof v=="symbol"}:function(v){var f=n("Symbol");return s(f)&&u(f.prototype,d(v))}},function(i,a,e){var n=e(13),s=e(8),u=e(33),c=e(91),d=e(150),v=c("IE_PROTO"),f=Object,h=f.prototype;i.exports=d?f.getPrototypeOf:function(g){var y=u(g);if(n(y,v))return y[v];var x=y.constructor;return s(x)&&y instanceof x?x.prototype:y instanceof f?h:null}},function(i,a,e){var n=e(75),s=e(112),u=n("keys");i.exports=function(c){return u[c]||(u[c]=s(c))}},function(i,a,e){var n=e(4),s=e(21),u=e(255);i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var c=!1,d={},v;try{v=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),v(d,[]),c=d instanceof Array}catch{}return function(h,g){return s(h),u(g),c?v(h,g):h.__proto__=g,h}}():void 0)},function(i,a){i.exports={}},function(i,a,e){var n=e(47),s=e(110),u=e(46),c=e(5),d=c("iterator");i.exports=function(v){if(v!=null)return s(v,d)||s(v,"@@iterator")||u[n(v)]}},function(i,a,e){var n=e(264),s=e(9),u=e(4),c=e(17),d=e(39),v=e(13),f=e(111),h=e(91),g=e(93),y="Object already initialized",x=s.TypeError,p=s.WeakMap,j,T,C,I=function(M){return C(M)?T(M):j(M,{})},U=function(M){return function(W){var Q;if(!c(W)||(Q=T(W)).type!==M)throw x("Incompatible receiver, "+M+" required");return Q}};if(n||f.state){var A=f.state||(f.state=new p),w=u(A.get),P=u(A.has),N=u(A.set);j=function(M,W){if(P(A,M))throw new x(y);return W.facade=M,N(A,M,W),W},T=function(M){return w(A,M)||{}},C=function(M){return P(A,M)}}else{var E=h("state");g[E]=!0,j=function(M,W){if(v(M,E))throw new x(y);return W.facade=M,d(M,E,W),W},T=function(M){return v(M,E)?M[E]:{}},C=function(M){return v(M,E)}}i.exports={set:j,get:T,has:C,enforce:I,getterFor:U}},function(i,a){},function(i,a,e){var n=e(54),s=e(9);i.exports=n(s.process)=="process"},function(i,a,e){var n=e(4),s=e(3),u=e(8),c=e(47),d=e(18),v=e(123),f=function(){},h=[],g=d("Reflect","construct"),y=/^\s*(?:class|function)\b/,x=n(y.exec),p=!y.exec(f),j=function(I){if(!u(I))return!1;try{return g(f,h,I),!0}catch{return!1}},T=function(I){if(!u(I))return!1;switch(c(I)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!x(y,v(I))}catch{return!0}};T.sham=!0,i.exports=!g||s(function(){var C;return j(j.call)||!j(Object)||!j(function(){C=!0})||C})?T:j},function(i,a,e){var n=e(4);i.exports=n([].slice)},function(i,a,e){a.a=u;var n=e(131),s=e(178);function u(c){return c=Object(n.a)({},c),function(d){return Object(s.a)(d,c)}}},function(i,a,e){var n=e(22),s=e(194),u=e(23),c=Object(n.a)(function(d,v){var f=c.placeholder,h=function(){for(var g=0,y=v.length,x=Array(y),p=0;p<y;p++)x[p]=v[p]===f?arguments[g++]:v[p];for(;g<arguments.length;)x.push(arguments[g++]);return Object(s.a)(d,h,this,this,x)};return h});c.placeholder=u.a,a.a=c},function(i,a,e){a.a=u;var n=e(19),s=e(52);function u(c,d){return function(v,f,h){var g=d?[[],[]]:{};return f=Object(n.a)(f,h),Object(s.a)(v,function(y,x){var p=f(y,x,v);c(g,y,p)}),g}}},function(i,a,e){var n=e(88),s=e(34),u=e(44);i.exports=function(c,d,v){var f=n(d);f in c?s.f(c,f,u(0,v)):c[f]=v}},function(i,a,e){var n=e(3),s=e(5),u=e(56),c=s("species");i.exports=function(d){return u>=51||!n(function(){var v=[],f=v.constructor={};return f[c]=function(){return{foo:1}},v[d](Boolean).foo!==1})}},function(i,a,e){var n=e(58),s=e(4),u=e(109),c=e(33),d=e(36),v=e(216),f=s([].push),h=function(g){var y=g==1,x=g==2,p=g==3,j=g==4,T=g==6,C=g==7,I=g==5||T;return function(U,A,w,P){for(var N=c(U),E=u(N),M=n(A,w),W=d(E),Q=0,G=P||v,H=y?G(U,W):x||C?G(U,0):void 0,J,K;W>Q;Q++)if((I||Q in E)&&(J=E[Q],K=M(J,Q,N),g))if(y)H[Q]=K;else if(K)switch(g){case 3:return!0;case 5:return J;case 6:return Q;case 2:f(H,J)}else switch(g){case 4:return!1;case 7:f(H,J)}return T?-1:p||j?j:H}};i.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6),filterReject:h(7)}},function(i,a,e){var n=e(1),s=n(e(141)),u=n(e(436)),c=n(e(42)),d=n(e(217)),v=n(e(37)),f=n(e(25));e(2);var h=e(441),g=h.timeout,y=e(69),x=y("leancloud:request"),p=y("leancloud:request:error"),j=e(70),T=j.getAdapter,C=0,I=function(A){var w=A.method,P=A.url,N=A.query,E=A.data,M=A.headers,W=M===void 0?{}:M,Q=A.timeout,G=A.onprogress;if(N){var H,J,K,k=(0,u.default)(H=(0,c.default)(J=(0,d.default)(N)).call(J,function(z){var X,q=N[z];if(q!==void 0){var ne=(0,s.default)(q)==="object"?(0,v.default)(q):q;return(0,f.default)(X="".concat(encodeURIComponent(z),"=")).call(X,encodeURIComponent(ne))}})).call(H,function(z){return z}).join("&");P=(0,f.default)(K="".concat(P,"?")).call(K,k)}var L=C++;x("request(%d) %s %s %o %o %o",L,w,P,N,E,W);var B=T("request"),$=B(P,{method:w,headers:W,data:E,onprogress:G}).then(function(z){if(x("response(%d) %d %O %o",L,z.status,z.data||z.text,z.header),z.ok===!1){var X=new Error;throw X.response=z,X}return z.data}).catch(function(z){throw z.response&&(y.enabled("leancloud:request")||p("request(%d) %s %s %o %o %o",L,w,P,N,E,W),p("response(%d) %d %O %o",L,z.response.status,z.response.data||z.response.text,z.response.header),z.statusCode=z.response.status,z.responseText=z.response.text,z.response=z.response.data),z});return Q?g($,Q):$};i.exports=I},function(i,a,e){i.exports=e(446)},function(i,a){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(e=window)}i.exports=e},function(i,a,e){var n=e(4),s=e(3),u=e(54),c=Object,d=n("".split);i.exports=s(function(){return!c("z").propertyIsEnumerable(0)})?function(v){return u(v)=="String"?d(v,""):c(v)}:c},function(i,a,e){var n=e(28);i.exports=function(s,u){var c=s[u];return c==null?void 0:n(c)}},function(i,a,e){var n=e(9),s=e(254),u="__core-js_shared__",c=n[u]||s(u,{});i.exports=c},function(i,a,e){var n=e(4),s=0,u=Math.random(),c=n(1 .toString);i.exports=function(d){return"Symbol("+(d===void 0?"":d)+")_"+c(++s+u,36)}},function(i,a,e){var n=e(9),s=e(17),u=n.document,c=s(u)&&s(u.createElement);i.exports=function(d){return c?u.createElement(d):{}}},function(i,a,e){var n=e(151),s=e(118),u=s.concat("length","prototype");a.f=Object.getOwnPropertyNames||function(d){return n(d,u)}},function(i,a,e){var n=e(35),s=e(116),u=e(36),c=function(d){return function(v,f,h){var g=n(v),y=u(g),x=s(h,y),p;if(d&&f!=f){for(;y>x;)if(p=g[x++],p!=p)return!0}else for(;y>x;x++)if((d||x in g)&&g[x]===f)return d||x||0;return!d&&-1}};i.exports={includes:c(!0),indexOf:c(!1)}},function(i,a,e){var n=e(117),s=Math.max,u=Math.min;i.exports=function(c,d){var v=n(c);return v<0?s(v+d,0):u(v,d)}},function(i,a,e){var n=e(258);i.exports=function(s){var u=+s;return u!==u||u===0?0:n(u)}},function(i,a){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(i,a){a.f=Object.getOwnPropertySymbols},function(i,a,e){var n=e(151),s=e(118);i.exports=Object.keys||function(c){return n(c,s)}},function(i,a,e){var n=e(5),s=n("toStringTag"),u={};u[s]="z",i.exports=String(u)==="[object z]"},function(i,a){i.exports=function(){}},function(i,a,e){var n=e(4),s=e(8),u=e(111),c=n(Function.toString);s(u.inspectSource)||(u.inspectSource=function(d){return c(d)}),i.exports=u.inspectSource},function(i,a,e){Object.defineProperty(a,"__esModule",{value:!0});var n=e(6);e.d(a,"VERSION",function(){return n.e});var s=e(22);e.d(a,"restArguments",function(){return s.a});var u=e(50);e.d(a,"isObject",function(){return u.a});var c=e(289);e.d(a,"isNull",function(){return c.a});var d=e(167);e.d(a,"isUndefined",function(){return d.a});var v=e(168);e.d(a,"isBoolean",function(){return v.a});var f=e(290);e.d(a,"isElement",function(){return f.a});var h=e(125);e.d(a,"isString",function(){return h.a});var g=e(169);e.d(a,"isNumber",function(){return g.a});var y=e(291);e.d(a,"isDate",function(){return y.a});var x=e(292);e.d(a,"isRegExp",function(){return x.a});var p=e(293);e.d(a,"isError",function(){return p.a});var j=e(170);e.d(a,"isSymbol",function(){return j.a});var T=e(171);e.d(a,"isArrayBuffer",function(){return T.a});var C=e(126);e.d(a,"isDataView",function(){return C.a});var I=e(51);e.d(a,"isArray",function(){return I.a});var U=e(29);e.d(a,"isFunction",function(){return U.a});var A=e(127);e.d(a,"isArguments",function(){return A.a});var w=e(295);e.d(a,"isFinite",function(){return w.a});var P=e(172);e.d(a,"isNaN",function(){return P.a});var N=e(173);e.d(a,"isTypedArray",function(){return N.a});var E=e(297);e.d(a,"isEmpty",function(){return E.a});var M=e(178);e.d(a,"isMatch",function(){return M.a});var W=e(298);e.d(a,"isEqual",function(){return W.a});var Q=e(300);e.d(a,"isMap",function(){return Q.a});var G=e(301);e.d(a,"isWeakMap",function(){return G.a});var H=e(302);e.d(a,"isSet",function(){return H.a});var J=e(303);e.d(a,"isWeakSet",function(){return J.a});var K=e(14);e.d(a,"keys",function(){return K.a});var k=e(81);e.d(a,"allKeys",function(){return k.a});var L=e(64);e.d(a,"values",function(){return L.a});var B=e(304);e.d(a,"pairs",function(){return B.a});var $=e(179);e.d(a,"invert",function(){return $.a});var z=e(180);e.d(a,"functions",function(){return z.a}),e.d(a,"methods",function(){return z.a});var X=e(181);e.d(a,"extend",function(){return X.a});var q=e(131);e.d(a,"extendOwn",function(){return q.a}),e.d(a,"assign",function(){return q.a});var ne=e(182);e.d(a,"defaults",function(){return ne.a});var ae=e(305);e.d(a,"create",function(){return ae.a});var ie=e(184);e.d(a,"clone",function(){return ie.a});var ve=e(306);e.d(a,"tap",function(){return ve.a});var Pe=e(185);e.d(a,"get",function(){return Pe.a});var fe=e(307);e.d(a,"has",function(){return fe.a});var se=e(308);e.d(a,"mapObject",function(){return se.a});var he=e(133);e.d(a,"identity",function(){return he.a});var oe=e(174);e.d(a,"constant",function(){return oe.a});var ge=e(189);e.d(a,"noop",function(){return ge.a});var Ee=e(186);e.d(a,"toPath",function(){return Ee.a});var Ue=e(134);e.d(a,"property",function(){return Ue.a});var Ye=e(309);e.d(a,"propertyOf",function(){return Ye.a});var Qe=e(100);e.d(a,"matcher",function(){return Qe.a}),e.d(a,"matches",function(){return Qe.a});var et=e(310);e.d(a,"times",function(){return et.a});var tt=e(190);e.d(a,"random",function(){return tt.a});var Nt=e(135);e.d(a,"now",function(){return Nt.a});var vr=e(311);e.d(a,"escape",function(){return vr.a});var Qt=e(312);e.d(a,"unescape",function(){return Qt.a});var _t=e(193);e.d(a,"templateSettings",function(){return _t.a});var yt=e(314);e.d(a,"template",function(){return yt.a});var ct=e(315);e.d(a,"result",function(){return ct.a});var Pt=e(316);e.d(a,"uniqueId",function(){return Pt.a});var me=e(317);e.d(a,"chain",function(){return me.a});var Ce=e(188);e.d(a,"iteratee",function(){return Ce.a});var Le=e(101);e.d(a,"partial",function(){return Le.a});var We=e(195);e.d(a,"bind",function(){return We.a});var Fe=e(318);e.d(a,"bindAll",function(){return Fe.a});var Be=e(319);e.d(a,"memoize",function(){return Be.a});var Ie=e(196);e.d(a,"delay",function(){return Ie.a});var Ae=e(320);e.d(a,"defer",function(){return Ae.a});var Re=e(321);e.d(a,"throttle",function(){return Re.a});var Ke=e(322);e.d(a,"debounce",function(){return Ke.a});var ht=e(323);e.d(a,"wrap",function(){return ht.a});var Qr=e(136);e.d(a,"negate",function(){return Qr.a});var mr=e(324);e.d(a,"compose",function(){return mr.a});var gr=e(325);e.d(a,"after",function(){return gr.a});var Ws=e(197);e.d(a,"before",function(){return Ws.a});var Ks=e(326);e.d(a,"once",function(){return Ks.a});var Fs=e(198);e.d(a,"findKey",function(){return Fs.a});var ks=e(137);e.d(a,"findIndex",function(){return ks.a});var zs=e(200);e.d(a,"findLastIndex",function(){return zs.a});var Zn=e(201);e.d(a,"sortedIndex",function(){return Zn.a});var $s=e(202);e.d(a,"indexOf",function(){return $s.a});var Hr=e(327);e.d(a,"lastIndexOf",function(){return Hr.a});var hn=e(204);e.d(a,"find",function(){return hn.a}),e.d(a,"detect",function(){return hn.a});var Gr=e(328);e.d(a,"findWhere",function(){return Gr.a});var Qs=e(52);e.d(a,"each",function(){return Qs.a}),e.d(a,"forEach",function(){return Qs.a});var pr=e(66);e.d(a,"map",function(){return pr.a}),e.d(a,"collect",function(){return pr.a});var yr=e(329);e.d(a,"reduce",function(){return yr.a}),e.d(a,"foldl",function(){return yr.a}),e.d(a,"inject",function(){return yr.a});var Jr=e(330);e.d(a,"reduceRight",function(){return Jr.a}),e.d(a,"foldr",function(){return Jr.a});var vn=e(84);e.d(a,"filter",function(){return vn.a}),e.d(a,"select",function(){return vn.a});var di=e(331);e.d(a,"reject",function(){return di.a});var Hs=e(332);e.d(a,"every",function(){return Hs.a}),e.d(a,"all",function(){return Hs.a});var Gs=e(333);e.d(a,"some",function(){return Gs.a}),e.d(a,"any",function(){return Gs.a});var Ht=e(85);e.d(a,"contains",function(){return Ht.a}),e.d(a,"includes",function(){return Ht.a}),e.d(a,"include",function(){return Ht.a});var Js=e(334);e.d(a,"invoke",function(){return Js.a});var Ys=e(138);e.d(a,"pluck",function(){return Ys.a});var fi=e(335);e.d(a,"where",function(){return fi.a});var Xs=e(206);e.d(a,"max",function(){return Xs.a});var Zs=e(336);e.d(a,"min",function(){return Zs.a});var Vs=e(337);e.d(a,"shuffle",function(){return Vs.a});var qs=e(207);e.d(a,"sample",function(){return qs.a});var hi=e(338);e.d(a,"sortBy",function(){return hi.a});var vi=e(339);e.d(a,"groupBy",function(){return vi.a});var Ze=e(340);e.d(a,"indexBy",function(){return Ze.a});var mi=e(341);e.d(a,"countBy",function(){return mi.a});var Vn=e(342);e.d(a,"partition",function(){return Vn.a});var _s=e(343);e.d(a,"toArray",function(){return _s.a});var mn=e(344);e.d(a,"size",function(){return mn.a});var gi=e(208);e.d(a,"pick",function(){return gi.a});var ea=e(346);e.d(a,"omit",function(){return ea.a});var xr=e(347);e.d(a,"first",function(){return xr.a}),e.d(a,"head",function(){return xr.a}),e.d(a,"take",function(){return xr.a});var Bt=e(209);e.d(a,"initial",function(){return Bt.a});var pi=e(348);e.d(a,"last",function(){return pi.a});var xt=e(210);e.d(a,"rest",function(){return xt.a}),e.d(a,"tail",function(){return xt.a}),e.d(a,"drop",function(){return xt.a});var yi=e(349);e.d(a,"compact",function(){return yi.a});var xi=e(350);e.d(a,"flatten",function(){return xi.a});var Ei=e(351);e.d(a,"without",function(){return Ei.a});var Yr=e(212);e.d(a,"uniq",function(){return Yr.a}),e.d(a,"unique",function(){return Yr.a});var gn=e(352);e.d(a,"union",function(){return gn.a});var Xr=e(353);e.d(a,"intersection",function(){return Xr.a});var pn=e(211);e.d(a,"difference",function(){return pn.a});var ta=e(213);e.d(a,"unzip",function(){return ta.a}),e.d(a,"transpose",function(){return ta.a});var ji=e(354);e.d(a,"zip",function(){return ji.a});var qn=e(355);e.d(a,"object",function(){return qn.a});var ra=e(356);e.d(a,"range",function(){return ra.a});var _n=e(357);e.d(a,"chunk",function(){return _n.a});var Zr=e(358);e.d(a,"mixin",function(){return Zr.a});var Oi=e(359);e.d(a,"default",function(){return Oi.a})},function(i,a,e){var n=e(16);a.a=Object(n.a)("String")},function(i,a,e){var n=e(16),s=e(29),u=e(171),c=e(80),d=Object(n.a)("DataView");function v(f){return f!=null&&Object(s.a)(f.getInt8)&&Object(u.a)(f.buffer)}a.a=c.a?v:d},function(i,a,e){var n=e(16),s=e(41),u=Object(n.a)("Arguments");(function(){u(arguments)||(u=function(c){return Object(s.a)(c,"callee")})})(),a.a=u},function(i,a,e){var n=e(176);a.a=Object(n.a)("byteLength")},function(i,a,e){a.a=c,e.d(a,"b",function(){return g}),e.d(a,"d",function(){return y}),e.d(a,"c",function(){return x});var n=e(30),s=e(29),u=e(81);function c(p){var j=Object(n.a)(p);return function(T){if(T==null)return!1;var C=Object(u.a)(T);if(Object(n.a)(C))return!1;for(var I=0;I<j;I++)if(!Object(s.a)(T[p[I]]))return!1;return p!==y||!Object(s.a)(T[d])}}var d="forEach",v="has",f=["clear","delete"],h=["get",v,"set"],g=f.concat(d,h),y=f.concat(h),x=["add"].concat(f,d,v)},function(i,a,e){a.a=n;function n(s,u){return function(c){var d=arguments.length;if(u&&(c=Object(c)),d<2||c==null)return c;for(var v=1;v<d;v++)for(var f=arguments[v],h=s(f),g=h.length,y=0;y<g;y++){var x=h[y];(!u||c[x]===void 0)&&(c[x]=f[x])}return c}}},function(i,a,e){var n=e(130),s=e(14);a.a=Object(n.a)(s.a)},function(i,a,e){a.a=n;function n(s,u){for(var c=u.length,d=0;d<c;d++){if(s==null)return;s=s[u[d]]}return c?s:void 0}},function(i,a,e){a.a=n;function n(s){return s}},function(i,a,e){a.a=u;var n=e(132),s=e(82);function u(c){return c=Object(s.a)(c),function(d){return Object(n.a)(d,c)}}},function(i,a,e){a.a=Date.now||function(){return new Date().getTime()}},function(i,a,e){a.a=n;function n(s){return function(){return!s.apply(this,arguments)}}},function(i,a,e){var n=e(199);a.a=Object(n.a)(1)},function(i,a,e){a.a=u;var n=e(66),s=e(134);function u(c,d){return Object(n.a)(c,Object(s.a)(d))}},function(i,a,e){var n=e(3);i.exports=function(s,u){var c=[][s];return!!c&&n(function(){c.call(null,u||function(){return 1},1)})}},function(i,a,e){i.exports=e(228)},function(i,a,e){var n=e(229),s=e(431);function u(c){"@babel/helpers - typeof";return i.exports=u=typeof n=="function"&&typeof s=="symbol"?function(d){return typeof d}:function(d){return d&&typeof n=="function"&&d.constructor===n&&d!==n.prototype?"symbol":typeof d},i.exports.__esModule=!0,i.exports.default=i.exports,u(c)}i.exports=u,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,a,e){var n=e(5);a.f=n},function(i,a,e){i.exports=e(475)},function(i,a,e){i.exports=e(235)},function(i,a,e){var n={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,u=s&&!n.call({1:2},1);a.f=u?function(d){var v=s(this,d);return!!v&&v.enumerable}:n},function(i,a,e){var n=e(55);i.exports=n&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(i,a,e){var n=e(20),s=e(3),u=e(113);i.exports=!n&&!s(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},function(i,a,e){var n=e(3),s=e(8),u=/#|\.prototype\./,c=function(g,y){var x=v[d(g)];return x==h?!0:x==f?!1:s(y)?n(y):!!y},d=c.normalize=function(g){return String(g).replace(u,".").toLowerCase()},v=c.data={},f=c.NATIVE="N",h=c.POLYFILL="P";i.exports=c},function(i,a,e){var n=e(20),s=e(3);i.exports=n&&s(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},function(i,a,e){var n=e(3);i.exports=!n(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},function(i,a,e){var n=e(4),s=e(13),u=e(35),c=e(115).indexOf,d=e(93),v=n([].push);i.exports=function(f,h){var g=u(f),y=0,x=[],p;for(p in g)!s(d,p)&&s(g,p)&&v(x,p);for(;h.length>y;)s(g,p=h[y++])&&(~c(x,p)||v(x,p));return x}},function(i,a,e){var n=e(20),s=e(149),u=e(34),c=e(21),d=e(35),v=e(120);a.f=n&&!s?Object.defineProperties:function(h,g){c(h);for(var y=d(g),x=v(g),p=x.length,j=0,T;p>j;)u.f(h,T=x[j++],y[T]);return h}},function(i,a,e){var n=e(18);i.exports=n("document","documentElement")},function(i,a,e){var n=e(5),s=e(46),u=n("iterator"),c=Array.prototype;i.exports=function(d){return d!==void 0&&(s.Array===d||c[u]===d)}},function(i,a,e){var n=e(11),s=e(28),u=e(21),c=e(57),d=e(94),v=TypeError;i.exports=function(f,h){var g=arguments.length<2?d(f):h;if(s(g))return u(n(g,f));throw v(c(f)+" is not iterable")}},function(i,a,e){var n=e(11),s=e(21),u=e(110);i.exports=function(c,d,v){var f,h;s(c);try{if(f=u(c,"return"),!f){if(d==="throw")throw v;return v}f=n(f,c)}catch(g){h=!0,f=g}if(d==="throw")throw v;if(h)throw f;return s(f),v}},function(i,a,e){var n=e(0),s=e(11),u=e(32),c=e(158),d=e(8),v=e(265),f=e(90),h=e(92),g=e(61),y=e(39),x=e(48),p=e(5),j=e(46),T=e(159),C=c.PROPER,I=c.CONFIGURABLE,U=T.IteratorPrototype,A=T.BUGGY_SAFARI_ITERATORS,w=p("iterator"),P="keys",N="values",E="entries",M=function(){return this};i.exports=function(W,Q,G,H,J,K,k){v(G,Q,H);var L=function(Pe){if(Pe===J&&q)return q;if(!A&&Pe in z)return z[Pe];switch(Pe){case P:return function(){return new G(this,Pe)};case N:return function(){return new G(this,Pe)};case E:return function(){return new G(this,Pe)}}return function(){return new G(this)}},B=Q+" Iterator",$=!1,z=W.prototype,X=z[w]||z["@@iterator"]||J&&z[J],q=!A&&X||L(J),ne=Q=="Array"&&z.entries||X,ae,ie,ve;if(ne&&(ae=f(ne.call(new W)),ae!==Object.prototype&&ae.next&&(!u&&f(ae)!==U&&(h?h(ae,U):d(ae[w])||x(ae,w,M)),g(ae,B,!0,!0),u&&(j[B]=M))),C&&J==N&&X&&X.name!==N&&(!u&&I?y(z,"name",N):($=!0,q=function(){return s(X,this)})),J)if(ie={values:L(N),keys:K?q:L(P),entries:L(E)},k)for(ve in ie)(A||$||!(ve in z))&&x(z,ve,ie[ve]);else n({target:Q,proto:!0,forced:A||$},ie);return(!u||k)&&z[w]!==q&&x(z,w,q,{name:J}),j[Q]=q,ie}},function(i,a,e){var n=e(20),s=e(13),u=Function.prototype,c=n&&Object.getOwnPropertyDescriptor,d=s(u,"name"),v=d&&(function(){}).name==="something",f=d&&(!n||n&&c(u,"name").configurable);i.exports={EXISTS:d,PROPER:v,CONFIGURABLE:f}},function(i,a,e){var n=e(3),s=e(8),u=e(59),c=e(90),d=e(48),v=e(5),f=e(32),h=v("iterator"),g=!1,y,x,p;[].keys&&(p=[].keys(),"next"in p?(x=c(c(p)),x!==Object.prototype&&(y=x)):g=!0);var j=y==null||n(function(){var T={};return y[h].call(T)!==T});j?y={}:f&&(y=u(y)),s(y[h])||d(y,h,function(){return this}),i.exports={IteratorPrototype:y,BUGGY_SAFARI_ITERATORS:g}},function(i,a,e){var n=e(21),s=e(161),u=e(5),c=u("species");i.exports=function(d,v){var f=n(d).constructor,h;return f===void 0||(h=n(f)[c])==null?v:s(h)}},function(i,a,e){var n=e(98),s=e(57),u=TypeError;i.exports=function(c){if(n(c))return c;throw u(s(c)+" is not a constructor")}},function(i,a,e){var n=e(9),s=e(71),u=e(58),c=e(8),d=e(13),v=e(3),f=e(153),h=e(99),g=e(113),y=e(271),x=e(163),p=e(97),j=n.setImmediate,T=n.clearImmediate,C=n.process,I=n.Dispatch,U=n.Function,A=n.MessageChannel,w=n.String,P=0,N={},E="onreadystatechange",M,W,Q,G;try{M=n.location}catch{}var H=function(L){if(d(N,L)){var B=N[L];delete N[L],B()}},J=function(L){return function(){H(L)}},K=function(L){H(L.data)},k=function(L){n.postMessage(w(L),M.protocol+"//"+M.host)};(!j||!T)&&(j=function(B){y(arguments.length,1);var $=c(B)?B:U(B),z=h(arguments,1);return N[++P]=function(){s($,void 0,z)},W(P),P},T=function(B){delete N[B]},p?W=function(L){C.nextTick(J(L))}:I&&I.now?W=function(L){I.now(J(L))}:A&&!x?(Q=new A,G=Q.port2,Q.port1.onmessage=K,W=u(G.postMessage,G)):n.addEventListener&&c(n.postMessage)&&!n.importScripts&&M&&M.protocol!=="file:"&&!v(k)?(W=k,n.addEventListener("message",K,!1)):E in g("script")?W=function(L){f.appendChild(g("script"))[E]=function(){f.removeChild(this),H(L)}}:W=function(L){setTimeout(J(L),0)}),i.exports={set:j,clear:T}},function(i,a,e){var n=e(45);i.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},function(i,a,e){var n=e(62),s=e(165),u=e(78).CONSTRUCTOR;i.exports=u||!s(function(c){n.all(c).then(void 0,function(){})})},function(i,a,e){var n=e(5),s=n("iterator"),u=!1;try{var c=0,d={next:function(){return{done:!!c++}},return:function(){u=!0}};d[s]=function(){return this},Array.from(d,function(){throw 2})}catch{}i.exports=function(v,f){if(!f&&!u)return!1;var h=!1;try{var g={};g[s]=function(){return{next:function(){return{done:h=!0}}}},v(g)}catch{}return h}},function(i,a,e){var n=e(21),s=e(17),u=e(49);i.exports=function(c,d){if(n(c),s(d)&&d.constructor===c)return d;var v=u.f(c),f=v.resolve;return f(d),v.promise}},function(i,a,e){a.a=n;function n(s){return s===void 0}},function(i,a,e){a.a=s;var n=e(6);function s(u){return u===!0||u===!1||n.t.call(u)==="[object Boolean]"}},function(i,a,e){var n=e(16);a.a=Object(n.a)("Number")},function(i,a,e){var n=e(16);a.a=Object(n.a)("Symbol")},function(i,a,e){var n=e(16);a.a=Object(n.a)("ArrayBuffer")},function(i,a,e){a.a=u;var n=e(6),s=e(169);function u(c){return Object(s.a)(c)&&Object(n.g)(c)}},function(i,a,e){var n=e(6),s=e(126),u=e(174),c=e(296),d=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function v(f){return n.l?Object(n.l)(f)&&!Object(s.a)(f):Object(c.a)(f)&&d.test(n.t.call(f))}a.a=n.r?v:Object(u.a)(!1)},function(i,a,e){a.a=n;function n(s){return function(){return s}}},function(i,a,e){a.a=s;var n=e(6);function s(u){return function(c){var d=u(c);return typeof d=="number"&&d>=0&&d<=n.b}}},function(i,a,e){a.a=n;function n(s){return function(u){return u?.[s]}}},function(i,a,e){a.a=d;var n=e(6),s=e(29),u=e(41);function c(v){for(var f={},h=v.length,g=0;g<h;++g)f[v[g]]=!0;return{contains:function(y){return f[y]},push:function(y){return f[y]=!0,v.push(y)}}}function d(v,f){f=c(f);var h=n.n.length,g=v.constructor,y=Object(s.a)(g)&&g.prototype||n.c,x="constructor";for(Object(u.a)(v,x)&&!f.contains(x)&&f.push(x);h--;)x=n.n[h],x in v&&v[x]!==y[x]&&!f.contains(x)&&f.push(x)}},function(i,a,e){a.a=s;var n=e(14);function s(u,c){var d=Object(n.a)(c),v=d.length;if(u==null)return!v;for(var f=Object(u),h=0;h<v;h++){var g=d[h];if(c[g]!==f[g]||!(g in f))return!1}return!0}},function(i,a,e){a.a=s;var n=e(14);function s(u){for(var c={},d=Object(n.a)(u),v=0,f=d.length;v<f;v++)c[u[d[v]]]=d[v];return c}},function(i,a,e){a.a=s;var n=e(29);function s(u){var c=[];for(var d in u)Object(n.a)(u[d])&&c.push(d);return c.sort()}},function(i,a,e){var n=e(130),s=e(81);a.a=Object(n.a)(s.a)},function(i,a,e){var n=e(130),s=e(81);a.a=Object(n.a)(s.a,!0)},function(i,a,e){a.a=c;var n=e(50),s=e(6);function u(){return function(){}}function c(d){if(!Object(n.a)(d))return{};if(s.j)return Object(s.j)(d);var v=u();v.prototype=d;var f=new v;return v.prototype=null,f}},function(i,a,e){a.a=c;var n=e(50),s=e(51),u=e(181);function c(d){return Object(n.a)(d)?Object(s.a)(d)?d.slice():Object(u.a)({},d):d}},function(i,a,e){a.a=c;var n=e(82),s=e(132),u=e(167);function c(d,v,f){var h=Object(s.a)(d,Object(n.a)(v));return Object(u.a)(h)?f:h}},function(i,a,e){a.a=u;var n=e(23),s=e(51);function u(c){return Object(s.a)(c)?c:[c]}n.a.toPath=u},function(i,a,e){a.a=h;var n=e(133),s=e(29),u=e(50),c=e(51),d=e(100),v=e(134),f=e(83);function h(g,y,x){return g==null?n.a:Object(s.a)(g)?Object(f.a)(g,y,x):Object(u.a)(g)&&!Object(c.a)(g)?Object(d.a)(g):Object(v.a)(g)}},function(i,a,e){a.a=u;var n=e(23),s=e(187);function u(c,d){return Object(s.a)(c,d,1/0)}n.a.iteratee=u},function(i,a,e){a.a=n;function n(){}},function(i,a,e){a.a=n;function n(s,u){return u==null&&(u=s,s=0),s+Math.floor(Math.random()*(u-s+1))}},function(i,a,e){a.a=s;var n=e(14);function s(u){var c=function(h){return u[h]},d="(?:"+Object(n.a)(u).join("|")+")",v=RegExp(d),f=RegExp(d,"g");return function(h){return h=h==null?"":""+h,v.test(h)?h.replace(f,c):h}}},function(i,a,e){a.a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}},function(i,a,e){var n=e(23);a.a=n.a.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g}},function(i,a,e){a.a=u;var n=e(183),s=e(50);function u(c,d,v,f,h){if(!(f instanceof d))return c.apply(v,h);var g=Object(n.a)(c.prototype),y=c.apply(g,h);return Object(s.a)(y)?y:g}},function(i,a,e){var n=e(22),s=e(29),u=e(194);a.a=Object(n.a)(function(c,d,v){if(!Object(s.a)(c))throw new TypeError("Bind must be called on a function");var f=Object(n.a)(function(h){return Object(u.a)(c,f,d,this,v.concat(h))});return f})},function(i,a,e){var n=e(22);a.a=Object(n.a)(function(s,u,c){return setTimeout(function(){return s.apply(null,c)},u)})},function(i,a,e){a.a=n;function n(s,u){var c;return function(){return--s>0&&(c=u.apply(this,arguments)),s<=1&&(u=null),c}}},function(i,a,e){a.a=u;var n=e(19),s=e(14);function u(c,d,v){d=Object(n.a)(d,v);for(var f=Object(s.a)(c),h,g=0,y=f.length;g<y;g++)if(h=f[g],d(c[h],h,c))return h}},function(i,a,e){a.a=u;var n=e(19),s=e(30);function u(c){return function(d,v,f){v=Object(n.a)(v,f);for(var h=Object(s.a)(d),g=c>0?0:h-1;g>=0&&g<h;g+=c)if(v(d[g],g,d))return g;return-1}}},function(i,a,e){var n=e(199);a.a=Object(n.a)(-1)},function(i,a,e){a.a=u;var n=e(19),s=e(30);function u(c,d,v,f){v=Object(n.a)(v,f,1);for(var h=v(d),g=0,y=Object(s.a)(c);g<y;){var x=Math.floor((g+y)/2);v(c[x])<h?g=x+1:y=x}return g}},function(i,a,e){var n=e(201),s=e(137),u=e(203);a.a=Object(u.a)(1,s.a,n.a)},function(i,a,e){a.a=c;var n=e(30),s=e(6),u=e(172);function c(d,v,f){return function(h,g,y){var x=0,p=Object(n.a)(h);if(typeof y=="number")d>0?x=y>=0?y:Math.max(y+p,x):p=y>=0?Math.min(y+1,p):y+p+1;else if(f&&y&&p)return y=f(h,g),h[y]===g?y:-1;if(g!==g)return y=v(s.q.call(h,x,p),u.a),y>=0?y+x:-1;for(y=d>0?x:p-1;y>=0&&y<p;y+=d)if(h[y]===g)return y;return-1}}},function(i,a,e){a.a=c;var n=e(24),s=e(137),u=e(198);function c(d,v,f){var h=Object(n.a)(d)?s.a:u.a,g=h(d,v,f);if(g!==void 0&&g!==-1)return d[g]}},function(i,a,e){a.a=c;var n=e(24),s=e(14),u=e(83);function c(d){var v=function(f,h,g,y){var x=!Object(n.a)(f)&&Object(s.a)(f),p=(x||f).length,j=d>0?0:p-1;for(y||(g=f[x?x[j]:j],j+=d);j>=0&&j<p;j+=d){var T=x?x[j]:j;g=h(g,f[T],T,f)}return g};return function(f,h,g,y){var x=arguments.length>=3;return v(f,Object(u.a)(h,y,4),g,x)}}},function(i,a,e){a.a=d;var n=e(24),s=e(64),u=e(19),c=e(52);function d(v,f,h){var g=-1/0,y=-1/0,x,p;if(f==null||typeof f=="number"&&typeof v[0]!="object"&&v!=null){v=Object(n.a)(v)?v:Object(s.a)(v);for(var j=0,T=v.length;j<T;j++)x=v[j],x!=null&&x>g&&(g=x)}else f=Object(u.a)(f,h),Object(c.a)(v,function(C,I,U){p=f(C,I,U),(p>y||p===-1/0&&g===-1/0)&&(g=C,y=p)});return g}},function(i,a,e){a.a=v;var n=e(24),s=e(184),u=e(64),c=e(30),d=e(190);function v(f,h,g){if(h==null||g)return Object(n.a)(f)||(f=Object(u.a)(f)),f[Object(d.a)(f.length-1)];var y=Object(n.a)(f)?Object(s.a)(f):Object(u.a)(f),x=Object(c.a)(y);h=Math.max(Math.min(h,x),0);for(var p=x-1,j=0;j<h;j++){var T=Object(d.a)(j,p),C=y[j];y[j]=y[T],y[T]=C}return y.slice(0,h)}},function(i,a,e){var n=e(22),s=e(29),u=e(83),c=e(81),d=e(345),v=e(65);a.a=Object(n.a)(function(f,h){var g={},y=h[0];if(f==null)return g;Object(s.a)(y)?(h.length>1&&(y=Object(u.a)(y,h[1])),h=Object(c.a)(f)):(y=d.a,h=Object(v.a)(h,!1,!1),f=Object(f));for(var x=0,p=h.length;x<p;x++){var j=h[x],T=f[j];y(T,j,f)&&(g[j]=T)}return g})},function(i,a,e){a.a=s;var n=e(6);function s(u,c,d){return n.q.call(u,0,Math.max(0,u.length-(c==null||d?1:c)))}},function(i,a,e){a.a=s;var n=e(6);function s(u,c,d){return n.q.call(u,c==null||d?1:c)}},function(i,a,e){var n=e(22),s=e(65),u=e(84),c=e(85);a.a=Object(n.a)(function(d,v){return v=Object(s.a)(v,!0,!0),Object(u.a)(d,function(f){return!Object(c.a)(v,f)})})},function(i,a,e){a.a=d;var n=e(168),s=e(19),u=e(30),c=e(85);function d(v,f,h,g){Object(n.a)(f)||(g=h,h=f,f=!1),h!=null&&(h=Object(s.a)(h,g));for(var y=[],x=[],p=0,j=Object(u.a)(v);p<j;p++){var T=v[p],C=h?h(T,p,v):T;f&&!h?((!p||x!==C)&&y.push(T),x=C):h?Object(c.a)(x,C)||(x.push(C),y.push(T)):Object(c.a)(y,T)||y.push(T)}return y}},function(i,a,e){a.a=c;var n=e(206),s=e(30),u=e(138);function c(d){for(var v=d&&Object(n.a)(d,s.a).length||0,f=Array(v),h=0;h<v;h++)f[h]=Object(u.a)(d,h);return f}},function(i,a,e){a.a=s;var n=e(23);function s(u,c){return u._chain?Object(n.a)(c).chain():c}},function(i,a,e){var n=e(0),s=e(3),u=e(86),c=e(17),d=e(33),v=e(36),f=e(363),h=e(103),g=e(216),y=e(104),x=e(5),p=e(56),j=x("isConcatSpreadable"),T=p>=51||!s(function(){var A=[];return A[j]=!1,A.concat()[0]!==A}),C=y("concat"),I=function(A){if(!c(A))return!1;var w=A[j];return w!==void 0?!!w:u(A)},U=!T||!C;n({target:"Array",proto:!0,arity:1,forced:U},{concat:function(w){var P=d(this),N=g(P,0),E=0,M,W,Q,G,H;for(M=-1,Q=arguments.length;M<Q;M++)if(H=M===-1?P:arguments[M],I(H))for(G=v(H),f(E+G),W=0;W<G;W++,E++)W in H&&h(N,E,H[W]);else f(E+1),h(N,E++,H);return N.length=E,N}})},function(i,a,e){var n=e(364);i.exports=function(s,u){return new(n(s))(u===0?0:u)}},function(i,a,e){i.exports=e(369)},function(i,a,e){var n=e(0),s=e(18),u=e(71),c=e(11),d=e(4),v=e(3),f=e(86),h=e(8),g=e(17),y=e(89),x=e(99),p=e(55),j=s("JSON","stringify"),T=d(/./.exec),C=d("".charAt),I=d("".charCodeAt),U=d("".replace),A=d(1 .toString),w=/[\uD800-\uDFFF]/g,P=/^[\uD800-\uDBFF]$/,N=/^[\uDC00-\uDFFF]$/,E=!p||v(function(){var G=s("Symbol")();return j([G])!="[null]"||j({a:G})!="{}"||j(Object(G))!="{}"}),M=v(function(){return j("\uDF06\uD834")!=='"\\udf06\\ud834"'||j("\uDEAD")!=='"\\udead"'}),W=function(G,H){var J=x(arguments),K=H;if(!(!g(H)&&G===void 0||y(G)))return f(H)||(H=function(k,L){if(h(K)&&(L=c(K,this,k,L)),!y(L))return L}),J[1]=H,u(j,null,J)},Q=function(G,H,J){var K=C(J,H-1),k=C(J,H+1);return T(P,G)&&!T(N,k)||T(N,G)&&!T(P,K)?"\\u"+A(I(G,0),16):G};j&&n({target:"JSON",stat:!0,arity:3,forced:E||M},{stringify:function(H,J,K){var k=x(arguments),L=u(E?W:j,null,k);return M&&typeof L=="string"?U(L,w,Q):L}})},function(i,a,e){var n=e(381),s=e(382);function u(c,d,v){var f=d&&v||0;typeof c=="string"&&(d=c==="binary"?new Array(16):null,c=null),c=c||{};var h=c.random||(c.rng||n)();if(h[6]=h[6]&15|64,h[8]=h[8]&63|128,d)for(var g=0;g<16;++g)d[f+g]=h[g];return d||s(h)}i.exports=u},function(i,a,e){i.exports=e(221)},function(i,a,e){var n=e(385);i.exports=n},function(i,a,e){i.exports="4.15.2"},function(i,a,e){var n=Object.prototype.hasOwnProperty,s="~";function u(){}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(s=!1));function c(v,f,h){this.fn=v,this.context=f,this.once=h||!1}function d(){this._events=new u,this._eventsCount=0}d.prototype.eventNames=function(){var f=[],h,g;if(this._eventsCount===0)return f;for(g in h=this._events)n.call(h,g)&&f.push(s?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},d.prototype.listeners=function(f,h){var g=s?s+f:f,y=this._events[g];if(h)return!!y;if(!y)return[];if(y.fn)return[y.fn];for(var x=0,p=y.length,j=new Array(p);x<p;x++)j[x]=y[x].fn;return j},d.prototype.emit=function(f,h,g,y,x,p){var j=s?s+f:f;if(!this._events[j])return!1;var T=this._events[j],C=arguments.length,I,U;if(T.fn){switch(T.once&&this.removeListener(f,T.fn,void 0,!0),C){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,h),!0;case 3:return T.fn.call(T.context,h,g),!0;case 4:return T.fn.call(T.context,h,g,y),!0;case 5:return T.fn.call(T.context,h,g,y,x),!0;case 6:return T.fn.call(T.context,h,g,y,x,p),!0}for(U=1,I=new Array(C-1);U<C;U++)I[U-1]=arguments[U];T.fn.apply(T.context,I)}else{var A=T.length,w;for(U=0;U<A;U++)switch(T[U].once&&this.removeListener(f,T[U].fn,void 0,!0),C){case 1:T[U].fn.call(T[U].context);break;case 2:T[U].fn.call(T[U].context,h);break;case 3:T[U].fn.call(T[U].context,h,g);break;case 4:T[U].fn.call(T[U].context,h,g,y);break;default:if(!I)for(w=1,I=new Array(C-1);w<C;w++)I[w-1]=arguments[w];T[U].fn.apply(T[U].context,I)}}return!0},d.prototype.on=function(f,h,g){var y=new c(h,g||this),x=s?s+f:f;return this._events[x]?this._events[x].fn?this._events[x]=[this._events[x],y]:this._events[x].push(y):(this._events[x]=y,this._eventsCount++),this},d.prototype.once=function(f,h,g){var y=new c(h,g||this,!0),x=s?s+f:f;return this._events[x]?this._events[x].fn?this._events[x]=[this._events[x],y]:this._events[x].push(y):(this._events[x]=y,this._eventsCount++),this},d.prototype.removeListener=function(f,h,g,y){var x=s?s+f:f;if(!this._events[x])return this;if(!h)return--this._eventsCount===0?this._events=new u:delete this._events[x],this;var p=this._events[x];if(p.fn)p.fn===h&&(!y||p.once)&&(!g||p.context===g)&&(--this._eventsCount===0?this._events=new u:delete this._events[x]);else{for(var j=0,T=[],C=p.length;j<C;j++)(p[j].fn!==h||y&&!p[j].once||g&&p[j].context!==g)&&T.push(p[j]);T.length?this._events[x]=T.length===1?T[0]:T:--this._eventsCount===0?this._events=new u:delete this._events[x]}return this},d.prototype.removeAllListeners=function(f){var h;return f?(h=s?s+f:f,this._events[h]&&(--this._eventsCount===0?this._events=new u:delete this._events[h])):(this._events=new u,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prototype.setMaxListeners=function(){return this},d.prefixed=s,d.EventEmitter=d,i.exports=d},function(i,a,e){var n=e(1),s=n(e(10)),u=e(70),c=u.getAdapter,d=["getItem","setItem","removeItem","clear"],v={get async(){return c("storage").async}};d.forEach(function(f){v[f+"Async"]=function(){var h=c("storage");return s.default.resolve(h[f].apply(h,arguments))},v[f]=function(){var h=c("storage");if(!h.async)return h[f].apply(h,arguments);var g=new Error("Synchronous API ["+f+"] is not available in this runtime.");throw g.code="SYNC_API_NOT_AVAILABLE",g}}),i.exports=v},function(i,a,e){var n=e(1),s=n(e(25)),u=n(e(37)),c=e(224),d=e(67),v=a.removeAsync=c.removeItemAsync.bind(c),f=function(g,y){try{g=JSON.parse(g)}catch{return null}if(g){var x=g.expiredAt&&g.expiredAt<Date.now();return x?v(y).then(function(){return null}):g.value}return null};a.getAsync=function(h){var g;return h=(0,s.default)(g="AV/".concat(d.applicationId,"/")).call(g,h),c.getItemAsync(h).then(function(y){return f(y,h)})},a.setAsync=function(h,g,y){var x,p={value:g};return typeof y=="number"&&(p.expiredAt=Date.now()+y),c.setItemAsync((0,s.default)(x="AV/".concat(d.applicationId,"/")).call(x,h),(0,u.default)(p))}},function(i,a,e){var n=e(388);i.exports=n},function(i,a,e){var n=e(391);i.exports=n},function(i,a,e){var n=e(394);i.exports=n},function(i,a,e){i.exports=e(397)},function(i,a,e){var n=e(400);e(63),i.exports=n},function(i,a,e){var n=e(116),s=e(36),u=e(103),c=Array,d=Math.max;i.exports=function(v,f,h){for(var g=s(v),y=n(f,g),x=n(h===void 0?g:h,g),p=c(d(x-y,0)),j=0;y<x;y++,j++)u(p,j,v[y]);return p.length=j,p}},function(i,a,e){var n=e(11),s=e(18),u=e(5),c=e(48);i.exports=function(){var d=s("Symbol"),v=d&&d.prototype,f=v&&v.valueOf,h=u("toPrimitive");v&&!v[h]&&c(v,h,function(g){return n(f,this)},{arity:1})}},function(i,a,e){var n=e(55);i.exports=n&&!!Symbol.for&&!!Symbol.keyFor},function(i,a,e){var n=e(7);n("iterator")},function(i,a,e){var n=e(435);e(63),i.exports=n},function(i,a,e){i.exports=e(237)},function(i,a,e){var n=e(454);i.exports=n},function(i,a,e){i.exports=e(458)},function(i,a,e){var n=e(4),s=e(28),u=e(17),c=e(13),d=e(99),v=e(72),f=Function,h=n([].concat),g=n([].join),y={},x=function(p,j,T){if(!c(y,j)){for(var C=[],I=0;I<j;I++)C[I]="a["+I+"]";y[j]=f("C,a","return new C("+g(C,",")+")")}return y[j](p,T)};i.exports=v?f.bind:function(j){var T=s(this),C=T.prototype,I=d(arguments,1),U=function(){var w=h(I,d(arguments));return this instanceof U?x(T,w.length,w):T.apply(j,w)};return u(C)&&(U.prototype=C),U}},function(i,a,e){i.exports=e(479)},function(i,a,e){i.exports=e(482)},function(i,a){var e={utf8:{stringToBytes:function(n){return e.bin.stringToBytes(unescape(encodeURIComponent(n)))},bytesToString:function(n){return decodeURIComponent(escape(e.bin.bytesToString(n)))}},bin:{stringToBytes:function(n){for(var s=[],u=0;u<n.length;u++)s.push(n.charCodeAt(u)&255);return s},bytesToString:function(n){for(var s=[],u=0;u<n.length;u++)s.push(String.fromCharCode(n[u]));return s.join("")}}};i.exports=e},function(i,a){i.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},function(i,a,e){var n=e(1),s=n(e(87)),u=n(e(144));function c(v){"@babel/helpers - typeof";return typeof s.default=="function"&&typeof u.default=="symbol"?c=function(h){return typeof h}:c=function(h){return h&&typeof s.default=="function"&&h.constructor===s.default&&h!==s.default.prototype?"symbol":typeof h},c(v)}function d(v){return v!==null&&c(v)==="object"}i.exports=d},function(i,a,e){var n=e(246),s=e(544);i.exports=s(n)},function(i,a,e){i.exports=e(247)},function(i,a,e){var n=e(1),s=n(e(10));/*!
 * LeanCloud JavaScript SDK
 * https://leancloud.cn
 *
 * Copyright 2016 LeanCloud.cn, Inc.
 * The LeanCloud JavaScript SDK is freely distributable under the MIT license.
 */var u=e(2),c=e(67);c._=u,c.version=e(222),c.Promise=s.default,c.localStorage=e(224),c.Cache=e(225),c.Error=e(43),e(390),e(442)(c),e(443)(c),e(444)(c),e(445)(c),e(450)(c),e(451)(c),e(504)(c),e(530)(c),e(531)(c),e(533)(c),e(534)(c),e(535)(c),e(536)(c),e(537)(c),e(538)(c),e(539)(c),e(540)(c),e(541)(c),c.Conversation=e(542),e(543),i.exports=c},function(i,a,e){var n=e(249);e(63),i.exports=n},function(i,a,e){e(250),e(60),e(96),e(267),e(283),e(284),e(285),e(79);var n=e(15);i.exports=n.Promise},function(i,a,e){e(251)},function(i,a,e){var n=e(0),s=e(12),u=e(90),c=e(92),d=e(256),v=e(59),f=e(39),h=e(44),g=e(260),y=e(261),x=e(76),p=e(262),j=e(5),T=e(263),C=j("toStringTag"),I=Error,U=[].push,A=function(N,E){var M=arguments.length>2?arguments[2]:void 0,W=s(w,this),Q;c?Q=c(new I,W?u(this):w):(Q=W?this:v(w),f(Q,C,"Error")),E!==void 0&&f(Q,"message",p(E)),T&&f(Q,"stack",g(Q.stack,1)),y(Q,M);var G=[];return x(N,U,{that:G}),f(Q,"errors",G),Q};c?c(A,I):d(A,I,{name:!0});var w=A.prototype=v(I.prototype,{constructor:h(1,A),message:h(1,""),name:h(1,"AggregateError")});n({global:!0,constructor:!0,arity:2},{AggregateError:A})},function(i,a,e){var n=e(11),s=e(17),u=e(89),c=e(110),d=e(253),v=e(5),f=TypeError,h=v("toPrimitive");i.exports=function(g,y){if(!s(g)||u(g))return g;var x=c(g,h),p;if(x){if(y===void 0&&(y="default"),p=n(x,g,y),!s(p)||u(p))return p;throw f("Can't convert object to primitive value")}return y===void 0&&(y="number"),d(g,y)}},function(i,a,e){var n=e(11),s=e(8),u=e(17),c=TypeError;i.exports=function(d,v){var f,h;if(v==="string"&&s(f=d.toString)&&!u(h=n(f,d))||s(f=d.valueOf)&&!u(h=n(f,d))||v!=="string"&&s(f=d.toString)&&!u(h=n(f,d)))return h;throw c("Can't convert object to primitive value")}},function(i,a,e){var n=e(9),s=Object.defineProperty;i.exports=function(u,c){try{s(n,u,{value:c,configurable:!0,writable:!0})}catch{n[u]=c}return c}},function(i,a,e){var n=e(8),s=String,u=TypeError;i.exports=function(c){if(typeof c=="object"||n(c))return c;throw u("Can't set "+s(c)+" as a prototype")}},function(i,a,e){var n=e(13),s=e(257),u=e(73),c=e(34);i.exports=function(d,v,f){for(var h=s(v),g=c.f,y=u.f,x=0;x<h.length;x++){var p=h[x];!n(d,p)&&!(f&&n(f,p))&&g(d,p,y(v,p))}}},function(i,a,e){var n=e(18),s=e(4),u=e(114),c=e(119),d=e(21),v=s([].concat);i.exports=n("Reflect","ownKeys")||function(h){var g=u.f(d(h)),y=c.f;return y?v(g,y(h)):g}},function(i,a){var e=Math.ceil,n=Math.floor;i.exports=Math.trunc||function(u){var c=+u;return(c>0?n:e)(c)}},function(i,a,e){var n=e(117),s=Math.min;i.exports=function(u){return u>0?s(n(u),9007199254740991):0}},function(i,a,e){var n=e(4),s=Error,u=n("".replace),c=function(f){return String(s(f).stack)}("zxcasd"),d=/\n\s*at [^:]*:[^\n]*/,v=d.test(c);i.exports=function(f,h){if(v&&typeof f=="string"&&!s.prepareStackTrace)for(;h--;)f=u(f,d,"");return f}},function(i,a,e){var n=e(17),s=e(39);i.exports=function(u,c){n(c)&&"cause"in c&&s(u,"cause",c.cause)}},function(i,a,e){var n=e(40);i.exports=function(s,u){return s===void 0?arguments.length<2?"":u:n(s)}},function(i,a,e){var n=e(3),s=e(44);i.exports=!n(function(){var u=Error("a");return"stack"in u?(Object.defineProperty(u,"stack",s(1,7)),u.stack!==7):!0})},function(i,a,e){var n=e(9),s=e(8),u=e(123),c=n.WeakMap;i.exports=s(c)&&/native code/.test(u(c))},function(i,a,e){var n=e(159).IteratorPrototype,s=e(59),u=e(44),c=e(61),d=e(46),v=function(){return this};i.exports=function(f,h,g,y){var x=h+" Iterator";return f.prototype=s(n,{next:u(+!y,g)}),c(f,x,!1,!0),d[x]=v,f}},function(i,a,e){var n=e(121),s=e(47);i.exports=n?{}.toString:function(){return"[object "+s(this)+"]"}},function(i,a,e){e(268),e(278),e(279),e(280),e(281),e(282)},function(i,a,e){var n=e(0),s=e(32),u=e(97),c=e(9),d=e(11),v=e(48),f=e(92),h=e(61),g=e(269),y=e(28),x=e(8),p=e(17),j=e(270),T=e(160),C=e(162).set,I=e(272),U=e(275),A=e(77),w=e(276),P=e(95),N=e(62),E=e(78),M=e(49),W="Promise",Q=E.CONSTRUCTOR,G=E.REJECTION_EVENT,H=E.SUBCLASSING,J=P.getterFor(W),K=P.set,k=N&&N.prototype,L=N,B=k,$=c.TypeError,z=c.document,X=c.process,q=M.f,ne=q,ae=!!(z&&z.createEvent&&c.dispatchEvent),ie="unhandledrejection",ve="rejectionhandled",Pe=0,fe=1,se=2,he=1,oe=2,ge,Ee,Ue,Ye,Qe=function(me){var Ce;return p(me)&&x(Ce=me.then)?Ce:!1},et=function(me,Ce){var Le=Ce.value,We=Ce.state==fe,Fe=We?me.ok:me.fail,Be=me.resolve,Ie=me.reject,Ae=me.domain,Re,Ke,ht;try{Fe?(We||(Ce.rejection===oe&&_t(Ce),Ce.rejection=he),Fe===!0?Re=Le:(Ae&&Ae.enter(),Re=Fe(Le),Ae&&(Ae.exit(),ht=!0)),Re===me.promise?Ie($("Promise-chain cycle")):(Ke=Qe(Re))?d(Ke,Re,Be,Ie):Be(Re)):Ie(Le)}catch(Qr){Ae&&!ht&&Ae.exit(),Ie(Qr)}},tt=function(me,Ce){me.notified||(me.notified=!0,I(function(){for(var Le=me.reactions,We;We=Le.get();)et(We,me);me.notified=!1,Ce&&!me.rejection&&vr(me)}))},Nt=function(me,Ce,Le){var We,Fe;ae?(We=z.createEvent("Event"),We.promise=Ce,We.reason=Le,We.initEvent(me,!1,!0),c.dispatchEvent(We)):We={promise:Ce,reason:Le},!G&&(Fe=c["on"+me])?Fe(We):me===ie&&U("Unhandled promise rejection",Le)},vr=function(me){d(C,c,function(){var Ce=me.facade,Le=me.value,We=Qt(me),Fe;if(We&&(Fe=A(function(){u?X.emit("unhandledRejection",Le,Ce):Nt(ie,Ce,Le)}),me.rejection=u||Qt(me)?oe:he,Fe.error))throw Fe.value})},Qt=function(me){return me.rejection!==he&&!me.parent},_t=function(me){d(C,c,function(){var Ce=me.facade;u?X.emit("rejectionHandled",Ce):Nt(ve,Ce,me.value)})},yt=function(me,Ce,Le){return function(We){me(Ce,We,Le)}},ct=function(me,Ce,Le){me.done||(me.done=!0,Le&&(me=Le),me.value=Ce,me.state=se,tt(me,!0))},Pt=function(me,Ce,Le){if(!me.done){me.done=!0,Le&&(me=Le);try{if(me.facade===Ce)throw $("Promise can't be resolved itself");var We=Qe(Ce);We?I(function(){var Fe={done:!1};try{d(We,Ce,yt(Pt,Fe,me),yt(ct,Fe,me))}catch(Be){ct(Fe,Be,me)}}):(me.value=Ce,me.state=fe,tt(me,!1))}catch(Fe){ct({done:!1},Fe,me)}}};if(Q&&(L=function(Ce){j(this,B),y(Ce),d(ge,this);var Le=J(this);try{Ce(yt(Pt,Le),yt(ct,Le))}catch(We){ct(Le,We)}},B=L.prototype,ge=function(Ce){K(this,{type:W,done:!1,notified:!1,parent:!1,reactions:new w,rejection:!1,state:Pe,value:void 0})},ge.prototype=v(B,"then",function(Ce,Le){var We=J(this),Fe=q(T(this,L));return We.parent=!0,Fe.ok=x(Ce)?Ce:!0,Fe.fail=x(Le)&&Le,Fe.domain=u?X.domain:void 0,We.state==Pe?We.reactions.add(Fe):I(function(){et(Fe,We)}),Fe.promise}),Ee=function(){var me=new ge,Ce=J(me);this.promise=me,this.resolve=yt(Pt,Ce),this.reject=yt(ct,Ce)},M.f=q=function(me){return me===L||me===Ue?new Ee(me):ne(me)},!s&&x(N)&&k!==Object.prototype)){Ye=k.then,H||v(k,"then",function(Ce,Le){var We=this;return new L(function(Fe,Be){d(Ye,We,Fe,Be)}).then(Ce,Le)},{unsafe:!0});try{delete k.constructor}catch{}f&&f(k,B)}n({global:!0,constructor:!0,wrap:!0,forced:Q},{Promise:L}),h(L,W,!1,!0),g(W)},function(i,a,e){var n=e(18),s=e(34),u=e(5),c=e(20),d=u("species");i.exports=function(v){var f=n(v),h=s.f;c&&f&&!f[d]&&h(f,d,{configurable:!0,get:function(){return this}})}},function(i,a,e){var n=e(12),s=TypeError;i.exports=function(u,c){if(n(c,u))return u;throw s("Incorrect invocation")}},function(i,a){var e=TypeError;i.exports=function(n,s){if(n<s)throw e("Not enough arguments");return n}},function(i,a,e){var n=e(9),s=e(58),u=e(73).f,c=e(162).set,d=e(163),v=e(273),f=e(274),h=e(97),g=n.MutationObserver||n.WebKitMutationObserver,y=n.document,x=n.process,p=n.Promise,j=u(n,"queueMicrotask"),T=j&&j.value,C,I,U,A,w,P,N,E;T||(C=function(){var M,W;for(h&&(M=x.domain)&&M.exit();I;){W=I.fn,I=I.next;try{W()}catch(Q){throw I?A():U=void 0,Q}}U=void 0,M&&M.enter()},!d&&!h&&!f&&g&&y?(w=!0,P=y.createTextNode(""),new g(C).observe(P,{characterData:!0}),A=function(){P.data=w=!w}):!v&&p&&p.resolve?(N=p.resolve(void 0),N.constructor=p,E=s(N.then,N),A=function(){E(C)}):h?A=function(){x.nextTick(C)}:(c=s(c,n),A=function(){c(C)})),i.exports=T||function(M){var W={fn:M,next:void 0};U&&(U.next=W),I||(I=W,A()),U=W}},function(i,a,e){var n=e(45),s=e(9);i.exports=/ipad|iphone|ipod/i.test(n)&&s.Pebble!==void 0},function(i,a,e){var n=e(45);i.exports=/web0s(?!.*chrome)/i.test(n)},function(i,a,e){var n=e(9);i.exports=function(s,u){var c=n.console;c&&c.error&&(arguments.length==1?c.error(s):c.error(s,u))}},function(i,a){var e=function(){this.head=null,this.tail=null};e.prototype={add:function(n){var s={item:n,next:null};this.head?this.tail.next=s:this.head=s,this.tail=s},get:function(){var n=this.head;if(n)return this.head=n.next,this.tail===n&&(this.tail=null),n.item}},i.exports=e},function(i,a){i.exports=typeof window=="object"&&typeof Deno!="object"},function(i,a,e){var n=e(0),s=e(11),u=e(28),c=e(49),d=e(77),v=e(76),f=e(164);n({target:"Promise",stat:!0,forced:f},{all:function(g){var y=this,x=c.f(y),p=x.resolve,j=x.reject,T=d(function(){var C=u(y.resolve),I=[],U=0,A=1;v(g,function(w){var P=U++,N=!1;A++,s(C,y,w).then(function(E){N||(N=!0,I[P]=E,--A||p(I))},j)}),--A||p(I)});return T.error&&j(T.value),x.promise}})},function(i,a,e){var n=e(0),s=e(32),u=e(78).CONSTRUCTOR,c=e(62),d=e(18),v=e(8),f=e(48),h=c&&c.prototype;if(n({target:"Promise",proto:!0,forced:u,real:!0},{catch:function(y){return this.then(void 0,y)}}),!s&&v(c)){var g=d("Promise").prototype.catch;h.catch!==g&&f(h,"catch",g,{unsafe:!0})}},function(i,a,e){var n=e(0),s=e(11),u=e(28),c=e(49),d=e(77),v=e(76),f=e(164);n({target:"Promise",stat:!0,forced:f},{race:function(g){var y=this,x=c.f(y),p=x.reject,j=d(function(){var T=u(y.resolve);v(g,function(C){s(T,y,C).then(x.resolve,p)})});return j.error&&p(j.value),x.promise}})},function(i,a,e){var n=e(0),s=e(11),u=e(49),c=e(78).CONSTRUCTOR;n({target:"Promise",stat:!0,forced:c},{reject:function(v){var f=u.f(this);return s(f.reject,void 0,v),f.promise}})},function(i,a,e){var n=e(0),s=e(18),u=e(32),c=e(62),d=e(78).CONSTRUCTOR,v=e(166),f=s("Promise"),h=u&&!d;n({target:"Promise",stat:!0,forced:u||d},{resolve:function(y){return v(h&&this===f?c:this,y)}})},function(i,a,e){var n=e(0),s=e(11),u=e(28),c=e(49),d=e(77),v=e(76);n({target:"Promise",stat:!0},{allSettled:function(h){var g=this,y=c.f(g),x=y.resolve,p=y.reject,j=d(function(){var T=u(g.resolve),C=[],I=0,U=1;v(h,function(A){var w=I++,P=!1;U++,s(T,g,A).then(function(N){P||(P=!0,C[w]={status:"fulfilled",value:N},--U||x(C))},function(N){P||(P=!0,C[w]={status:"rejected",reason:N},--U||x(C))})}),--U||x(C)});return j.error&&p(j.value),y.promise}})},function(i,a,e){var n=e(0),s=e(11),u=e(28),c=e(18),d=e(49),v=e(77),f=e(76),h="No one promise resolved";n({target:"Promise",stat:!0},{any:function(y){var x=this,p=c("AggregateError"),j=d.f(x),T=j.resolve,C=j.reject,I=v(function(){var U=u(x.resolve),A=[],w=0,P=1,N=!1;f(y,function(E){var M=w++,W=!1;P++,s(U,x,E).then(function(Q){W||N||(N=!0,T(Q))},function(Q){W||N||(W=!0,A[M]=Q,--P||C(new p(A,h)))})}),--P||C(new p(A,h))});return I.error&&C(I.value),j.promise}})},function(i,a,e){var n=e(0),s=e(32),u=e(62),c=e(3),d=e(18),v=e(8),f=e(160),h=e(166),g=e(48),y=u&&u.prototype,x=!!u&&c(function(){y.finally.call({then:function(){}},function(){})});if(n({target:"Promise",proto:!0,real:!0,forced:x},{finally:function(j){var T=f(this,d("Promise")),C=v(j);return this.then(C?function(I){return h(T,j()).then(function(){return I})}:j,C?function(I){return h(T,j()).then(function(){throw I})}:j)}}),!s&&v(u)){var p=d("Promise").prototype.finally;y.finally!==p&&g(y,"finally",p,{unsafe:!0})}},function(i,a,e){var n=e(4),s=e(117),u=e(40),c=e(74),d=n("".charAt),v=n("".charCodeAt),f=n("".slice),h=function(g){return function(y,x){var p=u(c(y)),j=s(x),T=p.length,C,I;return j<0||j>=T?g?"":void 0:(C=v(p,j),C<55296||C>56319||j+1===T||(I=v(p,j+1))<56320||I>57343?g?d(p,j):C:g?f(p,j,j+2):(C-55296<<10)+(I-56320)+65536)}};i.exports={codeAt:h(!1),charAt:h(!0)}},function(i,a){i.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(i,a,e){var n=e(124),s=Object(n.mixin)(n);s._=s,a.a=s},function(i,a,e){a.a=n;function n(s){return s===null}},function(i,a,e){a.a=n;function n(s){return!!(s&&s.nodeType===1)}},function(i,a,e){var n=e(16);a.a=Object(n.a)("Date")},function(i,a,e){var n=e(16);a.a=Object(n.a)("RegExp")},function(i,a,e){var n=e(16);a.a=Object(n.a)("Error")},function(i,a,e){var n=e(16);a.a=Object(n.a)("Object")},function(i,a,e){a.a=u;var n=e(6),s=e(170);function u(c){return!Object(s.a)(c)&&Object(n.f)(c)&&!isNaN(parseFloat(c))}},function(i,a,e){var n=e(175),s=e(128);a.a=Object(n.a)(s.a)},function(i,a,e){a.a=v;var n=e(30),s=e(51),u=e(125),c=e(127),d=e(14);function v(f){if(f==null)return!0;var h=Object(n.a)(f);return typeof h=="number"&&(Object(s.a)(f)||Object(u.a)(f)||Object(c.a)(f))?h===0:Object(n.a)(Object(d.a)(f))===0}},function(i,a,e){a.a=T;var n=e(23),s=e(6),u=e(128),c=e(173),d=e(29),v=e(80),f=e(126),h=e(14),g=e(41),y=e(299),x="[object DataView]";function p(C,I,U,A){if(C===I)return C!==0||1/C===1/I;if(C==null||I==null)return!1;if(C!==C)return I!==I;var w=typeof C;return w!=="function"&&w!=="object"&&typeof I!="object"?!1:j(C,I,U,A)}function j(C,I,U,A){C instanceof n.a&&(C=C._wrapped),I instanceof n.a&&(I=I._wrapped);var w=s.t.call(C);if(w!==s.t.call(I))return!1;if(v.a&&w=="[object Object]"&&Object(f.a)(C)){if(!Object(f.a)(I))return!1;w=x}switch(w){case"[object RegExp]":case"[object String]":return""+C==""+I;case"[object Number]":return+C!=+C?+I!=+I:+C==0?1/+C===1/I:+C==+I;case"[object Date]":case"[object Boolean]":return+C==+I;case"[object Symbol]":return s.d.valueOf.call(C)===s.d.valueOf.call(I);case"[object ArrayBuffer]":case x:return j(Object(y.a)(C),Object(y.a)(I),U,A)}var P=w==="[object Array]";if(!P&&Object(c.a)(C)){var N=Object(u.a)(C);if(N!==Object(u.a)(I))return!1;if(C.buffer===I.buffer&&C.byteOffset===I.byteOffset)return!0;P=!0}if(!P){if(typeof C!="object"||typeof I!="object")return!1;var E=C.constructor,M=I.constructor;if(E!==M&&!(Object(d.a)(E)&&E instanceof E&&Object(d.a)(M)&&M instanceof M)&&"constructor"in C&&"constructor"in I)return!1}U=U||[],A=A||[];for(var W=U.length;W--;)if(U[W]===C)return A[W]===I;if(U.push(C),A.push(I),P){if(W=C.length,W!==I.length)return!1;for(;W--;)if(!p(C[W],I[W],U,A))return!1}else{var Q=Object(h.a)(C),G;if(W=Q.length,Object(h.a)(I).length!==W)return!1;for(;W--;)if(G=Q[W],!(Object(g.a)(I,G)&&p(C[G],I[G],U,A)))return!1}return U.pop(),A.pop(),!0}function T(C,I){return p(C,I)}},function(i,a,e){a.a=s;var n=e(128);function s(u){return new Uint8Array(u.buffer||u,u.byteOffset||0,Object(n.a)(u))}},function(i,a,e){var n=e(16),s=e(80),u=e(129);a.a=s.b?Object(u.a)(u.b):Object(n.a)("Map")},function(i,a,e){var n=e(16),s=e(80),u=e(129);a.a=s.b?Object(u.a)(u.d):Object(n.a)("WeakMap")},function(i,a,e){var n=e(16),s=e(80),u=e(129);a.a=s.b?Object(u.a)(u.c):Object(n.a)("Set")},function(i,a,e){var n=e(16);a.a=Object(n.a)("WeakSet")},function(i,a,e){a.a=s;var n=e(14);function s(u){for(var c=Object(n.a)(u),d=c.length,v=Array(d),f=0;f<d;f++)v[f]=[c[f],u[c[f]]];return v}},function(i,a,e){a.a=u;var n=e(183),s=e(131);function u(c,d){var v=Object(n.a)(c);return d&&Object(s.a)(v,d),v}},function(i,a,e){a.a=n;function n(s,u){return u(s),s}},function(i,a,e){a.a=u;var n=e(41),s=e(82);function u(c,d){d=Object(s.a)(d);for(var v=d.length,f=0;f<v;f++){var h=d[f];if(!Object(n.a)(c,h))return!1;c=c[h]}return!!v}},function(i,a,e){a.a=u;var n=e(19),s=e(14);function u(c,d,v){d=Object(n.a)(d,v);for(var f=Object(s.a)(c),h=f.length,g={},y=0;y<h;y++){var x=f[y];g[x]=d(c[x],x,c)}return g}},function(i,a,e){a.a=u;var n=e(189),s=e(185);function u(c){return c==null?n.a:function(d){return Object(s.a)(c,d)}}},function(i,a,e){a.a=s;var n=e(83);function s(u,c,d){var v=Array(Math.max(0,u));c=Object(n.a)(c,d,1);for(var f=0;f<u;f++)v[f]=c(f);return v}},function(i,a,e){var n=e(191),s=e(192);a.a=Object(n.a)(s.a)},function(i,a,e){var n=e(191),s=e(313);a.a=Object(n.a)(s.a)},function(i,a,e){var n=e(179),s=e(192);a.a=Object(n.a)(s.a)},function(i,a,e){a.a=h;var n=e(182),s=e(23);e(193);var u=/(.)^/,c={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},d=/\\|'|\r|\n|\u2028|\u2029/g;function v(g){return"\\"+c[g]}var f=/^\s*(\w|\$)+\s*$/;function h(g,y,x){!y&&x&&(y=x),y=Object(n.a)({},y,s.a.templateSettings);var p=RegExp([(y.escape||u).source,(y.interpolate||u).source,(y.evaluate||u).source].join("|")+"|$","g"),j=0,T="__p+='";g.replace(p,function(A,w,P,N,E){return T+=g.slice(j,E).replace(d,v),j=E+A.length,w?T+=`'+
((__t=(`+w+`))==null?'':_.escape(__t))+
'`:P?T+=`'+
((__t=(`+P+`))==null?'':__t)+
'`:N&&(T+=`';
`+N+`
__p+='`),A}),T+=`';
`;var C=y.variable;if(C){if(!f.test(C))throw new Error(C)}else T=`with(obj||{}){
`+T+`}
`,C="obj";T=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+T+`return __p;
`;var I;try{I=new Function(C,"_",T)}catch(A){throw A.source=T,A}var U=function(A){return I.call(this,A,s.a)};return U.source="function("+C+`){
`+T+"}",U}},function(i,a,e){a.a=u;var n=e(29),s=e(82);function u(c,d,v){d=Object(s.a)(d);var f=d.length;if(!f)return Object(n.a)(v)?v.call(c):v;for(var h=0;h<f;h++){var g=c?.[d[h]];g===void 0&&(g=v,h=f),c=Object(n.a)(g)?g.call(c):g}return c}},function(i,a,e){a.a=s;var n=0;function s(u){var c=++n+"";return u?u+c:c}},function(i,a,e){a.a=s;var n=e(23);function s(u){var c=Object(n.a)(u);return c._chain=!0,c}},function(i,a,e){var n=e(22),s=e(65),u=e(195);a.a=Object(n.a)(function(c,d){d=Object(s.a)(d,!1,!1);var v=d.length;if(v<1)throw new Error("bindAll must be passed function names");for(;v--;){var f=d[v];c[f]=Object(u.a)(c[f],c)}return c})},function(i,a,e){a.a=s;var n=e(41);function s(u,c){var d=function(v){var f=d.cache,h=""+(c?c.apply(this,arguments):v);return Object(n.a)(f,h)||(f[h]=u.apply(this,arguments)),f[h]};return d.cache={},d}},function(i,a,e){var n=e(101),s=e(196),u=e(23);a.a=Object(n.a)(s.a,u.a,1)},function(i,a,e){a.a=s;var n=e(135);function s(u,c,d){var v,f,h,g,y=0;d||(d={});var x=function(){y=d.leading===!1?0:Object(n.a)(),v=null,g=u.apply(f,h),v||(f=h=null)},p=function(){var j=Object(n.a)();!y&&d.leading===!1&&(y=j);var T=c-(j-y);return f=this,h=arguments,T<=0||T>c?(v&&(clearTimeout(v),v=null),y=j,g=u.apply(f,h),v||(f=h=null)):!v&&d.trailing!==!1&&(v=setTimeout(x,T)),g};return p.cancel=function(){clearTimeout(v),y=0,v=f=h=null},p}},function(i,a,e){a.a=u;var n=e(22),s=e(135);function u(c,d,v){var f,h,g,y,x,p=function(){var T=Object(s.a)()-h;d>T?f=setTimeout(p,d-T):(f=null,v||(y=c.apply(x,g)),f||(g=x=null))},j=Object(n.a)(function(T){return x=this,g=T,h=Object(s.a)(),f||(f=setTimeout(p,d),v&&(y=c.apply(x,g))),y});return j.cancel=function(){clearTimeout(f),f=g=x=null},j}},function(i,a,e){a.a=s;var n=e(101);function s(u,c){return Object(n.a)(c,u)}},function(i,a,e){a.a=n;function n(){var s=arguments,u=s.length-1;return function(){for(var c=u,d=s[u].apply(this,arguments);c--;)d=s[c].call(this,d);return d}}},function(i,a,e){a.a=n;function n(s,u){return function(){if(--s<1)return u.apply(this,arguments)}}},function(i,a,e){var n=e(101),s=e(197);a.a=Object(n.a)(s.a,2)},function(i,a,e){var n=e(200),s=e(203);a.a=Object(s.a)(-1,n.a)},function(i,a,e){a.a=u;var n=e(204),s=e(100);function u(c,d){return Object(n.a)(c,Object(s.a)(d))}},function(i,a,e){var n=e(205);a.a=Object(n.a)(1)},function(i,a,e){var n=e(205);a.a=Object(n.a)(-1)},function(i,a,e){a.a=c;var n=e(84),s=e(136),u=e(19);function c(d,v,f){return Object(n.a)(d,Object(s.a)(Object(u.a)(v)),f)}},function(i,a,e){a.a=c;var n=e(19),s=e(24),u=e(14);function c(d,v,f){v=Object(n.a)(v,f);for(var h=!Object(s.a)(d)&&Object(u.a)(d),g=(h||d).length,y=0;y<g;y++){var x=h?h[y]:y;if(!v(d[x],x,d))return!1}return!0}},function(i,a,e){a.a=c;var n=e(19),s=e(24),u=e(14);function c(d,v,f){v=Object(n.a)(v,f);for(var h=!Object(s.a)(d)&&Object(u.a)(d),g=(h||d).length,y=0;y<g;y++){var x=h?h[y]:y;if(v(d[x],x,d))return!0}return!1}},function(i,a,e){var n=e(22),s=e(29),u=e(66),c=e(132),d=e(82);a.a=Object(n.a)(function(v,f,h){var g,y;return Object(s.a)(f)?y=f:(f=Object(d.a)(f),g=f.slice(0,-1),f=f[f.length-1]),Object(u.a)(v,function(x){var p=y;if(!p){if(g&&g.length&&(x=Object(c.a)(x,g)),x==null)return;p=x[f]}return p==null?p:p.apply(x,h)})})},function(i,a,e){a.a=u;var n=e(84),s=e(100);function u(c,d){return Object(n.a)(c,Object(s.a)(d))}},function(i,a,e){a.a=d;var n=e(24),s=e(64),u=e(19),c=e(52);function d(v,f,h){var g=1/0,y=1/0,x,p;if(f==null||typeof f=="number"&&typeof v[0]!="object"&&v!=null){v=Object(n.a)(v)?v:Object(s.a)(v);for(var j=0,T=v.length;j<T;j++)x=v[j],x!=null&&x<g&&(g=x)}else f=Object(u.a)(f,h),Object(c.a)(v,function(C,I,U){p=f(C,I,U),(p<y||p===1/0&&g===1/0)&&(g=C,y=p)});return g}},function(i,a,e){a.a=s;var n=e(207);function s(u){return Object(n.a)(u,1/0)}},function(i,a,e){a.a=c;var n=e(19),s=e(138),u=e(66);function c(d,v,f){var h=0;return v=Object(n.a)(v,f),Object(s.a)(Object(u.a)(d,function(g,y,x){return{value:g,index:h++,criteria:v(g,y,x)}}).sort(function(g,y){var x=g.criteria,p=y.criteria;if(x!==p){if(x>p||x===void 0)return 1;if(x<p||p===void 0)return-1}return g.index-y.index}),"value")}},function(i,a,e){var n=e(102),s=e(41);a.a=Object(n.a)(function(u,c,d){Object(s.a)(u,d)?u[d].push(c):u[d]=[c]})},function(i,a,e){var n=e(102);a.a=Object(n.a)(function(s,u,c){s[c]=u})},function(i,a,e){var n=e(102),s=e(41);a.a=Object(n.a)(function(u,c,d){Object(s.a)(u,d)?u[d]++:u[d]=1})},function(i,a,e){var n=e(102);a.a=Object(n.a)(function(s,u,c){s[c?0:1].push(u)},!0)},function(i,a,e){a.a=g;var n=e(51),s=e(6),u=e(125),c=e(24),d=e(66),v=e(133),f=e(64),h=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function g(y){return y?Object(n.a)(y)?s.q.call(y):Object(u.a)(y)?y.match(h):Object(c.a)(y)?Object(d.a)(y,v.a):Object(f.a)(y):[]}},function(i,a,e){a.a=u;var n=e(24),s=e(14);function u(c){return c==null?0:Object(n.a)(c)?c.length:Object(s.a)(c).length}},function(i,a,e){a.a=n;function n(s,u,c){return u in c}},function(i,a,e){var n=e(22),s=e(29),u=e(136),c=e(66),d=e(65),v=e(85),f=e(208);a.a=Object(n.a)(function(h,g){var y=g[0],x;return Object(s.a)(y)?(y=Object(u.a)(y),g.length>1&&(x=g[1])):(g=Object(c.a)(Object(d.a)(g,!1,!1),String),y=function(p,j){return!Object(v.a)(g,j)}),Object(f.a)(h,y,x)})},function(i,a,e){a.a=s;var n=e(209);function s(u,c,d){return u==null||u.length<1?c==null||d?void 0:[]:c==null||d?u[0]:Object(n.a)(u,u.length-c)}},function(i,a,e){a.a=s;var n=e(210);function s(u,c,d){return u==null||u.length<1?c==null||d?void 0:[]:c==null||d?u[u.length-1]:Object(n.a)(u,Math.max(0,u.length-c))}},function(i,a,e){a.a=s;var n=e(84);function s(u){return Object(n.a)(u,Boolean)}},function(i,a,e){a.a=s;var n=e(65);function s(u,c){return Object(n.a)(u,c,!1)}},function(i,a,e){var n=e(22),s=e(211);a.a=Object(n.a)(function(u,c){return Object(s.a)(u,c)})},function(i,a,e){var n=e(22),s=e(212),u=e(65);a.a=Object(n.a)(function(c){return Object(s.a)(Object(u.a)(c,!0,!0))})},function(i,a,e){a.a=u;var n=e(30),s=e(85);function u(c){for(var d=[],v=arguments.length,f=0,h=Object(n.a)(c);f<h;f++){var g=c[f];if(!Object(s.a)(d,g)){var y;for(y=1;y<v&&Object(s.a)(arguments[y],g);y++);y===v&&d.push(g)}}return d}},function(i,a,e){var n=e(22),s=e(213);a.a=Object(n.a)(s.a)},function(i,a,e){a.a=s;var n=e(30);function s(u,c){for(var d={},v=0,f=Object(n.a)(u);v<f;v++)c?d[u[v]]=c[v]:d[u[v][0]]=u[v][1];return d}},function(i,a,e){a.a=n;function n(s,u,c){u==null&&(u=s||0,s=0),c||(c=u<s?-1:1);for(var d=Math.max(Math.ceil((u-s)/c),0),v=Array(d),f=0;f<d;f++,s+=c)v[f]=s;return v}},function(i,a,e){a.a=s;var n=e(6);function s(u,c){if(c==null||c<1)return[];for(var d=[],v=0,f=u.length;v<f;)d.push(n.q.call(u,v,v+=c));return d}},function(i,a,e){a.a=v;var n=e(23),s=e(52),u=e(180),c=e(6),d=e(214);function v(f){return Object(s.a)(Object(u.a)(f),function(h){var g=n.a[h]=f[h];n.a.prototype[h]=function(){var y=[this._wrapped];return c.o.apply(y,arguments),Object(d.a)(this,g.apply(n.a,y))}}),n.a}},function(i,a,e){var n=e(23),s=e(52),u=e(6),c=e(214);Object(s.a)(["pop","push","reverse","shift","sort","splice","unshift"],function(d){var v=u.a[d];n.a.prototype[d]=function(){var f=this._wrapped;return f!=null&&(v.apply(f,arguments),(d==="shift"||d==="splice")&&f.length===0&&delete f[0]),Object(c.a)(this,f)}}),Object(s.a)(["concat","join","slice"],function(d){var v=u.a[d];n.a.prototype[d]=function(){var f=this._wrapped;return f!=null&&(f=v.apply(f,arguments)),Object(c.a)(this,f)}}),a.a=n.a},function(i,a,e){var n=e(361);i.exports=n},function(i,a,e){var n=e(12),s=e(362),u=Array.prototype;i.exports=function(c){var d=c.concat;return c===u||n(u,c)&&d===u.concat?s:d}},function(i,a,e){e(215);var n=e(26);i.exports=n("Array").concat},function(i,a){var e=TypeError,n=9007199254740991;i.exports=function(s){if(s>n)throw e("Maximum allowed index exceeded");return s}},function(i,a,e){var n=e(86),s=e(98),u=e(17),c=e(5),d=c("species"),v=Array;i.exports=function(f){var h;return n(f)&&(h=f.constructor,s(h)&&(h===v||n(h.prototype))?h=void 0:u(h)&&(h=h[d],h===null&&(h=void 0))),h===void 0?v:h}},function(i,a,e){var n=e(366);i.exports=n},function(i,a,e){var n=e(12),s=e(367),u=Array.prototype;i.exports=function(c){var d=c.map;return c===u||n(u,c)&&d===u.map?s:d}},function(i,a,e){e(368);var n=e(26);i.exports=n("Array").map},function(i,a,e){var n=e(0),s=e(105).map,u=e(104),c=u("map");n({target:"Array",proto:!0,forced:!c},{map:function(v){return s(this,v,arguments.length>1?arguments[1]:void 0)}})},function(i,a,e){var n=e(370);i.exports=n},function(i,a,e){e(371);var n=e(15);i.exports=n.Object.keys},function(i,a,e){var n=e(0),s=e(33),u=e(120),c=e(3),d=c(function(){u(1)});n({target:"Object",stat:!0,forced:d},{keys:function(f){return u(s(f))}})},function(i,a,e){var n=e(373);i.exports=n},function(i,a,e){e(218);var n=e(15),s=e(71);n.JSON||(n.JSON={stringify:JSON.stringify}),i.exports=function(c,d,v){return s(n.JSON.stringify,null,arguments)}},function(i,a,e){var n=e(375);i.exports=n},function(i,a,e){var n=e(12),s=e(376),u=Array.prototype;i.exports=function(c){var d=c.indexOf;return c===u||n(u,c)&&d===u.indexOf?s:d}},function(i,a,e){e(377);var n=e(26);i.exports=n("Array").indexOf},function(i,a,e){var n=e(0),s=e(4),u=e(115).indexOf,c=e(139),d=s([].indexOf),v=!!d&&1/d([1],1,-0)<0,f=c("indexOf");n({target:"Array",proto:!0,forced:v||!f},{indexOf:function(g){var y=arguments.length>1?arguments[1]:void 0;return v?d(this,g,y)||0:u(this,g,y)}})},function(i,a,e){e(63);var n=e(47),s=e(13),u=e(12),c=e(379),d=Array.prototype,v={DOMTokenList:!0,NodeList:!0};i.exports=function(f){var h=f.keys;return f===d||u(d,f)&&h===d.keys||s(v,n(f))?c:h}},function(i,a,e){var n=e(380);i.exports=n},function(i,a,e){e(60),e(96);var n=e(26);i.exports=n("Array").keys},function(i,a){var e=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(e){var n=new Uint8Array(16);i.exports=function(){return e(n),n}}else{var s=new Array(16);i.exports=function(){for(var c=0,d;c<16;c++)(c&3)===0&&(d=Math.random()*4294967296),s[c]=d>>>((c&3)<<3)&255;return s}}},function(i,a){for(var e=[],n=0;n<256;++n)e[n]=(n+256).toString(16).substr(1);function s(u,c){var d=c||0,v=e;return[v[u[d++]],v[u[d++]],v[u[d++]],v[u[d++]],"-",v[u[d++]],v[u[d++]],"-",v[u[d++]],v[u[d++]],"-",v[u[d++]],v[u[d++]],"-",v[u[d++]],v[u[d++]],v[u[d++]],v[u[d++]],v[u[d++]],v[u[d++]]].join("")}i.exports=s},function(i,a,e){function n(s){c.debug=c,c.default=c,c.coerce=y,c.disable=h,c.enable=f,c.enabled=g,c.humanize=e(384),Object.keys(s).forEach(function(x){c[x]=s[x]}),c.instances=[],c.names=[],c.skips=[],c.formatters={};function u(x){for(var p=0,j=0;j<x.length;j++)p=(p<<5)-p+x.charCodeAt(j),p|=0;return c.colors[Math.abs(p)%c.colors.length]}c.selectColor=u;function c(x){var p;function j(){if(j.enabled){for(var T=arguments.length,C=new Array(T),I=0;I<T;I++)C[I]=arguments[I];var U=j,A=Number(new Date),w=A-(p||A);U.diff=w,U.prev=p,U.curr=A,p=A,C[0]=c.coerce(C[0]),typeof C[0]!="string"&&C.unshift("%O");var P=0;C[0]=C[0].replace(/%([a-zA-Z%])/g,function(E,M){if(E==="%%")return E;P++;var W=c.formatters[M];if(typeof W=="function"){var Q=C[P];E=W.call(U,Q),C.splice(P,1),P--}return E}),c.formatArgs.call(U,C);var N=U.log||c.log;N.apply(U,C)}}return j.namespace=x,j.enabled=c.enabled(x),j.useColors=c.useColors(),j.color=u(x),j.destroy=d,j.extend=v,typeof c.init=="function"&&c.init(j),c.instances.push(j),j}function d(){var x=c.instances.indexOf(this);return x!==-1?(c.instances.splice(x,1),!0):!1}function v(x,p){return c(this.namespace+(typeof p>"u"?":":p)+x)}function f(x){c.save(x),c.names=[],c.skips=[];var p,j=(typeof x=="string"?x:"").split(/[\s,]+/),T=j.length;for(p=0;p<T;p++)j[p]&&(x=j[p].replace(/\*/g,".*?"),x[0]==="-"?c.skips.push(new RegExp("^"+x.substr(1)+"$")):c.names.push(new RegExp("^"+x+"$")));for(p=0;p<c.instances.length;p++){var C=c.instances[p];C.enabled=c.enabled(C.namespace)}}function h(){c.enable("")}function g(x){if(x[x.length-1]==="*")return!0;var p,j;for(p=0,j=c.skips.length;p<j;p++)if(c.skips[p].test(x))return!1;for(p=0,j=c.names.length;p<j;p++)if(c.names[p].test(x))return!0;return!1}function y(x){return x instanceof Error?x.stack||x.message:x}return c.enable(c.load()),c}i.exports=n},function(i,a){var e=1e3,n=e*60,s=n*60,u=s*24,c=u*7,d=u*365.25;i.exports=function(y,x){x=x||{};var p=typeof y;if(p==="string"&&y.length>0)return v(y);if(p==="number"&&isFinite(y))return x.long?h(y):f(y);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(y))};function v(y){if(y=String(y),!(y.length>100)){var x=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(y);if(x){var p=parseFloat(x[1]),j=(x[2]||"ms").toLowerCase();switch(j){case"years":case"year":case"yrs":case"yr":case"y":return p*d;case"weeks":case"week":case"w":return p*c;case"days":case"day":case"d":return p*u;case"hours":case"hour":case"hrs":case"hr":case"h":return p*s;case"minutes":case"minute":case"mins":case"min":case"m":return p*n;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function f(y){var x=Math.abs(y);return x>=u?Math.round(y/u)+"d":x>=s?Math.round(y/s)+"h":x>=n?Math.round(y/n)+"m":x>=e?Math.round(y/e)+"s":y+"ms"}function h(y){var x=Math.abs(y);return x>=u?g(y,x,u,"day"):x>=s?g(y,x,s,"hour"):x>=n?g(y,x,n,"minute"):x>=e?g(y,x,e,"second"):y+" ms"}function g(y,x,p,j){var T=x>=p*1.5;return Math.round(y/p)+" "+j+(T?"s":"")}},function(i,a,e){e(386);var n=e(15);i.exports=n.Object.getPrototypeOf},function(i,a,e){var n=e(0),s=e(3),u=e(33),c=e(90),d=e(150),v=s(function(){c(1)});n({target:"Object",stat:!0,forced:v,sham:!d},{getPrototypeOf:function(h){return c(u(h))}})},function(i,a,e){i.exports=e(226)},function(i,a,e){e(389);var n=e(15);i.exports=n.Object.setPrototypeOf},function(i,a,e){var n=e(0),s=e(92);n({target:"Object",stat:!0},{setPrototypeOf:s})},function(i,a,e){var n=e(1),s=n(e(38)),u=n(e(25)),c=n(e(140)),d=e(67),v=e(396),f=e(31),h=f.isNullOrUndefined,g=e(2),y=g.extend,x=g.isObject,p=g.isEmpty,j=function(P){return(0,s.default)(P).call(P,-9)!=="-MdYXbMMI"},T=function(P){return{push:P,stats:P,engine:P,api:P,rtm:P}};function C(w){var P,N,E,M,W;if(j(w))return{};var Q=(0,s.default)(w).call(w,0,8).toLowerCase(),G="lncldglobal.com";return{push:(0,u.default)(P="https://".concat(Q,".push.")).call(P,G),stats:(0,u.default)(N="https://".concat(Q,".stats.")).call(N,G),engine:(0,u.default)(E="https://".concat(Q,".engine.")).call(E,G),api:(0,u.default)(M="https://".concat(Q,".api.")).call(M,G),rtm:(0,u.default)(W="https://".concat(Q,".rtm.")).call(W,G)}}var I=!1,U=!1;d.init=function(P){if(!x(P))return d.init({appId:P,appKey:arguments.length<=1?void 0:arguments[1],masterKey:arguments.length<=2?void 0:arguments[2]});var N=P.appId,E=P.appKey,M=P.masterKey,W=P.hookKey,Q=P.serverURL,G=P.serverURLs,H=G===void 0?Q:G,J=P.disableCurrentUser,K=P.production,k=P.realtime;if(U&&console.warn("Initializing LeanCloud Storage SDK which has already been initialized. Reinitializing the SDK might cause problems like unexpected cross-app data writing and invalid relations."),!N)throw new TypeError("appId must be a string");if(!E)throw new TypeError("appKey must be a string");if(M&&console.warn("MasterKey is not supposed to be used at client side."),j(N)&&!H&&p(d._config.serverURLs))throw new TypeError("serverURL option is required for apps from CN region");N!==d._config.applicationId?(d._config.masterKey=M,d._config.hookKey=W):(M&&(d._config.masterKey=M),W&&(d._config.hookKey=W)),d._config.applicationId=N,d._config.applicationKey=E,h(K)||d.setProduction(K),typeof J<"u"&&(d._config.disableCurrentUser=J);var L=I||typeof H<"u";if(L||(d._appRouter=new v(d)),d._setServerURLs(y({},C(N),d._config.serverURLs,typeof H=="string"?T(H):H),L),k)d._config.realtime=k;else if(d._sharedConfig.liveQueryRealtime){var B=d._config.serverURLs,$=B.api,z=B.rtm;d._config.realtime=new d._sharedConfig.liveQueryRealtime({appId:N,appKey:E,server:{api:$,RTMRouter:z}})}U=!0},d.setProduction=function(w){h(w)?d._config.production=null:d._config.production=w?1:0},d._setServerURLs=function(w){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;typeof w!="string"?y(d._config.serverURLs,w):d._config.serverURLs=T(w),P&&(d._appRouter?d._appRouter.disable():I=!0)},d.setServerURL=function(w){return d._setServerURLs(w)},d.setServerURLs=d.setServerURL,d.keepErrorRawMessage=function(w){d._sharedConfig.keepErrorRawMessage=w},d.setRequestTimeout=function(w){d._config.requestTimeout=w},d.initialize=d.init;var A=function(P){return(0,c.default)(d,P,{get:function(){return d._config[P]},set:function(E){d._config[P]=E}})};["applicationId","applicationKey","masterKey","hookKey"].forEach(A)},function(i,a,e){var n=e(12),s=e(392),u=Array.prototype;i.exports=function(c){var d=c.slice;return c===u||n(u,c)&&d===u.slice?s:d}},function(i,a,e){e(393);var n=e(26);i.exports=n("Array").slice},function(i,a,e){var n=e(0),s=e(86),u=e(98),c=e(17),d=e(116),v=e(36),f=e(35),h=e(103),g=e(5),y=e(104),x=e(99),p=y("slice"),j=g("species"),T=Array,C=Math.max;n({target:"Array",proto:!0,forced:!p},{slice:function(U,A){var w=f(this),P=v(w),N=d(U,P),E=d(A===void 0?P:A,P),M,W,Q;if(s(w)&&(M=w.constructor,u(M)&&(M===T||s(M.prototype))?M=void 0:c(M)&&(M=M[j],M===null&&(M=void 0)),M===T||M===void 0))return x(w,N,E);for(W=new(M===void 0?T:M)(C(E-N,0)),Q=0;N<E;N++,Q++)N in w&&h(W,Q,w[N]);return W.length=Q,W}})},function(i,a,e){e(395);var n=e(15),s=n.Object,u=i.exports=function(d,v,f){return s.defineProperty(d,v,f)};s.defineProperty.sham&&(u.sham=!0)},function(i,a,e){var n=e(0),s=e(20),u=e(34).f;n({target:"Object",stat:!0,forced:Object.defineProperty!==u,sham:!s},{defineProperty:u})},function(i,a,e){var n=e(106),s=e(225);function u(c){var d=this;this.AV=c,this.lockedUntil=0,s.getAsync("serverURLs").then(function(v){if(!d.disabled){if(!v)return d.lock(0);var f=v.serverURLs,h=v.lockedUntil;d.AV._setServerURLs(f,!1),d.lockedUntil=h}}).catch(function(){return d.lock(0)})}u.prototype.disable=function(){this.disabled=!0},u.prototype.lock=function(d){this.lockedUntil=Date.now()+d},u.prototype.refresh=function(){var d=this;if(!this.disabled&&!(Date.now()<this.lockedUntil)){this.lock(10);var v="https://app-router.com/2/route";return n({method:"get",url:v,query:{appId:this.AV.applicationId}}).then(function(f){if(!d.disabled){var h=f.ttl;if(!h)throw new Error("missing ttl");h=h*1e3;var g="https://",y={push:g+f.push_server,stats:g+f.stats_server,engine:g+f.engine_server,api:g+f.api_server};return d.AV._setServerURLs(y,!1),d.lock(h),s.setAsync("serverURLs",{serverURLs:y,lockedUntil:d.lockedUntil},h)}}).catch(function(f){console.warn("refresh server URLs failed: ".concat(f.message)),d.lock(600)})}},i.exports=u},function(i,a,e){i.exports=e(398)},function(i,a,e){var n=e(399);e(423),e(424),e(425),e(426),e(427),e(428),e(429),e(430),i.exports=n},function(i,a,e){var n=e(230);i.exports=n},function(i,a,e){e(215),e(96),e(401),e(407),e(408),e(409),e(410),e(234),e(411),e(412),e(413),e(414),e(415),e(416),e(417),e(418),e(419),e(420),e(421),e(422);var n=e(15);i.exports=n.Symbol},function(i,a,e){e(402),e(404),e(405),e(218),e(406)},function(i,a,e){var n=e(0),s=e(9),u=e(11),c=e(4),d=e(32),v=e(20),f=e(55),h=e(3),g=e(13),y=e(12),x=e(21),p=e(35),j=e(88),T=e(40),C=e(44),I=e(59),U=e(120),A=e(114),w=e(403),P=e(119),N=e(73),E=e(34),M=e(152),W=e(145),Q=e(48),G=e(75),H=e(91),J=e(93),K=e(112),k=e(5),L=e(142),B=e(7),$=e(232),z=e(61),X=e(95),q=e(105).forEach,ne=H("hidden"),ae="Symbol",ie="prototype",ve=X.set,Pe=X.getterFor(ae),fe=Object[ie],se=s.Symbol,he=se&&se[ie],oe=s.TypeError,ge=s.QObject,Ee=N.f,Ue=E.f,Ye=w.f,Qe=W.f,et=c([].push),tt=G("symbols"),Nt=G("op-symbols"),vr=G("wks"),Qt=!ge||!ge[ie]||!ge[ie].findChild,_t=v&&h(function(){return I(Ue({},"a",{get:function(){return Ue(this,"a",{value:7}).a}})).a!=7})?function(Be,Ie,Ae){var Re=Ee(fe,Ie);Re&&delete fe[Ie],Ue(Be,Ie,Ae),Re&&Be!==fe&&Ue(fe,Ie,Re)}:Ue,yt=function(Be,Ie){var Ae=tt[Be]=I(he);return ve(Ae,{type:ae,tag:Be,description:Ie}),v||(Ae.description=Ie),Ae},ct=function(Ie,Ae,Re){Ie===fe&&ct(Nt,Ae,Re),x(Ie);var Ke=j(Ae);return x(Re),g(tt,Ke)?(Re.enumerable?(g(Ie,ne)&&Ie[ne][Ke]&&(Ie[ne][Ke]=!1),Re=I(Re,{enumerable:C(0,!1)})):(g(Ie,ne)||Ue(Ie,ne,C(1,{})),Ie[ne][Ke]=!0),_t(Ie,Ke,Re)):Ue(Ie,Ke,Re)},Pt=function(Ie,Ae){x(Ie);var Re=p(Ae),Ke=U(Re).concat(Fe(Re));return q(Ke,function(ht){(!v||u(Ce,Re,ht))&&ct(Ie,ht,Re[ht])}),Ie},me=function(Ie,Ae){return Ae===void 0?I(Ie):Pt(I(Ie),Ae)},Ce=function(Ie){var Ae=j(Ie),Re=u(Qe,this,Ae);return this===fe&&g(tt,Ae)&&!g(Nt,Ae)?!1:Re||!g(this,Ae)||!g(tt,Ae)||g(this,ne)&&this[ne][Ae]?Re:!0},Le=function(Ie,Ae){var Re=p(Ie),Ke=j(Ae);if(!(Re===fe&&g(tt,Ke)&&!g(Nt,Ke))){var ht=Ee(Re,Ke);return ht&&g(tt,Ke)&&!(g(Re,ne)&&Re[ne][Ke])&&(ht.enumerable=!0),ht}},We=function(Ie){var Ae=Ye(p(Ie)),Re=[];return q(Ae,function(Ke){!g(tt,Ke)&&!g(J,Ke)&&et(Re,Ke)}),Re},Fe=function(Be){var Ie=Be===fe,Ae=Ye(Ie?Nt:p(Be)),Re=[];return q(Ae,function(Ke){g(tt,Ke)&&(!Ie||g(fe,Ke))&&et(Re,tt[Ke])}),Re};f||(se=function(){if(y(he,this))throw oe("Symbol is not a constructor");var Ie=!arguments.length||arguments[0]===void 0?void 0:T(arguments[0]),Ae=K(Ie),Re=function(Ke){this===fe&&u(Re,Nt,Ke),g(this,ne)&&g(this[ne],Ae)&&(this[ne][Ae]=!1),_t(this,Ae,C(1,Ke))};return v&&Qt&&_t(fe,Ae,{configurable:!0,set:Re}),yt(Ae,Ie)},he=se[ie],Q(he,"toString",function(){return Pe(this).tag}),Q(se,"withoutSetter",function(Be){return yt(K(Be),Be)}),W.f=Ce,E.f=ct,M.f=Pt,N.f=Le,A.f=w.f=We,P.f=Fe,L.f=function(Be){return yt(k(Be),Be)},v&&(Ue(he,"description",{configurable:!0,get:function(){return Pe(this).description}}),d||Q(fe,"propertyIsEnumerable",Ce,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!f,sham:!f},{Symbol:se}),q(U(vr),function(Be){B(Be)}),n({target:ae,stat:!0,forced:!f},{useSetter:function(){Qt=!0},useSimple:function(){Qt=!1}}),n({target:"Object",stat:!0,forced:!f,sham:!v},{create:me,defineProperty:ct,defineProperties:Pt,getOwnPropertyDescriptor:Le}),n({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:We}),$(),z(se,ae),J[ne]=!0},function(i,a,e){var n=e(54),s=e(35),u=e(114).f,c=e(231),d=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],v=function(f){try{return u(f)}catch{return c(d)}};i.exports.f=function(h){return d&&n(h)=="Window"?v(h):u(s(h))}},function(i,a,e){var n=e(0),s=e(18),u=e(13),c=e(40),d=e(75),v=e(233),f=d("string-to-symbol-registry"),h=d("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!v},{for:function(g){var y=c(g);if(u(f,y))return f[y];var x=s("Symbol")(y);return f[y]=x,h[x]=y,x}})},function(i,a,e){var n=e(0),s=e(13),u=e(89),c=e(57),d=e(75),v=e(233),f=d("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!v},{keyFor:function(g){if(!u(g))throw TypeError(c(g)+" is not a symbol");if(s(f,g))return f[g]}})},function(i,a,e){var n=e(0),s=e(55),u=e(3),c=e(119),d=e(33),v=!s||u(function(){c.f(1)});n({target:"Object",stat:!0,forced:v},{getOwnPropertySymbols:function(h){var g=c.f;return g?g(d(h)):[]}})},function(i,a,e){var n=e(7);n("asyncIterator")},function(i,a){},function(i,a,e){var n=e(7);n("hasInstance")},function(i,a,e){var n=e(7);n("isConcatSpreadable")},function(i,a,e){var n=e(7);n("match")},function(i,a,e){var n=e(7);n("matchAll")},function(i,a,e){var n=e(7);n("replace")},function(i,a,e){var n=e(7);n("search")},function(i,a,e){var n=e(7);n("species")},function(i,a,e){var n=e(7);n("split")},function(i,a,e){var n=e(7),s=e(232);n("toPrimitive"),s()},function(i,a,e){var n=e(18),s=e(7),u=e(61);s("toStringTag"),u(n("Symbol"),"Symbol")},function(i,a,e){var n=e(7);n("unscopables")},function(i,a,e){var n=e(9),s=e(61);s(n.JSON,"JSON",!0)},function(i,a){},function(i,a){},function(i,a,e){var n=e(7);n("asyncDispose")},function(i,a,e){var n=e(7);n("dispose")},function(i,a,e){var n=e(7);n("matcher")},function(i,a,e){var n=e(7);n("metadataKey")},function(i,a,e){var n=e(7);n("observable")},function(i,a,e){var n=e(7);n("metadata")},function(i,a,e){var n=e(7);n("patternMatch")},function(i,a,e){var n=e(7);n("replaceAll")},function(i,a,e){i.exports=e(432)},function(i,a,e){i.exports=e(433)},function(i,a,e){var n=e(434);i.exports=n},function(i,a,e){var n=e(235);i.exports=n},function(i,a,e){e(60),e(96),e(79),e(234);var n=e(142);i.exports=n.f("iterator")},function(i,a,e){i.exports=e(437)},function(i,a,e){var n=e(438);i.exports=n},function(i,a,e){var n=e(12),s=e(439),u=Array.prototype;i.exports=function(c){var d=c.filter;return c===u||n(u,c)&&d===u.filter?s:d}},function(i,a,e){e(440);var n=e(26);i.exports=n("Array").filter},function(i,a,e){var n=e(0),s=e(105).filter,u=e(104),c=u("filter");n({target:"Array",proto:!0,forced:!c},{filter:function(v){return s(this,v,arguments.length>1?arguments[1]:void 0)}})},function(i,a,e){var n;i.exports.timeout=function(s,u){var c=new n,d;return Promise.race([s,new Promise(function(v,f){d=setTimeout(function(){f(c)},u)})]).then(function(v){return clearTimeout(d),v},function(v){throw clearTimeout(d),v})},n=i.exports.TimeoutError=function(){Error.call(this),this.stack=Error().stack,this.message="Timeout"},n.prototype=Object.create(Error.prototype),n.prototype.name="TimeoutError"},function(i,a,e){var n=e(1),s=n(e(38)),u=n(e(53)),c=n(e(25)),d=e(2);i.exports=function(v){var f=/\s+/,h=(0,s.default)(Array.prototype);v.Events={on:function(y,x,p){var j,T,C,I,U;if(!x)return this;for(y=y.split(f),j=this._callbacks||(this._callbacks={}),T=y.shift();T;)U=j[T],C=U?U.tail:{},C.next=I={},C.context=p,C.callback=x,j[T]={tail:I,next:U?U.next:C},T=y.shift();return this},off:function(y,x,p){var j,T,C,I,U,A;if(T=this._callbacks){if(!(y||x||p))return delete this._callbacks,this;for(y=y?y.split(f):(0,u.default)(d).call(d,T),j=y.shift();j;)if(C=T[j],delete T[j],!(!C||!(x||p))){for(I=C.tail,C=C.next;C!==I;)U=C.callback,A=C.context,(x&&U!==x||p&&A!==p)&&this.on(j,U,A),C=C.next;j=y.shift()}return this}},trigger:function(y){var x,p,j,T,C,I,U;if(!(j=this._callbacks))return this;for(I=j.all,y=y.split(f),U=h.call(arguments,1),x=y.shift();x;){if(p=j[x],p)for(T=p.tail;(p=p.next)!==T;)p.callback.apply(p.context||this,U);if(p=I,p){var A;for(T=p.tail,C=(0,c.default)(A=[x]).call(A,U);(p=p.next)!==T;)p.callback.apply(p.context||this,C)}x=y.shift()}return this}},v.Events.bind=v.Events.on,v.Events.unbind=v.Events.off}},function(i,a,e){var n=e(1),s=n(e(10)),u=e(2);i.exports=function(c){c.GeoPoint=function(d,v){u.isArray(d)?(c.GeoPoint._validate(d[0],d[1]),this.latitude=d[0],this.longitude=d[1]):u.isObject(d)?(c.GeoPoint._validate(d.latitude,d.longitude),this.latitude=d.latitude,this.longitude=d.longitude):u.isNumber(d)&&u.isNumber(v)?(c.GeoPoint._validate(d,v),this.latitude=d,this.longitude=v):(this.latitude=0,this.longitude=0);var f=this;this.__defineGetter__&&this.__defineSetter__&&(this._latitude=this.latitude,this._longitude=this.longitude,this.__defineGetter__("latitude",function(){return f._latitude}),this.__defineGetter__("longitude",function(){return f._longitude}),this.__defineSetter__("latitude",function(h){c.GeoPoint._validate(h,f.longitude),f._latitude=h}),this.__defineSetter__("longitude",function(h){c.GeoPoint._validate(f.latitude,h),f._longitude=h}))},c.GeoPoint._validate=function(d,v){if(d<-90)throw new Error("AV.GeoPoint latitude "+d+" < -90.0.");if(d>90)throw new Error("AV.GeoPoint latitude "+d+" > 90.0.");if(v<-180)throw new Error("AV.GeoPoint longitude "+v+" < -180.0.");if(v>180)throw new Error("AV.GeoPoint longitude "+v+" > 180.0.")},c.GeoPoint.current=function(){return new s.default(function(d,v){navigator.geolocation.getCurrentPosition(function(f){d(new c.GeoPoint({latitude:f.coords.latitude,longitude:f.coords.longitude}))},v)})},u.extend(c.GeoPoint.prototype,{toJSON:function(){return c.GeoPoint._validate(this.latitude,this.longitude),{__type:"GeoPoint",latitude:this.latitude,longitude:this.longitude}},radiansTo:function(v){var f=Math.PI/180,h=this.latitude*f,g=this.longitude*f,y=v.latitude*f,x=v.longitude*f,p=h-y,j=g-x,T=Math.sin(p/2),C=Math.sin(j/2),I=T*T+Math.cos(h)*Math.cos(y)*C*C;return I=Math.min(1,I),2*Math.asin(Math.sqrt(I))},kilometersTo:function(v){return this.radiansTo(v)*6371},milesTo:function(v){return this.radiansTo(v)*3958.8}})}},function(i,a,e){var n=e(2);i.exports=function(s){var u="*";s.ACL=function(c){var d=this;if(d.permissionsById={},n.isObject(c))if(c instanceof s.User)d.setReadAccess(c,!0),d.setWriteAccess(c,!0);else{if(n.isFunction(c))throw new Error("AV.ACL() called with a function.  Did you forget ()?");s._objectEach(c,function(v,f){if(!n.isString(f))throw new Error("Tried to create an ACL with an invalid userId.");d.permissionsById[f]={},s._objectEach(v,function(h,g){if(g!=="read"&&g!=="write")throw new Error("Tried to create an ACL with an invalid permission type.");if(!n.isBoolean(h))throw new Error("Tried to create an ACL with an invalid permission value.");d.permissionsById[f][g]=h})})}},s.ACL.prototype.toJSON=function(){return n.clone(this.permissionsById)},s.ACL.prototype._setAccess=function(c,d,v){if(d instanceof s.User?d=d.id:d instanceof s.Role&&(d="role:"+d.getName()),!n.isString(d))throw new Error("userId must be a string.");if(!n.isBoolean(v))throw new Error("allowed must be either true or false.");var f=this.permissionsById[d];if(!f)if(v)f={},this.permissionsById[d]=f;else return;v?this.permissionsById[d][c]=!0:(delete f[c],n.isEmpty(f)&&delete this.permissionsById[d])},s.ACL.prototype._getAccess=function(c,d){d instanceof s.User?d=d.id:d instanceof s.Role&&(d="role:"+d.getName());var v=this.permissionsById[d];return v?!!v[c]:!1},s.ACL.prototype.setReadAccess=function(c,d){this._setAccess("read",c,d)},s.ACL.prototype.getReadAccess=function(c){return this._getAccess("read",c)},s.ACL.prototype.setWriteAccess=function(c,d){this._setAccess("write",c,d)},s.ACL.prototype.getWriteAccess=function(c){return this._getAccess("write",c)},s.ACL.prototype.setPublicReadAccess=function(c){this.setReadAccess(u,c)},s.ACL.prototype.getPublicReadAccess=function(){return this.getReadAccess(u)},s.ACL.prototype.setPublicWriteAccess=function(c){this.setWriteAccess(u,c)},s.ACL.prototype.getPublicWriteAccess=function(){return this.getWriteAccess(u)},s.ACL.prototype.getRoleReadAccess=function(c){if(c instanceof s.Role&&(c=c.getName()),n.isString(c))return this.getReadAccess("role:"+c);throw new Error("role must be a AV.Role or a String")},s.ACL.prototype.getRoleWriteAccess=function(c){if(c instanceof s.Role&&(c=c.getName()),n.isString(c))return this.getWriteAccess("role:"+c);throw new Error("role must be a AV.Role or a String")},s.ACL.prototype.setRoleReadAccess=function(c,d){if(c instanceof s.Role&&(c=c.getName()),n.isString(c)){this.setReadAccess("role:"+c,d);return}throw new Error("role must be a AV.Role or a String")},s.ACL.prototype.setRoleWriteAccess=function(c,d){if(c instanceof s.Role&&(c=c.getName()),n.isString(c)){this.setWriteAccess("role:"+c,d);return}throw new Error("role must be a AV.Role or a String")}}},function(i,a,e){var n=e(1),s=n(e(25)),u=n(e(107)),c=n(e(68)),d=n(e(42)),v=e(2);i.exports=function(f){f.Op=function(){this._initialize.apply(this,arguments)},v.extend(f.Op.prototype,{_initialize:function(){}}),v.extend(f.Op,{_extend:f._extend,_opDecoderMap:{},_registerDecoder:function(g,y){f.Op._opDecoderMap[g]=y},_decode:function(g){var y=f.Op._opDecoderMap[g.__op];if(y)return y(g)}}),f.Op._registerDecoder("Batch",function(h){var g=null;return f._arrayEach(h.ops,function(y){y=f.Op._decode(y),g=y._mergeWithPrevious(g)}),g}),f.Op.Set=f.Op._extend({_initialize:function(g){this._value=g},value:function(){return this._value},toJSON:function(){return f._encode(this.value())},_mergeWithPrevious:function(g){return this},_estimate:function(g){return this.value()}}),f.Op._UNSET={},f.Op.Unset=f.Op._extend({toJSON:function(){return{__op:"Delete"}},_mergeWithPrevious:function(g){return this},_estimate:function(g){return f.Op._UNSET}}),f.Op._registerDecoder("Delete",function(h){return new f.Op.Unset}),f.Op.Increment=f.Op._extend({_initialize:function(g){this._amount=g},amount:function(){return this._amount},toJSON:function(){return{__op:"Increment",amount:this._amount}},_mergeWithPrevious:function(g){if(g){if(g instanceof f.Op.Unset)return new f.Op.Set(this.amount());if(g instanceof f.Op.Set)return new f.Op.Set(g.value()+this.amount());if(g instanceof f.Op.Increment)return new f.Op.Increment(this.amount()+g.amount());throw new Error("Op is invalid after previous op.")}else return this},_estimate:function(g){return g?g+this.amount():this.amount()}}),f.Op._registerDecoder("Increment",function(h){return new f.Op.Increment(h.amount)}),f.Op.BitAnd=f.Op._extend({_initialize:function(g){this._value=g},value:function(){return this._value},toJSON:function(){return{__op:"BitAnd",value:this.value()}},_mergeWithPrevious:function(g){if(g){if(g instanceof f.Op.Unset)return new f.Op.Set(0);if(g instanceof f.Op.Set)return new f.Op.Set(g.value()&this.value());throw new Error("Op is invalid after previous op.")}else return this},_estimate:function(g){return g&this.value()}}),f.Op._registerDecoder("BitAnd",function(h){return new f.Op.BitAnd(h.value)}),f.Op.BitOr=f.Op._extend({_initialize:function(g){this._value=g},value:function(){return this._value},toJSON:function(){return{__op:"BitOr",value:this.value()}},_mergeWithPrevious:function(g){if(g){if(g instanceof f.Op.Unset)return new f.Op.Set(this.value());if(g instanceof f.Op.Set)return new f.Op.Set(g.value()|this.value());throw new Error("Op is invalid after previous op.")}else return this},_estimate:function(g){return g|this.value()}}),f.Op._registerDecoder("BitOr",function(h){return new f.Op.BitOr(h.value)}),f.Op.BitXor=f.Op._extend({_initialize:function(g){this._value=g},value:function(){return this._value},toJSON:function(){return{__op:"BitXor",value:this.value()}},_mergeWithPrevious:function(g){if(g){if(g instanceof f.Op.Unset)return new f.Op.Set(this.value());if(g instanceof f.Op.Set)return new f.Op.Set(g.value()^this.value());throw new Error("Op is invalid after previous op.")}else return this},_estimate:function(g){return g^this.value()}}),f.Op._registerDecoder("BitXor",function(h){return new f.Op.BitXor(h.value)}),f.Op.Add=f.Op._extend({_initialize:function(g){this._objects=g},objects:function(){return this._objects},toJSON:function(){return{__op:"Add",objects:f._encode(this.objects())}},_mergeWithPrevious:function(g){if(g){if(g instanceof f.Op.Unset)return new f.Op.Set(this.objects());if(g instanceof f.Op.Set)return new f.Op.Set(this._estimate(g.value()));if(g instanceof f.Op.Add){var y;return new f.Op.Add((0,s.default)(y=g.objects()).call(y,this.objects()))}else throw new Error("Op is invalid after previous op.")}else return this},_estimate:function(g){return g?(0,s.default)(g).call(g,this.objects()):v.clone(this.objects())}}),f.Op._registerDecoder("Add",function(h){return new f.Op.Add(f._decode(h.objects))}),f.Op.AddUnique=f.Op._extend({_initialize:function(g){this._objects=v.uniq(g)},objects:function(){return this._objects},toJSON:function(){return{__op:"AddUnique",objects:f._encode(this.objects())}},_mergeWithPrevious:function(g){if(g){if(g instanceof f.Op.Unset)return new f.Op.Set(this.objects());if(g instanceof f.Op.Set)return new f.Op.Set(this._estimate(g.value()));if(g instanceof f.Op.AddUnique)return new f.Op.AddUnique(this._estimate(g.objects()));throw new Error("Op is invalid after previous op.")}else return this},_estimate:function(g){if(g){var y=v.clone(g);return f._arrayEach(this.objects(),function(x){if(x instanceof f.Object&&x.id){var p=(0,u.default)(v).call(v,y,function(T){return T instanceof f.Object&&T.id===x.id});if(!p)y.push(x);else{var j=(0,c.default)(v).call(v,y,p);y[j]=x}}else v.contains(y,x)||y.push(x)}),y}else return v.clone(this.objects())}}),f.Op._registerDecoder("AddUnique",function(h){return new f.Op.AddUnique(f._decode(h.objects))}),f.Op.Remove=f.Op._extend({_initialize:function(g){this._objects=v.uniq(g)},objects:function(){return this._objects},toJSON:function(){return{__op:"Remove",objects:f._encode(this.objects())}},_mergeWithPrevious:function(g){if(g){if(g instanceof f.Op.Unset)return g;if(g instanceof f.Op.Set)return new f.Op.Set(this._estimate(g.value()));if(g instanceof f.Op.Remove)return new f.Op.Remove(v.union(g.objects(),this.objects()));throw new Error("Op is invalid after previous op.")}else return this},_estimate:function(g){if(g){var y=v.difference(g,this.objects());return f._arrayEach(this.objects(),function(x){x instanceof f.Object&&x.id&&(y=v.reject(y,function(p){return p instanceof f.Object&&p.id===x.id}))}),y}else return[]}}),f.Op._registerDecoder("Remove",function(h){return new f.Op.Remove(f._decode(h.objects))}),f.Op.Relation=f.Op._extend({_initialize:function(g,y){this._targetClassName=null;var x=this,p=function(T){if(T instanceof f.Object){if(!T.id)throw new Error("You can't add an unsaved AV.Object to a relation.");if(x._targetClassName||(x._targetClassName=T.className),x._targetClassName!==T.className)throw new Error("Tried to create a AV.Relation with 2 different types: "+x._targetClassName+" and "+T.className+".");return T.id}return T};this.relationsToAdd=v.uniq((0,d.default)(v).call(v,g,p)),this.relationsToRemove=v.uniq((0,d.default)(v).call(v,y,p))},added:function(){var g=this;return(0,d.default)(v).call(v,this.relationsToAdd,function(y){var x=f.Object._create(g._targetClassName);return x.id=y,x})},removed:function(){var g=this;return(0,d.default)(v).call(v,this.relationsToRemove,function(y){var x=f.Object._create(g._targetClassName);return x.id=y,x})},toJSON:function(){var g=null,y=null,x=this,p=function(C){return{__type:"Pointer",className:x._targetClassName,objectId:C}},j=null;return this.relationsToAdd.length>0&&(j=(0,d.default)(v).call(v,this.relationsToAdd,p),g={__op:"AddRelation",objects:j}),this.relationsToRemove.length>0&&(j=(0,d.default)(v).call(v,this.relationsToRemove,p),y={__op:"RemoveRelation",objects:j}),g&&y?{__op:"Batch",ops:[g,y]}:g||y||{}},_mergeWithPrevious:function(g){if(g){if(g instanceof f.Op.Unset)throw new Error("You can't modify a relation after deleting it.");if(g instanceof f.Op.Relation){if(g._targetClassName&&g._targetClassName!==this._targetClassName)throw new Error("Related object must be of class "+g._targetClassName+", but "+this._targetClassName+" was passed in.");var y=v.union(v.difference(g.relationsToAdd,this.relationsToRemove),this.relationsToAdd),x=v.union(v.difference(g.relationsToRemove,this.relationsToAdd),this.relationsToRemove),p=new f.Op.Relation(y,x);return p._targetClassName=this._targetClassName,p}else throw new Error("Op is invalid after previous op.")}else return this},_estimate:function(g,y,x){if(g)if(g instanceof f.Relation){if(this._targetClassName)if(g.targetClassName){if(g.targetClassName!==this._targetClassName)throw new Error("Related object must be a "+g.targetClassName+", but a "+this._targetClassName+" was passed in.")}else g.targetClassName=this._targetClassName;return g}else throw new Error("Op is invalid after previous op.");else{var p=new f.Relation(y,x);p.targetClassName=this._targetClassName}}}),f.Op._registerDecoder("AddRelation",function(h){return new f.Op.Relation(f._decode(h.objects),[])}),f.Op._registerDecoder("RemoveRelation",function(h){return new f.Op.Relation([],f._decode(h.objects))})}},function(i,a,e){var n=e(447);i.exports=n},function(i,a,e){var n=e(12),s=e(448),u=Array.prototype;i.exports=function(c){var d=c.find;return c===u||n(u,c)&&d===u.find?s:d}},function(i,a,e){e(449);var n=e(26);i.exports=n("Array").find},function(i,a,e){var n=e(0),s=e(105).find,u=e(122),c="find",d=!0;c in[]&&Array(1)[c](function(){d=!1}),n({target:"Array",proto:!0,forced:d},{find:function(f){return s(this,f,arguments.length>1?arguments[1]:void 0)}}),u(c)},function(i,a,e){var n=e(2);i.exports=function(s){s.Relation=function(u,c){if(!n.isString(c))throw new TypeError("key must be a string");this.parent=u,this.key=c,this.targetClassName=null},s.Relation.reverseQuery=function(u,c,d){var v=new s.Query(u);return v.equalTo(c,d._toPointer()),v},n.extend(s.Relation.prototype,{_ensureParentAndKey:function(c,d){if(this.parent=this.parent||c,this.key=this.key||d,this.parent!==c)throw new Error("Internal Error. Relation retrieved from two different Objects.");if(this.key!==d)throw new Error("Internal Error. Relation retrieved from two different keys.")},add:function(c){n.isArray(c)||(c=[c]);var d=new s.Op.Relation(c,[]);this.parent.set(this.key,d),this.targetClassName=d._targetClassName},remove:function(c){n.isArray(c)||(c=[c]);var d=new s.Op.Relation([],c);this.parent.set(this.key,d),this.targetClassName=d._targetClassName},toJSON:function(){return{__type:"Relation",className:this.targetClassName}},query:function(){var c,d;return this.targetClassName?(c=s.Object._getSubclass(this.targetClassName),d=new s.Query(c)):(c=s.Object._getSubclass(this.parent.className),d=new s.Query(c),d._defaultParams.redirectClassNameForKey=this.key),d._addCondition("$relatedTo","object",this.parent._toPointer()),d._addCondition("$relatedTo","key",this.key),d}})}},function(i,a,e){var n=e(1),s=n(e(10)),u=e(2),c=e(452),d=e(453),v=e(499),f=e(43),h=e(27),g=h.request,y=h._request,x=e(31),p=x.tap,j=x.transformFetchOptions,T=e(69)("leancloud:file"),C=e(503);i.exports=function(I){var U=function(N){return u.isString(N)?N.match(/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/)[4]:""},A=function(N){if(N<26)return String.fromCharCode(65+N);if(N<52)return String.fromCharCode(97+(N-26));if(N<62)return String.fromCharCode(48+(N-52));if(N===62)return"+";if(N===63)return"/";throw new Error("Tried to encode large digit "+N+" in base64.")},w=function(N){var E=[];return E.length=Math.ceil(N.length/3),u.times(E.length,function(M){var W=N[M*3],Q=N[M*3+1]||0,G=N[M*3+2]||0,H=M*3+1<N.length,J=M*3+2<N.length;E[M]=[A(W>>2&63),A(W<<4&48|Q>>4&15),H?A(Q<<2&60|G>>6&3):"=",J?A(G&63):"="].join("")}),E.join("")};I.File=function(P,N,E){if(this.attributes={name:P,url:"",metaData:{},base64:""},u.isString(N))throw new TypeError("Creating an AV.File from a String is not yet supported.");u.isArray(N)&&(this.attributes.metaData.size=N.length,N={base64:w(N)}),this._extName="",this._data=N,this._uploadHeaders={},N&&N.blob&&typeof N.blob.uri=="string"&&(this._extName=U(N.blob.uri)),typeof Blob<"u"&&N instanceof Blob&&(N.size&&(this.attributes.metaData.size=N.size),N.name&&(this._extName=U(N.name)));var M;if(N&&N.owner)M=N.owner;else if(!I._config.disableCurrentUser)try{M=I.User.current()}catch(W){if(W.code!=="SYNC_API_NOT_AVAILABLE")throw W}this.attributes.metaData.owner=M?M.id:"unknown",this.set("mime_type",E)},I.File.withURL=function(P,N,E,M){if(!P||!N)throw new Error("Please provide file name and url");var W=new I.File(P,null,M);if(E)for(var Q in E)W.attributes.metaData[Q]||(W.attributes.metaData[Q]=E[Q]);return W.attributes.url=N,W.attributes.metaData.__source="external",W.attributes.metaData.size=0,W},I.File.createWithoutData=function(P){if(!P)throw new TypeError("The objectId must be provided");var N=new I.File;return N.id=P,N},I.File.censor=function(P){if(!I._config.masterKey)throw new Error("Cannot censor a file without masterKey");return g({method:"POST",path:"/files/".concat(P,"/censor"),authOptions:{useMasterKey:!0}}).then(function(N){return N.censorResult})},u.extend(I.File.prototype,{className:"_File",_toFullJSON:function(N){var E=this,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,W=u.clone(this.attributes);return I._objectEach(W,function(Q,G){W[G]=I._encode(Q,N,void 0,M)}),I._objectEach(this._operations,function(Q,G){W[G]=Q}),u.has(this,"id")&&(W.objectId=this.id),["createdAt","updatedAt"].forEach(function(Q){if(u.has(E,Q)){var G=E[Q];W[Q]=u.isDate(G)?G.toJSON():G}}),M&&(W.__type="File"),W},toFullJSON:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return this._toFullJSON(N)},toJSON:function(N,E){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[this];return this._toFullJSON(M,!1)},_toPointer:function(){return{__type:"Pointer",className:this.className,objectId:this.id}},getACL:function(){return this._acl},setACL:function(N){return N instanceof I.ACL?(this._acl=N,this):new f(f.OTHER_CAUSE,"ACL must be a AV.ACL.")},name:function(){return this.get("name")},url:function(){return this.get("url")},get:function(N){switch(N){case"objectId":return this.id;case"url":case"name":case"mime_type":case"metaData":case"createdAt":case"updatedAt":return this.attributes[N];default:return this.attributes.metaData[N]}},set:function(){for(var N=this,E=function(J,K){switch(J){case"name":case"url":case"mime_type":case"base64":case"metaData":N.attributes[J]=K;break;default:N.attributes.metaData[J]=K;break}},M=arguments.length,W=new Array(M),Q=0;Q<M;Q++)W[Q]=arguments[Q];switch(W.length){case 1:for(var G in W[0])E(G,W[0][G]);break;case 2:E(W[0],W[1]);break}return this},setUploadHeader:function(N,E){return this._uploadHeaders[N]=E,this},metaData:function(N,E){return N&&E?(this.attributes.metaData[N]=E,this):N&&!E?this.attributes.metaData[N]:this.attributes.metaData},thumbnailURL:function(N,E){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:100,W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,Q=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"png",G=this.attributes.url;if(!G)throw new Error("Invalid url.");if(!N||!E||N<=0||E<=0)throw new Error("Invalid width or height value.");if(M<=0||M>100)throw new Error("Invalid quality value.");var H=W?2:1;return G+"?imageView/"+H+"/w/"+N+"/h/"+E+"/q/"+M+"/format/"+Q},size:function(){return this.metaData().size},ownerId:function(){return this.metaData().owner},destroy:function(N){if(!this.id)return s.default.reject(new Error("The file id does not eixst."));var E=y("files",null,this.id,"DELETE",null,N);return E},_fileToken:function(N,E){var M=this.attributes.name,W=U(M);!W&&this._extName&&(M+=this._extName,W=this._extName);var Q={name:M,keep_file_name:E.keepFileName,key:E.key,ACL:this._acl,mime_type:N,metaData:this.attributes.metaData};return y("fileTokens",null,null,"POST",Q,E)},save:function(){var N=this,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.id)throw new Error("File is already saved.");if(!this._previousSave){if(this._data){var M=this.get("mime_type");this._previousSave=this._fileToken(M,E).then(function(Q){return Q.mime_type&&(M=Q.mime_type,N.set("mime_type",M)),N._token=Q.token,s.default.resolve().then(function(){var G=N._data;if(G&&G.base64)return C(G.base64,M);if(G&&G.blob)return!G.blob.type&&M&&(G.blob.type=M),G.blob.name||(G.blob.name=N.get("name")),G.blob;if(typeof Blob<"u"&&G instanceof Blob)return G;throw new TypeError("malformed file data")}).then(function(G){var H=u.extend({},E);switch(E.onprogress&&(H.onprogress=function(J){if(J.direction!=="download")return E.onprogress(J)}),Q.provider){case"s3":return v(Q,G,N,H);case"qcloud":return c(Q,G,N,H);case"qiniu":default:return d(Q,G,N,H)}}).then(p(function(){return N._callback(!0)}),function(G){throw N._callback(!1),G})})}else if(this.attributes.url&&this.attributes.metaData.__source==="external"){var W={name:this.attributes.name,ACL:this._acl,metaData:this.attributes.metaData,mime_type:this.mimeType,url:this.attributes.url};this._previousSave=y("files",null,null,"post",W,E).then(function(Q){return N.id=Q.objectId,N})}}return this._previousSave},_callback:function(N){y("fileCallback",null,null,"post",{token:this._token,result:N}).catch(T),delete this._token,delete this._data},fetch:function(N,E){if(!this.id)throw new Error("Cannot fetch unsaved file");var M=y("files",null,this.id,"GET",j(N),E);return M.then(this._finishFetch.bind(this))},_finishFetch:function(N){var E=I.Object.prototype.parse(N);return E.attributes={name:E.name,url:E.url,mime_type:E.mime_type,bucket:E.bucket},E.attributes.metaData=E.metaData||{},E.id=E.objectId,delete E.objectId,delete E.metaData,delete E.url,delete E.name,delete E.mime_type,delete E.bucket,u.extend(this,E),this},censor:function(){if(!this.id)throw new Error("Cannot censor an unsaved file");return I.File.censor(this.id)}})}},function(i,a,e){var n=e(70),s=n.getAdapter,u=e(69)("cos");i.exports=function(c,d,v){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},h=c.upload_url+"?sign="+encodeURIComponent(c.token),g={field:"fileContent",data:d,name:v.attributes.name},y={headers:v._uploadHeaders,data:{op:"upload"},onprogress:f.onprogress};u("url: %s, file: %o, options: %o",h,g,y);var x=s("upload");return x(h,g,y).then(function(p){if(u(p.status,p.data),p.ok===!1){var j=new Error(p.status);throw j.response=p,j}return v.attributes.url=c.url,v._bucket=c.bucket,v.id=c.objectId,v},function(p){var j=p.response;throw j&&(u(j.status,j.data),p.statusCode=j.status,p.response=j.data),p})}},function(i,a,e){var n=e(38),s=e(236),u=e(87),c=e(238),d=e(463),v=e(1),f=v(e(467)),h=v(e(489)),g=v(e(491)),y=v(e(496)),x=v(e(497)),p=v(e(37)),j=v(e(25)),T=v(e(10)),C=v(e(38));function I($){var z=U();return function(){var q=(0,g.default)($),ne;if(z){var ae=(0,g.default)(this).constructor;ne=d(q,arguments,ae)}else ne=q.apply(this,arguments);return(0,h.default)(this,ne)}}function U(){if(typeof Reflect>"u"||!d||d.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(d(Boolean,[],function(){})),!0}catch{return!1}}function A($,z){var X=typeof u<"u"&&c($)||$["@@iterator"];if(!X){if(Array.isArray($)||(X=w($))||z){X&&($=X);var q=0,ne=function(){};return{s:ne,n:function(){return q>=$.length?{done:!0}:{done:!1,value:$[q++]}},e:function(fe){throw fe},f:ne}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ae=!0,ie=!1,ve;return{s:function(){X=X.call($)},n:function(){var fe=X.next();return ae=fe.done,fe},e:function(fe){ie=!0,ve=fe},f:function(){try{!ae&&X.return!=null&&X.return()}finally{if(ie)throw ve}}}}function w($,z){var X;if($){if(typeof $=="string")return P($,z);var q=n(X=Object.prototype.toString.call($)).call(X,8,-1);if(q==="Object"&&$.constructor&&(q=$.constructor.name),q==="Map"||q==="Set")return s($);if(q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q))return P($,z)}}function P($,z){(z==null||z>$.length)&&(z=$.length);for(var X=0,q=new Array(z);X<z;X++)q[X]=$[X];return q}var N=e(70),E=N.getAdapter,M=e(69)("leancloud:qiniu"),W=e(106),Q=e(498),G=1024*1024*64,H=1024*1024*16;function J($,z,X){var q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ne=$.token,ae=$.upload_url||"https://upload.qiniup.com",ie={field:"file",data:z,name:X.attributes.name},ve={headers:X._uploadHeaders,data:{name:X.attributes.name,key:$.key,token:ne},onprogress:q.onprogress};M("url: %s, file: %o, options: %o",ae,ie,ve);var Pe=E("upload");return Pe(ae,ie,ve).then(function(fe){if(M(fe.status,fe.data),fe.ok===!1){var se=fe.status;fe.data&&(fe.data.error?se=fe.data.error:se=(0,p.default)(fe.data));var he=new Error(se);throw he.response=fe,he}return X.attributes.url=$.url,X._bucket=$.bucket,X.id=$.objectId,X},function(fe){var se=fe.response;throw se&&(M(se.status,se.data),fe.statusCode=se.status,fe.response=se.data),fe})}function K($){var z=Q(unescape(encodeURIComponent($))),X="",q=A(z),ne;try{for(q.s();!(ne=q.n()).done;){var ae=ne.value;switch(ae){case"+":X+="-";break;case"/":X+="_";break;default:X+=ae}}}catch(ie){q.e(ie)}finally{q.f()}return X}var k=function(){function $(z,X,q,ne){var ae,ie,ve=this;(0,y.default)(this,$),this.uploadInfo=z,this.data=X,this.file=q,this.size=void 0,this.offset=0,this.uploadedChunks=0;var Pe=K(z.key),fe=z.upload_url||"https://upload.qiniup.com";this.baseURL=(0,j.default)(ae=(0,j.default)(ie="".concat(fe,"/buckets/")).call(ie,z.bucket,"/objects/")).call(ae,Pe,"/uploads"),this.upToken="UpToken "+z.token,this.uploaded=0,ne&&ne.onprogress&&(this.onProgress=function(se){var he=se.loaded;he+=ve.uploadedChunks*H,!(he<=ve.uploaded)&&(ve.size?ne.onprogress({loaded:he,total:ve.size,percent:he/ve.size*100}):ne.onprogress({loaded:he}),ve.uploaded=he)})}return(0,x.default)($,[{key:"getUploadId",value:function(){return W({method:"POST",url:this.baseURL,headers:{Authorization:this.upToken}}).then(function(X){return X.uploadId})}},{key:"getChunk",value:function(){throw new Error("Not implemented")}},{key:"uploadPart",value:function(X,q,ne){var ae,ie;return W({method:"PUT",url:(0,j.default)(ae=(0,j.default)(ie="".concat(this.baseURL,"/")).call(ie,X,"/")).call(ae,q),headers:{Authorization:this.upToken},data:ne,onprogress:this.onProgress}).then(function(ve){var Pe=ve.etag;return{partNumber:q,etag:Pe}})}},{key:"stopUpload",value:function(X){var q;return W({method:"DELETE",url:(0,j.default)(q="".concat(this.baseURL,"/")).call(q,X),headers:{Authorization:this.upToken}})}},{key:"upload",value:function(){var X=this,q=[];return this.getUploadId().then(function(ne){var ae=function ie(){return T.default.resolve(X.getChunk()).then(function(ve){if(ve){var Pe=q.length+1;return X.uploadPart(ne,Pe,ve).then(function(fe){return q.push(fe),X.uploadedChunks++,ie()})}}).catch(function(ve){return X.stopUpload(ne).then(function(){return T.default.reject(ve)})})};return ae().then(function(){var ie;return W({method:"POST",url:(0,j.default)(ie="".concat(X.baseURL,"/")).call(ie,ne),headers:{Authorization:X.upToken},data:{parts:q,fname:X.file.attributes.name,mimeType:X.file.attributes.mime_type}})})}).then(function(){return X.file.attributes.url=X.uploadInfo.url,X.file._bucket=X.uploadInfo.bucket,X.file.id=X.uploadInfo.objectId,X.file})}}]),$}(),L=function($){(0,f.default)(X,$);var z=I(X);function X(q,ne,ae,ie){var ve;return(0,y.default)(this,X),ve=z.call(this,q,ne,ae,ie),ve.size=ne.size,ve}return(0,x.default)(X,[{key:"getChunk",value:function(){var ne;if(this.offset>=this.size)return null;var ae=(0,C.default)(ne=this.data).call(ne,this.offset,this.offset+H);return this.offset+=ae.size,ae}}]),X}(k);function B($){return typeof Blob<"u"&&$ instanceof Blob}i.exports=function($,z,X){var q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return B(z)&&z.size>=G?new L($,z,X,q).upload():J($,z,X,q)}},function(i,a,e){e(79),e(455);var n=e(15);i.exports=n.Array.from},function(i,a,e){var n=e(0),s=e(456),u=e(165),c=!u(function(d){Array.from(d)});n({target:"Array",stat:!0,forced:c},{from:s})},function(i,a,e){var n=e(58),s=e(11),u=e(33),c=e(457),d=e(154),v=e(98),f=e(36),h=e(103),g=e(155),y=e(94),x=Array;i.exports=function(j){var T=u(j),C=v(this),I=arguments.length,U=I>1?arguments[1]:void 0,A=U!==void 0;A&&(U=n(U,I>2?arguments[2]:void 0));var w=y(T),P=0,N,E,M,W,Q,G;if(w&&!(this===x&&d(w)))for(W=g(T,w),Q=W.next,E=C?new this:[];!(M=s(Q,W)).done;P++)G=A?c(W,U,[M.value,P],!0):M.value,h(E,P,G);else for(N=f(T),E=C?new this(N):x(N);N>P;P++)G=A?U(T[P],P):T[P],h(E,P,G);return E.length=P,E}},function(i,a,e){var n=e(21),s=e(156);i.exports=function(u,c,d,v){try{return v?c(n(d)[0],d[1]):c(d)}catch(f){s(u,"throw",f)}}},function(i,a,e){i.exports=e(459)},function(i,a,e){var n=e(460);i.exports=n},function(i,a,e){var n=e(461);i.exports=n},function(i,a,e){var n=e(462);e(63),i.exports=n},function(i,a,e){e(60),e(79);var n=e(94);i.exports=n},function(i,a,e){i.exports=e(464)},function(i,a,e){var n=e(465);i.exports=n},function(i,a,e){e(466);var n=e(15);i.exports=n.Reflect.construct},function(i,a,e){var n=e(0),s=e(18),u=e(71),c=e(239),d=e(161),v=e(21),f=e(17),h=e(59),g=e(3),y=s("Reflect","construct"),x=Object.prototype,p=[].push,j=g(function(){function I(){}return!(y(function(){},[],I)instanceof I)}),T=!g(function(){y(function(){})}),C=j||T;n({target:"Reflect",stat:!0,forced:C,sham:C},{construct:function(U,A){d(U),v(A);var w=arguments.length<3?U:d(arguments[2]);if(T&&!j)return y(U,A,w);if(U==w){switch(A.length){case 0:return new U;case 1:return new U(A[0]);case 2:return new U(A[0],A[1]);case 3:return new U(A[0],A[1],A[2]);case 4:return new U(A[0],A[1],A[2],A[3])}var P=[null];return u(p,P,A),new(u(c,U,P))}var N=w.prototype,E=h(f(N)?N:x),M=u(U,E,A);return f(M)?M:E}})},function(i,a,e){var n=e(468),s=e(143),u=e(478);function c(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=n(v&&v.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),s(d,"prototype",{writable:!1}),v&&u(d,v)}i.exports=c,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,a,e){i.exports=e(469)},function(i,a,e){i.exports=e(470)},function(i,a,e){var n=e(471);i.exports=n},function(i,a,e){var n=e(472);i.exports=n},function(i,a,e){var n=e(473);i.exports=n},function(i,a,e){e(474);var n=e(15),s=n.Object;i.exports=function(c,d){return s.create(c,d)}},function(i,a,e){var n=e(0),s=e(20),u=e(59);n({target:"Object",stat:!0,sham:!s},{create:u})},function(i,a,e){i.exports=e(476)},function(i,a,e){var n=e(477);i.exports=n},function(i,a,e){var n=e(228);i.exports=n},function(i,a,e){var n=e(240),s=e(241);function u(c,d){var v;return i.exports=u=n?s(v=n).call(v):function(h,g){return h.__proto__=g,h},i.exports.__esModule=!0,i.exports.default=i.exports,u(c,d)}i.exports=u,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,a,e){i.exports=e(480)},function(i,a,e){var n=e(481);i.exports=n},function(i,a,e){var n=e(226);i.exports=n},function(i,a,e){i.exports=e(483)},function(i,a,e){var n=e(484);i.exports=n},function(i,a,e){var n=e(485);i.exports=n},function(i,a,e){var n=e(486);i.exports=n},function(i,a,e){var n=e(12),s=e(487),u=Function.prototype;i.exports=function(c){var d=c.bind;return c===u||n(u,c)&&d===u.bind?s:d}},function(i,a,e){e(488);var n=e(26);i.exports=n("Function").bind},function(i,a,e){var n=e(0),s=e(239);n({target:"Function",proto:!0,forced:Function.bind!==s},{bind:s})},function(i,a,e){var n=e(141).default,s=e(490);function u(c,d){if(d&&(n(d)==="object"||typeof d=="function"))return d;if(d!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s(c)}i.exports=u,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,a){function e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}i.exports=e,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,a,e){var n=e(240),s=e(241),u=e(492);function c(d){var v;return i.exports=c=n?s(v=u).call(v):function(h){return h.__proto__||u(h)},i.exports.__esModule=!0,i.exports.default=i.exports,c(d)}i.exports=c,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,a,e){i.exports=e(493)},function(i,a,e){i.exports=e(494)},function(i,a,e){var n=e(495);i.exports=n},function(i,a,e){var n=e(221);i.exports=n},function(i,a){function e(n,s){if(!(n instanceof s))throw new TypeError("Cannot call a class as a function")}i.exports=e,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,a,e){var n=e(143);function s(c,d){for(var v=0;v<d.length;v++){var f=d[v];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),n(c,f.key,f)}}function u(c,d,v){return d&&s(c.prototype,d),v&&s(c,v),n(c,"prototype",{writable:!1}),c}i.exports=u,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,a,e){var n=e(1),s=n(e(38)),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.exports=function(c){for(var d="",v=0;v<c.length;){var f=c.charCodeAt(v++),h=c.charCodeAt(v++),g=c.charCodeAt(v++);if(f>255||h>255||g>255)throw new TypeError("Failed to encode base64: The string to be encoded contains characters outside of the Latin1 range.");var y=f<<16|h<<8|g;d+=u.charAt(y>>18&63)+u.charAt(y>>12&63)+u.charAt(y>>6&63)+u.charAt(y&63)}var x=c.length%3;return x?(0,s.default)(d).call(d,0,x-3)+"===".substring(x):d}},function(i,a,e){var n=e(2),s=e(106);i.exports=function(c,d,v){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return s({url:c.upload_url,method:"PUT",data:d,headers:n.extend({"Content-Type":v.get("mime_type"),"Cache-Control":"public, max-age=31536000"},v._uploadHeaders),onprogress:f.onprogress}).then(function(){return v.attributes.url=c.url,v._bucket=c.bucket,v.id=c.objectId,v})}},function(i,a,e){(function(){var n=e(501),s=e(242).utf8,u=e(502),c=e(242).bin,d=function(v,f){v.constructor==String?f&&f.encoding==="binary"?v=c.stringToBytes(v):v=s.stringToBytes(v):u(v)?v=Array.prototype.slice.call(v,0):Array.isArray(v)||(v=v.toString());for(var h=n.bytesToWords(v),g=v.length*8,y=1732584193,x=-271733879,p=-1732584194,j=271733878,T=0;T<h.length;T++)h[T]=(h[T]<<8|h[T]>>>24)&16711935|(h[T]<<24|h[T]>>>8)&4278255360;h[g>>>5]|=128<<g%32,h[(g+64>>>9<<4)+14]=g;for(var C=d._ff,I=d._gg,U=d._hh,A=d._ii,T=0;T<h.length;T+=16){var w=y,P=x,N=p,E=j;y=C(y,x,p,j,h[T+0],7,-680876936),j=C(j,y,x,p,h[T+1],12,-389564586),p=C(p,j,y,x,h[T+2],17,606105819),x=C(x,p,j,y,h[T+3],22,-1044525330),y=C(y,x,p,j,h[T+4],7,-176418897),j=C(j,y,x,p,h[T+5],12,1200080426),p=C(p,j,y,x,h[T+6],17,-1473231341),x=C(x,p,j,y,h[T+7],22,-45705983),y=C(y,x,p,j,h[T+8],7,1770035416),j=C(j,y,x,p,h[T+9],12,-1958414417),p=C(p,j,y,x,h[T+10],17,-42063),x=C(x,p,j,y,h[T+11],22,-1990404162),y=C(y,x,p,j,h[T+12],7,1804603682),j=C(j,y,x,p,h[T+13],12,-40341101),p=C(p,j,y,x,h[T+14],17,-1502002290),x=C(x,p,j,y,h[T+15],22,1236535329),y=I(y,x,p,j,h[T+1],5,-165796510),j=I(j,y,x,p,h[T+6],9,-1069501632),p=I(p,j,y,x,h[T+11],14,643717713),x=I(x,p,j,y,h[T+0],20,-373897302),y=I(y,x,p,j,h[T+5],5,-701558691),j=I(j,y,x,p,h[T+10],9,38016083),p=I(p,j,y,x,h[T+15],14,-660478335),x=I(x,p,j,y,h[T+4],20,-405537848),y=I(y,x,p,j,h[T+9],5,568446438),j=I(j,y,x,p,h[T+14],9,-1019803690),p=I(p,j,y,x,h[T+3],14,-187363961),x=I(x,p,j,y,h[T+8],20,1163531501),y=I(y,x,p,j,h[T+13],5,-1444681467),j=I(j,y,x,p,h[T+2],9,-51403784),p=I(p,j,y,x,h[T+7],14,1735328473),x=I(x,p,j,y,h[T+12],20,-1926607734),y=U(y,x,p,j,h[T+5],4,-378558),j=U(j,y,x,p,h[T+8],11,-2022574463),p=U(p,j,y,x,h[T+11],16,1839030562),x=U(x,p,j,y,h[T+14],23,-35309556),y=U(y,x,p,j,h[T+1],4,-1530992060),j=U(j,y,x,p,h[T+4],11,1272893353),p=U(p,j,y,x,h[T+7],16,-155497632),x=U(x,p,j,y,h[T+10],23,-1094730640),y=U(y,x,p,j,h[T+13],4,681279174),j=U(j,y,x,p,h[T+0],11,-358537222),p=U(p,j,y,x,h[T+3],16,-722521979),x=U(x,p,j,y,h[T+6],23,76029189),y=U(y,x,p,j,h[T+9],4,-640364487),j=U(j,y,x,p,h[T+12],11,-421815835),p=U(p,j,y,x,h[T+15],16,530742520),x=U(x,p,j,y,h[T+2],23,-995338651),y=A(y,x,p,j,h[T+0],6,-198630844),j=A(j,y,x,p,h[T+7],10,1126891415),p=A(p,j,y,x,h[T+14],15,-1416354905),x=A(x,p,j,y,h[T+5],21,-57434055),y=A(y,x,p,j,h[T+12],6,1700485571),j=A(j,y,x,p,h[T+3],10,-1894986606),p=A(p,j,y,x,h[T+10],15,-1051523),x=A(x,p,j,y,h[T+1],21,-2054922799),y=A(y,x,p,j,h[T+8],6,1873313359),j=A(j,y,x,p,h[T+15],10,-30611744),p=A(p,j,y,x,h[T+6],15,-1560198380),x=A(x,p,j,y,h[T+13],21,1309151649),y=A(y,x,p,j,h[T+4],6,-145523070),j=A(j,y,x,p,h[T+11],10,-1120210379),p=A(p,j,y,x,h[T+2],15,718787259),x=A(x,p,j,y,h[T+9],21,-343485551),y=y+w>>>0,x=x+P>>>0,p=p+N>>>0,j=j+E>>>0}return n.endian([y,x,p,j])};d._ff=function(v,f,h,g,y,x,p){var j=v+(f&h|~f&g)+(y>>>0)+p;return(j<<x|j>>>32-x)+f},d._gg=function(v,f,h,g,y,x,p){var j=v+(f&g|h&~g)+(y>>>0)+p;return(j<<x|j>>>32-x)+f},d._hh=function(v,f,h,g,y,x,p){var j=v+(f^h^g)+(y>>>0)+p;return(j<<x|j>>>32-x)+f},d._ii=function(v,f,h,g,y,x,p){var j=v+(h^(f|~g))+(y>>>0)+p;return(j<<x|j>>>32-x)+f},d._blocksize=16,d._digestsize=16,i.exports=function(v,f){if(v==null)throw new Error("Illegal argument "+v);var h=n.wordsToBytes(d(v,f));return f&&f.asBytes?h:f&&f.asString?c.bytesToString(h):n.bytesToHex(h)}})()},function(i,a){(function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(s,u){return s<<u|s>>>32-u},rotr:function(s,u){return s<<32-u|s>>>u},endian:function(s){if(s.constructor==Number)return n.rotl(s,8)&16711935|n.rotl(s,24)&4278255360;for(var u=0;u<s.length;u++)s[u]=n.endian(s[u]);return s},randomBytes:function(s){for(var u=[];s>0;s--)u.push(Math.floor(Math.random()*256));return u},bytesToWords:function(s){for(var u=[],c=0,d=0;c<s.length;c++,d+=8)u[d>>>5]|=s[c]<<24-d%32;return u},wordsToBytes:function(s){for(var u=[],c=0;c<s.length*32;c+=8)u.push(s[c>>>5]>>>24-c%32&255);return u},bytesToHex:function(s){for(var u=[],c=0;c<s.length;c++)u.push((s[c]>>>4).toString(16)),u.push((s[c]&15).toString(16));return u.join("")},hexToBytes:function(s){for(var u=[],c=0;c<s.length;c+=2)u.push(parseInt(s.substr(c,2),16));return u},bytesToBase64:function(s){for(var u=[],c=0;c<s.length;c+=3)for(var d=s[c]<<16|s[c+1]<<8|s[c+2],v=0;v<4;v++)c*8+v*6<=s.length*8?u.push(e.charAt(d>>>6*(3-v)&63)):u.push("=");return u.join("")},base64ToBytes:function(s){s=s.replace(/[^A-Z0-9+\/]/ig,"");for(var u=[],c=0,d=0;c<s.length;d=++c%4)d!=0&&u.push((e.indexOf(s.charAt(c-1))&Math.pow(2,-2*d+8)-1)<<d*2|e.indexOf(s.charAt(c))>>>6-d*2);return u}};i.exports=n})()},function(i,a){/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */i.exports=function(s){return s!=null&&(e(s)||n(s)||!!s._isBuffer)};function e(s){return!!s.constructor&&typeof s.constructor.isBuffer=="function"&&s.constructor.isBuffer(s)}function n(s){return typeof s.readFloatLE=="function"&&typeof s.slice=="function"&&e(s.slice(0,0))}},function(i,a,e){var n=e(1),s=n(e(68)),u=function(d,v){var f,h;(0,s.default)(d).call(d,"base64")<0?h=atob(d):(0,s.default)(f=d.split(",")[0]).call(f,"base64")>=0?(v=v||d.split(",")[0].split(":")[1].split(";")[0],h=atob(d.split(",")[1])):h=unescape(d.split(",")[1]);for(var g=new Uint8Array(h.length),y=0;y<h.length;y++)g[y]=h.charCodeAt(y);return new Blob([g],{type:v})};i.exports=u},function(i,a,e){var n=e(1),s=n(e(505)),u=n(e(42)),c=n(e(68)),d=n(e(107)),v=n(e(10)),f=n(e(25)),h=n(e(53)),g=n(e(37)),y=n(e(140)),x=n(e(526)),p=e(2),j=e(43),T=e(27),C=T._request,I=e(31),U=I.isNullOrUndefined,A=I.ensureArray,w=I.transformFetchOptions,P=I.setValue,N=I.findValue,E=I.isPlainObject,M=I.continueWhile,W=function K(k){return p.isArray(k)?(0,u.default)(k).call(k,K):E(k)?p.mapObject(k,K):p.isObject(k)&&k._toPointer?k._toPointer():k},Q=["objectId","createdAt","updatedAt"],G=function(k){if((0,c.default)(Q).call(Q,k)!==-1)throw new Error("key[".concat(k,"] is reserved"))},H=function(k){var L=(0,d.default)(p).call(p,k,function($){return $ instanceof Error});if(!L)return k;var B=new j(L.code,L.message);throw B.results=k,B};function J(K,k){return K&&K[k]?p.isFunction(K[k])?K[k]():K[k]:null}i.exports=function(K){K.Object=function(k,L){if(p.isString(k))return K.Object._create.apply(this,arguments);k=k||{},L&&L.parse&&(k=this.parse(k),k=this._mergeMagicFields(k));var B=J(this,"defaults");B&&(k=p.extend({},B,k)),L&&L.collection&&(this.collection=L.collection),this._serverData={},this._opSetQueue=[{}],this._flags={},this.attributes={},this._hashedJSON={},this._escapedAttributes={},this.cid=p.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(k,{silent:!0}),this.changed={},this._silent={},this._pending={},this._hasData=!0,this._previousAttributes=p.clone(this.attributes),this.initialize.apply(this,arguments)},K.Object.saveAll=function(k,L){return K.Object._deepSaveAsync(k,null,L)},K.Object.fetchAll=function(k,L){return v.default.resolve().then(function(){return C("batch",null,null,"POST",{requests:(0,u.default)(p).call(p,k,function(B){var $;if(!B.className)throw new Error("object must have className to fetch");if(!B.id)throw new Error("object must have id to fetch");if(B.dirty())throw new Error("object is modified but not saved");return{method:"GET",path:(0,f.default)($="/1.1/classes/".concat(B.className,"/")).call($,B.id)}})},L)}).then(function(B){var $=(0,u.default)(p).call(p,k,function(z,X){if(B[X].success){var q=z.parse(B[X].success);return z._cleanupUnsetKeys(q),z._finishFetch(q),z}return B[X].success===null?new j(j.OBJECT_NOT_FOUND,"Object not found."):new j(B[X].error.code,B[X].error.error)});return H($)})},p.extend(K.Object.prototype,K.Events,{_fetchWhenSave:!1,initialize:function(){},fetchWhenSave:function(L){if(console.warn("AV.Object#fetchWhenSave is deprecated, use AV.Object#save with options.fetchWhenSave instead."),!p.isBoolean(L))throw new Error("Expect boolean value for fetchWhenSave");this._fetchWhenSave=L},getObjectId:function(){return this.id},getCreatedAt:function(){return this.createdAt},getUpdatedAt:function(){return this.updatedAt},toJSON:function(L,B){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return this._toFullJSON($,!1)},toFullJSON:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return this._toFullJSON(L)},_toFullJSON:function(L){var B=this,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,z=p.clone(this.attributes);if(p.isArray(L))var X=(0,f.default)(L).call(L,this);return K._objectEach(z,function(q,ne){z[ne]=K._encode(q,X,void 0,$)}),K._objectEach(this._operations,function(q,ne){z[ne]=q}),p.has(this,"id")&&(z.objectId=this.id),["createdAt","updatedAt"].forEach(function(q){if(p.has(B,q)){var ne=B[q];z[q]=p.isDate(ne)?ne.toJSON():ne}}),$&&(z.__type="Object",p.isArray(L)&&L.length&&(z.__type="Pointer"),z.className=this.className),z},_refreshCache:function(){var L=this;L._refreshingCache||(L._refreshingCache=!0,K._objectEach(this.attributes,function(B,$){B instanceof K.Object?B._refreshCache():p.isObject(B)&&L._resetCacheForKey($)&&L.set($,new K.Op.Set(B),{silent:!0})}),delete L._refreshingCache)},dirty:function(L){this._refreshCache();var B=p.last(this._opSetQueue);return L?!!B[L]:!this.id||(0,h.default)(p).call(p,B).length>0},dirtyKeys:function(){this._refreshCache();var L=p.last(this._opSetQueue);return(0,h.default)(p).call(p,L)},_toPointer:function(){return{__type:"Pointer",className:this.className,objectId:this.id}},get:function(L){switch(L){case"objectId":return this.id;case"createdAt":case"updatedAt":return this[L];default:return this.attributes[L]}},relation:function(L){var B=this.get(L);if(B){if(!(B instanceof K.Relation))throw new Error("Called relation() on non-relation field "+L);return B._ensureParentAndKey(this,L),B}else return new K.Relation(this,L)},escape:function(L){var B=this._escapedAttributes[L];if(B)return B;var $=this.attributes[L],z;return U($)?z="":z=p.escape($.toString()),this._escapedAttributes[L]=z,z},has:function(L){return!U(this.attributes[L])},_mergeMagicFields:function(L){var B=this,$=["objectId","createdAt","updatedAt"];return K._arrayEach($,function(z){L[z]&&(z==="objectId"?B.id=L[z]:(z==="createdAt"||z==="updatedAt")&&!p.isDate(L[z])?B[z]=K._parseDate(L[z]):B[z]=L[z],delete L[z])}),L},_startSave:function(){this._opSetQueue.push({})},_cancelSave:function(){var L=p.first(this._opSetQueue);this._opSetQueue=p.rest(this._opSetQueue);var B=p.first(this._opSetQueue);K._objectEach(L,function($,z){var X=L[z],q=B[z];X&&q?B[z]=q._mergeWithPrevious(X):X&&(B[z]=X)}),this._saving=this._saving-1},_finishSave:function(L){var B,$={};K._traverse(this.attributes,function(ne){ne instanceof K.Object&&ne.id&&ne._hasData&&($[ne.id]=ne)});var z=p.first(this._opSetQueue);this._opSetQueue=p.rest(this._opSetQueue),this._applyOpSet(z,this._serverData),this._mergeMagicFields(L);var X=this;K._objectEach(L,function(ne,ae){X._serverData[ae]=K._decode(ne,ae);var ie=K._traverse(X._serverData[ae],function(ve){if(ve instanceof K.Object&&$[ve.id])return $[ve.id]});ie&&(X._serverData[ae]=ie)}),this._rebuildAllEstimatedData();var q=(0,u.default)(B=this._opSetQueue).call(B,p.clone);this._refreshCache(),this._opSetQueue=q,this._saving=this._saving-1},_finishFetch:function(L,B){this._opSetQueue=[{}],this._mergeMagicFields(L);var $=this;K._objectEach(L,function(z,X){$._serverData[X]=K._decode(z,X)}),this._rebuildAllEstimatedData(),this._refreshCache(),this._opSetQueue=[{}],this._hasData=B},_applyOpSet:function(L,B){var $=this;K._objectEach(L,function(z,X){var q=N(B,X),ne=(0,s.default)(q,3),ae=ne[0],ie=ne[1],ve=ne[2];P(B,X,z._estimate(ae,$,X)),ie&&ie[ve]===K.Op._UNSET&&delete ie[ve]})},_resetCacheForKey:function(L){var B=this.attributes[L];if(p.isObject(B)&&!(B instanceof K.Object)&&!(B instanceof K.File)){var $=(0,g.default)(W(B));if(this._hashedJSON[L]!==$){var z=!!this._hashedJSON[L];return this._hashedJSON[L]=$,z}}return!1},_rebuildEstimatedDataForKey:function(L){var B=this;delete this.attributes[L],this._serverData[L]&&(this.attributes[L]=this._serverData[L]),K._arrayEach(this._opSetQueue,function($){var z=$[L];if(z){var X=N(B.attributes,L),q=(0,s.default)(X,4),ne=q[0],ae=q[1],ie=q[2],ve=q[3];P(B.attributes,L,z._estimate(ne,B,L)),ae&&ae[ie]===K.Op._UNSET&&delete ae[ie],B._resetCacheForKey(ve)}})},_rebuildAllEstimatedData:function(){var L=this,B=p.clone(this.attributes);this.attributes=p.clone(this._serverData),K._arrayEach(this._opSetQueue,function($){L._applyOpSet($,L.attributes),K._objectEach($,function(z,X){L._resetCacheForKey(X)})}),K._objectEach(B,function($,z){L.attributes[z]!==$&&L.trigger("change:"+z,L,L.attributes[z],{})}),K._objectEach(this.attributes,function($,z){p.has(B,z)||L.trigger("change:"+z,L,$,{})})},set:function(L,B,$){var z;if(p.isObject(L)||U(L)?(z=p.mapObject(L,function(ae,ie){return G(ie),K._decode(ae,ie)}),$=B):(z={},G(L),z[L]=K._decode(B,L)),$=$||{},!z)return this;z instanceof K.Object&&(z=z.attributes),$.unset&&K._objectEach(z,function(ae,ie){z[ie]=new K.Op.Unset});var X=p.clone(z),q=this;K._objectEach(X,function(ae,ie){ae instanceof K.Op&&(X[ie]=ae._estimate(q.attributes[ie],q,ie),X[ie]===K.Op._UNSET&&delete X[ie])}),this._validate(z,$),$.changes={};var ne=this._escapedAttributes;return K._arrayEach((0,h.default)(p).call(p,z),function(ae){var ie=z[ae];ie instanceof K.Relation&&(ie.parent=q),ie instanceof K.Op||(ie=new K.Op.Set(ie));var ve=!0;ie instanceof K.Op.Set&&p.isEqual(q.attributes[ae],ie.value)&&(ve=!1),ve&&(delete ne[ae],$.silent?q._silent[ae]=!0:$.changes[ae]=!0);var Pe=p.last(q._opSetQueue);Pe[ae]=ie._mergeWithPrevious(Pe[ae]),q._rebuildEstimatedDataForKey(ae),ve?(q.changed[ae]=q.attributes[ae],$.silent||(q._pending[ae]=!0)):(delete q.changed[ae],delete q._pending[ae])}),$.silent||this.change($),this},unset:function(L,B){return B=B||{},B.unset=!0,this.set(L,null,B)},increment:function(L,B){return(p.isUndefined(B)||p.isNull(B))&&(B=1),this.set(L,new K.Op.Increment(B))},add:function(L,B){return this.set(L,new K.Op.Add(A(B)))},addUnique:function(L,B){return this.set(L,new K.Op.AddUnique(A(B)))},remove:function(L,B){return this.set(L,new K.Op.Remove(A(B)))},bitAnd:function(L,B){return this.set(L,new K.Op.BitAnd(B))},bitOr:function(L,B){return this.set(L,new K.Op.BitOr(B))},bitXor:function(L,B){return this.set(L,new K.Op.BitXor(B))},op:function(L){return p.last(this._opSetQueue)[L]},clear:function(L){L=L||{},L.unset=!0;var B=p.extend(this.attributes,this._operations);return this.set(B,L)},revert:function(L){var B=p.last(this._opSetQueue),$=A(L||(0,h.default)(p).call(p,B));return $.forEach(function(z){delete B[z]}),this._rebuildAllEstimatedData(),this},_getSaveJSON:function(){var L=p.clone(p.first(this._opSetQueue));return K._objectEach(L,function(B,$){L[$]=B.toJSON()}),L},_canBeSerialized:function(){return K.Object._canBeSerializedAsValue(this.attributes)},fetch:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},B=arguments.length>1?arguments[1]:void 0;if(!this.id)throw new Error("Cannot fetch unsaved object");var $=this,z=C("classes",this.className,this.id,"GET",w(L),B);return z.then(function(X){var q=$.parse(X);return $._cleanupUnsetKeys(q,(0,h.default)(L)?A((0,h.default)(L)).join(",").split(","):void 0),$._finishFetch(q,!0),$})},_cleanupUnsetKeys:function(L){var B=this,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(0,h.default)(p).call(p,this._serverData);p.forEach($,function(z){L[z]===void 0&&delete B._serverData[z]})},save:function(L,B,$){var z,X,q;p.isObject(L)||U(L)?(z=L,q=B):(z={},z[L]=B,q=$),q=p.clone(q)||{},q.wait&&(X=p.clone(this.attributes));var ne=p.clone(q)||{};ne.wait&&(ne.silent=!0),z&&this.set(z,ne);var ae=this,ie=[],ve=[];return K.Object._findUnsavedChildren(ae,ie,ve),ie.length+ve.length>1?K.Object._deepSaveAsync(this,ae,q):(this._startSave(),this._saving=(this._saving||0)+1,this._allPreviousSaves=this._allPreviousSaves||v.default.resolve(),this._allPreviousSaves=this._allPreviousSaves.catch(function(Pe){}).then(function(){var Pe=ae.id?"PUT":"POST",fe=ae._getSaveJSON(),se={};if((ae._fetchWhenSave||q.fetchWhenSave)&&(se.new="true"),q._failOnNotExist&&(se.failOnNotExist="true"),q.query){var he;if(typeof q.query._getParams=="function"&&(he=q.query._getParams(),he&&(se.where=he.where)),!se.where){var oe=new Error("options.query is not an AV.Query");throw oe}}p.extend(fe,ae._flags);var ge="classes",Ee=ae.className;ae.className==="_User"&&!ae.id&&(ge="users",Ee=null);var Ue=q._makeRequest||C,Ye=Ue(ge,Ee,ae.id,Pe,fe,q,se);return Ye=Ye.then(function(Qe){var et=ae.parse(Qe);return q.wait&&(et=p.extend(z||{},et)),ae._finishSave(et),q.wait&&ae.set(X,ne),ae},function(Qe){throw ae._cancelSave(),Qe}),Ye}),this._allPreviousSaves)},destroy:function(L){L=L||{};var B=this,$=function(){B.trigger("destroy",B,B.collection,L)};if(!this.id)return $();L.wait||$();var z=C("classes",this.className,this.id,"DELETE",this._flags,L);return z.then(function(){return L.wait&&$(),B})},parse:function(L){var B=p.clone(L);return["createdAt","updatedAt"].forEach(function($){B[$]&&(B[$]=K._parseDate(B[$]))}),B.createdAt&&!B.updatedAt&&(B.updatedAt=B.createdAt),B},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.id},change:function(L){L=L||{};var B=this._changing;this._changing=!0;var $=this;K._objectEach(this._silent,function(q){$._pending[q]=!0});var z=p.extend({},L.changes,this._silent);if(this._silent={},K._objectEach(z,function(q,ne){$.trigger("change:"+ne,$,$.get(ne),L)}),B)return this;for(var X=function(ne,ae){!$._pending[ae]&&!$._silent[ae]&&delete $.changed[ae]};!p.isEmpty(this._pending);)this._pending={},this.trigger("change",this,L),K._objectEach(this.changed,X),$._previousAttributes=p.clone(this.attributes);return this._changing=!1,this},previous:function(L){return!arguments.length||!this._previousAttributes?null:this._previousAttributes[L]},previousAttributes:function(){return p.clone(this._previousAttributes)},isValid:function(){try{this.validate(this.attributes)}catch{return!1}return!0},validate:function(L){if(p.has(L,"ACL")&&!(L.ACL instanceof K.ACL))throw new j(j.OTHER_CAUSE,"ACL must be a AV.ACL.")},_validate:function(L,B){B.silent||!this.validate||(L=p.extend({},this.attributes,L),this.validate(L))},getACL:function(){return this.get("ACL")},setACL:function(L,B){return this.set("ACL",L,B)},disableBeforeHook:function(){this.ignoreHook("beforeSave"),this.ignoreHook("beforeUpdate"),this.ignoreHook("beforeDelete")},disableAfterHook:function(){this.ignoreHook("afterSave"),this.ignoreHook("afterUpdate"),this.ignoreHook("afterDelete")},ignoreHook:function(L){if(!p.contains(["beforeSave","afterSave","beforeUpdate","afterUpdate","beforeDelete","afterDelete"],L))throw new Error("Unsupported hookName: "+L);if(!K.hookKey)throw new Error("ignoreHook required hookKey");this._flags.__ignore_hooks||(this._flags.__ignore_hooks=[]),this._flags.__ignore_hooks.push(L)}}),K.Object.createWithoutData=function(k,L,B){var $;if(p.isString(k))$=K.Object._getSubclass(k);else if(k.prototype&&k.prototype instanceof K.Object)$=k;else throw new Error("class must be a string or a subclass of AV.Object.");if(!L)throw new TypeError("The objectId must be provided");var z=new $;return z.id=L,z._hasData=B,z},K.Object.destroyAll=function(k){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!k||k.length===0)return v.default.resolve();var B=p.groupBy(k,function(z){return(0,g.default)({className:z.className,flags:z._flags})}),$={requests:(0,u.default)(p).call(p,B,function(z){var X,q=(0,u.default)(p).call(p,z,"id").join(",");return{method:"DELETE",path:(0,f.default)(X="/1.1/classes/".concat(z[0].className,"/")).call(X,q),body:z[0]._flags}})};return C("batch",null,null,"POST",$,L).then(function(z){var X=(0,d.default)(p).call(p,z,function(q){return!q.success});if(X)throw new j(X.error.code,X.error.error)})},K.Object._getSubclass=function(k){if(!p.isString(k))throw new Error("AV.Object._getSubclass requires a string argument.");var L=K.Object._classMap[k];return L||(L=K.Object.extend(k),K.Object._classMap[k]=L),L},K.Object._create=function(k,L,B){var $=K.Object._getSubclass(k);return new $(L,B)},K.Object._classMap={},K.Object._extend=K._extend,K.Object.new=function(k,L){return new K.Object(k,L)},K.Object.extend=function(k,L,B){if(!p.isString(k)){if(k&&p.has(k,"className"))return K.Object.extend(k.className,k,L);throw new Error("AV.Object.extend's first argument should be the className.")}k==="User"&&(k="_User");var $=null;if(p.has(K.Object._classMap,k)){var z=K.Object._classMap[k];if(L||B)$=z._extend(L,B);else return z}else L=L||{},L._className=k,$=this._extend(L,B);return $.extend=function(X){var q;if(p.isString(X)||X&&p.has(X,"className"))return K.Object.extend.apply($,arguments);var ne=(0,f.default)(q=[k]).call(q,p.toArray(arguments));return K.Object.extend.apply($,ne)},(0,y.default)($,"query",(0,x.default)(K.Object,"query")),$.new=function(X,q){return new $(X,q)},K.Object._classMap[k]=$,$},(0,y.default)(K.Object.prototype,"className",{get:function(){var L=this._className||this.constructor._LCClassName||this.constructor.name;return L==="User"?"_User":L}}),K.Object.register=function(k,L){if(!(k.prototype instanceof K.Object))throw new Error("registered class is not a subclass of AV.Object");var B=L||k.name;if(!B.length)throw new Error("registered class must be named");L&&(k._LCClassName=L),K.Object._classMap[B]=k},(0,y.default)(K.Object,"query",{get:function(){return new K.Query(this.prototype.className)}}),K.Object._findUnsavedChildren=function(k,L,B){K._traverse(k,function($){if($ instanceof K.Object){$.dirty()&&L.push($);return}if($ instanceof K.File){$.id||B.push($);return}})},K.Object._canBeSerializedAsValue=function(k){var L=!0;return k instanceof K.Object||k instanceof K.File?L=!!k.id:p.isArray(k)?K._arrayEach(k,function(B){K.Object._canBeSerializedAsValue(B)||(L=!1)}):p.isObject(k)&&K._objectEach(k,function(B){K.Object._canBeSerializedAsValue(B)||(L=!1)}),L},K.Object._deepSaveAsync=function(k,L,B){var $=[],z=[];K.Object._findUnsavedChildren(k,$,z),z=p.uniq(z);var X=v.default.resolve();p.each(z,function(ae){X=X.then(function(){return ae.save()})});var q=p.uniq($),ne=p.uniq(q);return X.then(function(){return M(function(){return ne.length>0},function(){var ae=[],ie=[];if(K._arrayEach(ne,function(fe){fe._canBeSerialized()?ae.push(fe):ie.push(fe)}),ne=ie,ae.length===0)return v.default.reject(new j(j.OTHER_CAUSE,"Tried to save a batch with a cycle."));var ve=v.default.resolve((0,u.default)(p).call(p,ae,function(fe){return fe._allPreviousSaves||v.default.resolve()})),Pe=ve.then(function(){return C("batch",null,null,"POST",{requests:(0,u.default)(p).call(p,ae,function(fe){var se=fe.id?"PUT":"POST",he=fe._getSaveJSON();p.extend(he,fe._flags);var oe="classes",ge=fe.className,Ee="/".concat(oe,"/").concat(ge);fe.className==="_User"&&!fe.id&&(Ee="/users");var Ee="/1.1".concat(Ee);return fe.id&&(Ee=Ee+"/"+fe.id),fe._startSave(),{method:se,path:Ee,body:he,params:B&&B.fetchWhenSave?{fetchWhenSave:!0}:void 0}})},B).then(function(fe){var se=(0,u.default)(p).call(p,ae,function(he,oe){return fe[oe].success?(he._finishSave(he.parse(fe[oe].success)),he):(he._cancelSave(),new j(fe[oe].error.code,fe[oe].error.error))});return H(se)})});return K._arrayEach(ae,function(fe){fe._allPreviousSaves=Pe}),Pe})}).then(function(){return k})}}},function(i,a,e){var n=e(506),s=e(514),u=e(515),c=e(525);function d(v,f){return n(v)||s(v,f)||u(v,f)||c()}i.exports=d,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,a,e){var n=e(507);function s(u){if(n(u))return u}i.exports=s,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,a,e){i.exports=e(508)},function(i,a,e){i.exports=e(509)},function(i,a,e){var n=e(510);i.exports=n},function(i,a,e){var n=e(511);i.exports=n},function(i,a,e){var n=e(512);i.exports=n},function(i,a,e){e(513);var n=e(15);i.exports=n.Array.isArray},function(i,a,e){var n=e(0),s=e(86);n({target:"Array",stat:!0},{isArray:s})},function(i,a,e){var n=e(229),s=e(238);function u(c,d){var v=c==null?null:typeof n<"u"&&s(c)||c["@@iterator"];if(v!=null){var f=[],h=!0,g=!1,y,x;try{for(v=v.call(c);!(h=(y=v.next()).done)&&(f.push(y.value),!(d&&f.length===d));h=!0);}catch(p){g=!0,x=p}finally{try{!h&&v.return!=null&&v.return()}finally{if(g)throw x}}return f}}i.exports=u,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,a,e){var n=e(516),s=e(520),u=e(524);function c(d,v){var f;if(d){if(typeof d=="string")return u(d,v);var h=n(f=Object.prototype.toString.call(d)).call(f,8,-1);if(h==="Object"&&d.constructor&&(h=d.constructor.name),h==="Map"||h==="Set")return s(d);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return u(d,v)}}i.exports=c,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,a,e){i.exports=e(517)},function(i,a,e){i.exports=e(518)},function(i,a,e){var n=e(519);i.exports=n},function(i,a,e){var n=e(227);i.exports=n},function(i,a,e){i.exports=e(521)},function(i,a,e){i.exports=e(522)},function(i,a,e){var n=e(523);i.exports=n},function(i,a,e){var n=e(237);i.exports=n},function(i,a){function e(n,s){(s==null||s>n.length)&&(s=n.length);for(var u=0,c=new Array(s);u<s;u++)c[u]=n[u];return c}i.exports=e,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,a){function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}i.exports=e,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,a,e){i.exports=e(527)},function(i,a,e){var n=e(528);i.exports=n},function(i,a,e){e(529);var n=e(15),s=n.Object,u=i.exports=function(d,v){return s.getOwnPropertyDescriptor(d,v)};s.getOwnPropertyDescriptor.sham&&(u.sham=!0)},function(i,a,e){var n=e(0),s=e(3),u=e(35),c=e(73).f,d=e(20),v=s(function(){c(1)}),f=!d||v;n({target:"Object",stat:!0,forced:f,sham:!d},{getOwnPropertyDescriptor:function(g,y){return c(u(g),y)}})},function(i,a,e){var n=e(2),s=e(43);i.exports=function(u){u.Role=u.Object.extend("_Role",{constructor:function(d,v){if(n.isString(d)?(u.Object.prototype.constructor.call(this,null,null),this.setName(d)):u.Object.prototype.constructor.call(this,d,v),v)if(v instanceof u.ACL)this.setACL(v);else throw new TypeError("acl must be an instance of AV.ACL")},getName:function(){return this.get("name")},setName:function(d,v){return this.set("name",d,v)},getUsers:function(){return this.relation("users")},getRoles:function(){return this.relation("roles")},validate:function(d,v){if("name"in d&&d.name!==this.getName()){var f=d.name;if(this.id&&this.id!==d.objectId)return new s(s.OTHER_CAUSE,"A role's name can only be set before it has been saved.");if(!n.isString(f))return new s(s.OTHER_CAUSE,"A role's name must be a String.");if(!/^[0-9a-zA-Z\-_ ]+$/.test(f))return new s(s.OTHER_CAUSE,"A role's name can only contain alphanumeric characters, _, -, and spaces.")}return u.Object.prototype.validate?u.Object.prototype.validate.call(this,d,v):!1}})}},function(i,a,e){var n=e(1),s=n(e(532)),u=n(e(10)),c=n(e(42)),d=n(e(107)),v=n(e(37)),f=e(2),h=e(219),g=e(43),y=e(27),x=y._request,p=y.request,j=e(70),T=j.getAdapter,C="anonymous",I="lc_qqapp",U=function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"weixin";return function(P,N){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},M=E.unionIdPlatform,W=M===void 0?w:M,Q=E.asMainAccount,G=Q===void 0?!1:Q;if(typeof N!="string")throw new g(g.OTHER_CAUSE,"unionId is not a string");if(typeof W!="string")throw new g(g.OTHER_CAUSE,"unionIdPlatform is not a string");return f.extend({},P,{platform:W,unionid:N,main_account:!!G})}};i.exports=function(A){A.User=A.Object.extend("_User",{_isCurrentUser:!1,_mergeMagicFields:function(P){return P.sessionToken&&(this._sessionToken=P.sessionToken,delete P.sessionToken),A.User.__super__._mergeMagicFields.call(this,P)},_cleanupAuthData:function(){if(this.isCurrent()){var P=this.get("authData");P&&A._objectEach(this.get("authData"),function(N,E){P[E]||delete P[E]})}},_synchronizeAllAuthData:function(){var P=this.get("authData");if(P){var N=this;A._objectEach(this.get("authData"),function(E,M){N._synchronizeAuthData(M)})}},_synchronizeAuthData:function(P){if(this.isCurrent()){var N;f.isString(P)?(N=P,P=A.User._authProviders[N]):N=P.getAuthType();var E=this.get("authData");if(!(!E||!P)){var M=P.restoreAuthentication(E[N]);M||this.dissociateAuthData(P)}}},_handleSaveResult:function(P){return P&&!A._config.disableCurrentUser&&(this._isCurrentUser=!0),this._cleanupAuthData(),this._synchronizeAllAuthData(),delete this._serverData.password,this._rebuildEstimatedDataForKey("password"),this._refreshCache(),(P||this.isCurrent())&&!A._config.disableCurrentUser?u.default.resolve(A.User._saveCurrentUser(this)):u.default.resolve()},_linkWith:function(P,N){var E=this,M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},W=M.failOnNotExist,Q=W===void 0?!1:W,G=M.useMasterKey,H=M.sessionToken,J=M.user,K;return f.isString(P)?(K=P,P=A.User._authProviders[P]):K=P.getAuthType(),N?this.save({authData:(0,s.default)({},K,N)},{useMasterKey:G,sessionToken:H,user:J,fetchWhenSave:!!this.get("authData"),_failOnNotExist:Q}).then(function(k){return k._handleSaveResult(!0).then(function(){return k})}):P.authenticate().then(function(k){return E._linkWith(P,k)})},associateWithAuthData:function(P,N){return this._linkWith(N,P)},associateWithAuthDataAndUnionId:function(P,N,E,M){return this._linkWith(N,U()(P,E,M))},associateWithMiniApp:function(P,N){var E=this;if(P===void 0){var M=T("getAuthInfo");return M().then(function(W){return E._linkWith(W.provider,W.authData,N)})}return this._linkWith(P.provider,P.authData,N)},associateWithQQApp:function(){var P=this,N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=N.preferUnionId,M=E===void 0?!1:E,W=N.unionIdPlatform,Q=W===void 0?"qq":W,G=N.asMainAccount,H=G===void 0?!0:G,J=T("getAuthInfo");return J({preferUnionId:M,asMainAccount:H,platform:Q}).then(function(K){return K.provider=I,P.associateWithMiniApp(K)})},associateWithWeapp:function(){var P=this,N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=N.preferUnionId,M=E===void 0?!1:E,W=N.unionIdPlatform,Q=W===void 0?"weixin":W,G=N.asMainAccount,H=G===void 0?!0:G,J=T("getAuthInfo");return J({preferUnionId:M,asMainAccount:H,platform:Q}).then(function(K){return P.associateWithMiniApp(K)})},linkWithWeapp:function(P){return console.warn("DEPRECATED: User#linkWithWeapp 已废弃，请使用 User#associateWithWeapp 代替"),this.associateWithWeapp(P)},associateWithQQAppWithUnionId:function(P){var N=this,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M=E.unionIdPlatform,W=M===void 0?"qq":M,Q=E.asMainAccount,G=Q===void 0?!1:Q,H=T("getAuthInfo");return H({platform:W}).then(function(J){return J=A.User.mergeUnionId(J,P,{asMainAccount:G}),J.provider=I,N.associateWithMiniApp(J)})},associateWithWeappWithUnionId:function(P){var N=this,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M=E.unionIdPlatform,W=M===void 0?"weixin":M,Q=E.asMainAccount,G=Q===void 0?!1:Q,H=T("getAuthInfo");return H({platform:W}).then(function(J){return J=A.User.mergeUnionId(J,P,{asMainAccount:G}),N.associateWithMiniApp(J)})},dissociateAuthData:function(P){return this.unset("authData.".concat(P)),this.save().then(function(N){return N._handleSaveResult(!0).then(function(){return N})})},_unlinkFrom:function(P){return console.warn("DEPRECATED: User#_unlinkFrom 已废弃，请使用 User#dissociateAuthData 代替"),this.dissociateAuthData(P)},_isLinked:function(P){var N;f.isString(P)?N=P:N=P.getAuthType();var E=this.get("authData")||{};return!!E[N]},isAnonymous:function(){return this._isLinked(C)},logOut:function(){this._logOutWithAll(),this._isCurrentUser=!1},_logOutWithAll:function(){var P=this.get("authData");if(P){var N=this;A._objectEach(this.get("authData"),function(E,M){N._logOutWith(M)})}},_logOutWith:function(P){this.isCurrent()&&(f.isString(P)&&(P=A.User._authProviders[P]),P&&P.deauthenticate&&P.deauthenticate())},signUp:function(P,N){var E,M=P&&P.username||this.get("username");if(!M||M==="")throw E=new g(g.OTHER_CAUSE,"Cannot sign up user with an empty name."),E;var W=P&&P.password||this.get("password");if(!W||W==="")throw E=new g(g.OTHER_CAUSE,"Cannot sign up user with an empty password."),E;return this.save(P,N).then(function(Q){return Q.isAnonymous()&&(Q.unset("authData.".concat(C)),Q._opSetQueue=[{}]),Q._handleSaveResult(!0).then(function(){return Q})})},signUpOrlogInWithMobilePhone:function(P){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E,M=P&&P.mobilePhoneNumber||this.get("mobilePhoneNumber");if(!M||M==="")throw E=new g(g.OTHER_CAUSE,"Cannot sign up or login user by mobilePhoneNumber with an empty mobilePhoneNumber."),E;var W=P&&P.smsCode||this.get("smsCode");if(!W||W==="")throw E=new g(g.OTHER_CAUSE,"Cannot sign up or login user by mobilePhoneNumber  with an empty smsCode."),E;return N._makeRequest=function(Q,G,H,J,K){return x("usersByMobilePhone",null,null,"POST",K)},this.save(P,N).then(function(Q){return delete Q.attributes.smsCode,delete Q._serverData.smsCode,Q._handleSaveResult(!0).then(function(){return Q})})},loginWithAuthData:function(P,N,E){return this._linkWith(N,P,E)},loginWithAuthDataAndUnionId:function(P,N,E,M){return this.loginWithAuthData(U()(P,E,M),N,M)},loginWithWeapp:function(){var P=this,N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=N.preferUnionId,M=E===void 0?!1:E,W=N.unionIdPlatform,Q=W===void 0?"weixin":W,G=N.asMainAccount,H=G===void 0?!0:G,J=N.failOnNotExist,K=J===void 0?!1:J,k=N.useMasterKey,L=N.sessionToken,B=N.user,$=T("getAuthInfo");return $({preferUnionId:M,asMainAccount:H,platform:Q}).then(function(z){return P.loginWithMiniApp(z,{failOnNotExist:K,useMasterKey:k,sessionToken:L,user:B})})},loginWithWeappWithUnionId:function(P){var N=this,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M=E.unionIdPlatform,W=M===void 0?"weixin":M,Q=E.asMainAccount,G=Q===void 0?!1:Q,H=E.failOnNotExist,J=H===void 0?!1:H,K=E.useMasterKey,k=E.sessionToken,L=E.user,B=T("getAuthInfo");return B({platform:W}).then(function($){return $=A.User.mergeUnionId($,P,{asMainAccount:G}),N.loginWithMiniApp($,{failOnNotExist:J,useMasterKey:K,sessionToken:k,user:L})})},loginWithQQApp:function(){var P=this,N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=N.preferUnionId,M=E===void 0?!1:E,W=N.unionIdPlatform,Q=W===void 0?"qq":W,G=N.asMainAccount,H=G===void 0?!0:G,J=N.failOnNotExist,K=J===void 0?!1:J,k=N.useMasterKey,L=N.sessionToken,B=N.user,$=T("getAuthInfo");return $({preferUnionId:M,asMainAccount:H,platform:Q}).then(function(z){return z.provider=I,P.loginWithMiniApp(z,{failOnNotExist:K,useMasterKey:k,sessionToken:L,user:B})})},loginWithQQAppWithUnionId:function(P){var N=this,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M=E.unionIdPlatform,W=M===void 0?"qq":M,Q=E.asMainAccount,G=Q===void 0?!1:Q,H=E.failOnNotExist,J=H===void 0?!1:H,K=E.useMasterKey,k=E.sessionToken,L=E.user,B=T("getAuthInfo");return B({platform:W}).then(function($){return $=A.User.mergeUnionId($,P,{asMainAccount:G}),$.provider=I,N.loginWithMiniApp($,{failOnNotExist:J,useMasterKey:K,sessionToken:k,user:L})})},loginWithMiniApp:function(P,N){var E=this;if(P===void 0){var M=T("getAuthInfo");return M().then(function(W){return E.loginWithAuthData(W.authData,W.provider,N)})}return this.loginWithAuthData(P.authData,P.provider,N)},logIn:function(){var P=this,N=x("login",null,null,"POST",this.toJSON());return N.then(function(E){var M=P.parse(E);return P._finishFetch(M),P._handleSaveResult(!0).then(function(){return M.smsCode||delete P.attributes.smsCode,P})})},save:function(P,N,E){var M,W;return f.isObject(P)||f.isNull(P)||f.isUndefined(P)?(M=P,W=N):(M={},M[P]=N,W=E),W=W||{},A.Object.prototype.save.call(this,M,W).then(function(Q){return Q._handleSaveResult(!1).then(function(){return Q})})},follow:function(P,N){if(!this.id)throw new Error("Please signin.");var E,M;P.user?(E=P.user,M=P.attributes):E=P;var W=f.isString(E)?E:E.id;if(!W)throw new Error("Invalid target user.");var Q="users/"+this.id+"/friendship/"+W,G=x(Q,null,null,"POST",A._encode(M),N);return G},unfollow:function(P,N){if(!this.id)throw new Error("Please signin.");var E;P.user?E=P.user:E=P;var M=f.isString(E)?E:E.id;if(!M)throw new Error("Invalid target user.");var W="users/"+this.id+"/friendship/"+M,Q=x(W,null,null,"DELETE",null,N);return Q},getFollowersAndFollowees:function(P,N){if(!this.id)throw new Error("Please signin.");return p({method:"GET",path:"/users/".concat(this.id,"/followersAndFollowees"),query:{skip:P&&P.skip,limit:P&&P.limit,include:"follower,followee",keys:"follower,followee"},authOptions:N}).then(function(E){var M=E.followers,W=E.followees;return{followers:(0,c.default)(M).call(M,function(Q){var G=Q.follower;return A._decode(G)}),followees:(0,c.default)(W).call(W,function(Q){var G=Q.followee;return A._decode(G)})}})},followerQuery:function(){return A.User.followerQuery(this.id)},followeeQuery:function(){return A.User.followeeQuery(this.id)},fetch:function(P,N){return A.Object.prototype.fetch.call(this,P,N).then(function(E){return E._handleSaveResult(!1).then(function(){return E})})},updatePassword:function(P,N,E){var M=this,W="users/"+this.id+"/updatePassword",Q={old_password:P,new_password:N},G=x(W,null,null,"PUT",Q,E);return G.then(function(H){return M._finishFetch(M.parse(H)),M._handleSaveResult(!0).then(function(){return H})})},isCurrent:function(){return this._isCurrentUser},getUsername:function(){return this.get("username")},getMobilePhoneNumber:function(){return this.get("mobilePhoneNumber")},setMobilePhoneNumber:function(P,N){return this.set("mobilePhoneNumber",P,N)},setUsername:function(P,N){return this.set("username",P,N)},setPassword:function(P,N){return this.set("password",P,N)},getEmail:function(){return this.get("email")},setEmail:function(P,N){return this.set("email",P,N)},authenticated:function(){return console.warn("DEPRECATED: 如果要判断当前用户的登录状态是否有效，请使用 currentUser.isAuthenticated().then()，如果要判断该用户是否是当前登录用户，请使用 user.id === currentUser.id。"),!!this._sessionToken&&!A._config.disableCurrentUser&&A.User.current()&&A.User.current().id===this.id},isAuthenticated:function(){var P=this;return u.default.resolve().then(function(){return!!P._sessionToken&&A.User._fetchUserBySessionToken(P._sessionToken).then(function(){return!0},function(N){if(N.code===211)return!1;throw N})})},getSessionToken:function(){return this._sessionToken},refreshSessionToken:function(P){var N=this;return x("users/".concat(this.id,"/refreshSessionToken"),null,null,"PUT",null,P).then(function(E){return N._finishFetch(E),N._handleSaveResult(!0).then(function(){return N})})},getRoles:function(P){var N;return(0,d.default)(N=A.Relation.reverseQuery("_Role","users",this)).call(N,P)}},{_currentUser:null,_currentUserMatchesDisk:!1,_CURRENT_USER_KEY:"currentUser",_authProviders:{},signUp:function(P,N,E,M){E=E||{},E.username=P,E.password=N;var W=A.Object._create("_User");return W.signUp(E,M)},logIn:function(P,N){var E=A.Object._create("_User");return E._finishFetch({username:P,password:N}),E.logIn()},become:function(P){return this._fetchUserBySessionToken(P).then(function(N){return N._handleSaveResult(!0).then(function(){return N})})},_fetchUserBySessionToken:function(P){if(P===void 0)return u.default.reject(new Error("The sessionToken cannot be undefined"));var N=A.Object._create("_User");return p({method:"GET",path:"/users/me",authOptions:{sessionToken:P}}).then(function(E){var M=N.parse(E);return N._finishFetch(M),N})},logInWithMobilePhoneSmsCode:function(P,N){var E=A.Object._create("_User");return E._finishFetch({mobilePhoneNumber:P,smsCode:N}),E.logIn()},signUpOrlogInWithMobilePhone:function(P,N,E,M){E=E||{},E.mobilePhoneNumber=P,E.smsCode=N;var W=A.Object._create("_User");return W.signUpOrlogInWithMobilePhone(E,M)},logInWithMobilePhone:function(P,N){var E=A.Object._create("_User");return E._finishFetch({mobilePhoneNumber:P,password:N}),E.logIn()},loginWithEmail:function(P,N){var E=A.Object._create("_User");return E._finishFetch({email:P,password:N}),E.logIn()},loginWithAuthData:function(P,N,E){return A.User._logInWith(N,P,E)},signUpOrlogInWithAuthData:function(){return console.warn("DEPRECATED: User.signUpOrlogInWithAuthData 已废弃，请使用 User#loginWithAuthData 代替"),this.loginWithAuthData.apply(this,arguments)},loginWithAuthDataAndUnionId:function(P,N,E,M){return this.loginWithAuthData(U()(P,E,M),N,M)},signUpOrlogInWithAuthDataAndUnionId:function(){return console.warn("DEPRECATED: User.signUpOrlogInWithAuthDataAndUnionId 已废弃，请使用 User#loginWithAuthDataAndUnionId 代替"),this.loginWithAuthDataAndUnionId.apply(this,arguments)},mergeUnionId:function(P,N){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},M=E.asMainAccount,W=M===void 0?!1:M;P=JSON.parse((0,v.default)(P));var Q=P,G=Q.authData,H=Q.platform;return G.platform=H,G.main_account=W,G.unionid=N,P},loginWithWeapp:function(){var P=this,N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=N.preferUnionId,M=E===void 0?!1:E,W=N.unionIdPlatform,Q=W===void 0?"weixin":W,G=N.asMainAccount,H=G===void 0?!0:G,J=N.failOnNotExist,K=J===void 0?!1:J,k=N.useMasterKey,L=N.sessionToken,B=N.user,$=T("getAuthInfo");return $({preferUnionId:M,asMainAccount:H,platform:Q}).then(function(z){return P.loginWithMiniApp(z,{failOnNotExist:K,useMasterKey:k,sessionToken:L,user:B})})},loginWithWeappWithUnionId:function(P){var N=this,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M=E.unionIdPlatform,W=M===void 0?"weixin":M,Q=E.asMainAccount,G=Q===void 0?!1:Q,H=E.failOnNotExist,J=H===void 0?!1:H,K=E.useMasterKey,k=E.sessionToken,L=E.user,B=T("getAuthInfo");return B({platform:W}).then(function($){return $=A.User.mergeUnionId($,P,{asMainAccount:G}),N.loginWithMiniApp($,{failOnNotExist:J,useMasterKey:K,sessionToken:k,user:L})})},loginWithQQApp:function(){var P=this,N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=N.preferUnionId,M=E===void 0?!1:E,W=N.unionIdPlatform,Q=W===void 0?"qq":W,G=N.asMainAccount,H=G===void 0?!0:G,J=N.failOnNotExist,K=J===void 0?!1:J,k=N.useMasterKey,L=N.sessionToken,B=N.user,$=T("getAuthInfo");return $({preferUnionId:M,asMainAccount:H,platform:Q}).then(function(z){return z.provider=I,P.loginWithMiniApp(z,{failOnNotExist:K,useMasterKey:k,sessionToken:L,user:B})})},loginWithQQAppWithUnionId:function(P){var N=this,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M=E.unionIdPlatform,W=M===void 0?"qq":M,Q=E.asMainAccount,G=Q===void 0?!1:Q,H=E.failOnNotExist,J=H===void 0?!1:H,K=E.useMasterKey,k=E.sessionToken,L=E.user,B=T("getAuthInfo");return B({platform:W}).then(function($){return $=A.User.mergeUnionId($,P,{asMainAccount:G}),$.provider=I,N.loginWithMiniApp($,{failOnNotExist:J,useMasterKey:K,sessionToken:k,user:L})})},loginWithMiniApp:function(P,N){var E=this;if(P===void 0){var M=T("getAuthInfo");return M().then(function(W){return E.loginWithAuthData(W.authData,W.provider,N)})}return this.loginWithAuthData(P.authData,P.provider,N)},_genId:function(){return h()},loginAnonymously:function(){return this.loginWithAuthData({id:A.User._genId()},"anonymous")},associateWithAuthData:function(P,N,E){return console.warn("DEPRECATED: User.associateWithAuthData 已废弃，请使用 User#associateWithAuthData 代替"),P._linkWith(N,E)},logOut:function(){return A._config.disableCurrentUser?(console.warn("AV.User.current() was disabled in multi-user environment, call logOut() from user object instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html"),u.default.resolve(null)):(A.User._currentUser!==null&&(A.User._currentUser._logOutWithAll(),A.User._currentUser._isCurrentUser=!1),A.User._currentUserMatchesDisk=!0,A.User._currentUser=null,A.localStorage.removeItemAsync(A._getAVPath(A.User._CURRENT_USER_KEY)).then(function(){return A._refreshSubscriptionId()}))},followerQuery:function(P){if(!P||!f.isString(P))throw new Error("Invalid user object id.");var N=new A.FriendShipQuery("_Follower");return N._friendshipTag="follower",N.equalTo("user",A.Object.createWithoutData("_User",P)),N},followeeQuery:function(P){if(!P||!f.isString(P))throw new Error("Invalid user object id.");var N=new A.FriendShipQuery("_Followee");return N._friendshipTag="followee",N.equalTo("user",A.Object.createWithoutData("_User",P)),N},requestPasswordReset:function(P){var N={email:P},E=x("requestPasswordReset",null,null,"POST",N);return E},requestEmailVerify:function(P){var N={email:P},E=x("requestEmailVerify",null,null,"POST",N);return E},requestMobilePhoneVerify:function(P){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E={mobilePhoneNumber:P};N.validateToken&&(E.validate_token=N.validateToken);var M=x("requestMobilePhoneVerify",null,null,"POST",E,N);return M},requestPasswordResetBySmsCode:function(P){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E={mobilePhoneNumber:P};N.validateToken&&(E.validate_token=N.validateToken);var M=x("requestPasswordResetBySmsCode",null,null,"POST",E,N);return M},requestChangePhoneNumber:function(P,N,E){var M={mobilePhoneNumber:P};return N&&(M.ttl=E.ttl),E&&E.validateToken&&(M.validate_token=E.validateToken),x("requestChangePhoneNumber",null,null,"POST",M,E)},changePhoneNumber:function(P,N){var E={mobilePhoneNumber:P,code:N};return x("changePhoneNumber",null,null,"POST",E)},resetPasswordBySmsCode:function(P,N){var E={password:N},M=x("resetPasswordBySmsCode",null,P,"PUT",E);return M},verifyMobilePhone:function(P){var N=x("verifyMobilePhone",null,P,"POST",null);return N},requestLoginSmsCode:function(P){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E={mobilePhoneNumber:P};N.validateToken&&(E.validate_token=N.validateToken);var M=x("requestLoginSmsCode",null,null,"POST",E,N);return M},currentAsync:function(){return A._config.disableCurrentUser?(console.warn("AV.User.currentAsync() was disabled in multi-user environment, access user from request instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html"),u.default.resolve(null)):A.User._currentUser||A.User._currentUserMatchesDisk?u.default.resolve(A.User._currentUser):A.localStorage.getItemAsync(A._getAVPath(A.User._CURRENT_USER_KEY)).then(function(P){if(!P)return null;A.User._currentUserMatchesDisk=!0,A.User._currentUser=A.Object._create("_User"),A.User._currentUser._isCurrentUser=!0;var N=JSON.parse(P);return A.User._currentUser.id=N._id,delete N._id,A.User._currentUser._sessionToken=N._sessionToken,delete N._sessionToken,A.User._currentUser._finishFetch(N),A.User._currentUser._synchronizeAllAuthData(),A.User._currentUser._refreshCache(),A.User._currentUser._opSetQueue=[{}],A.User._currentUser})},current:function(){if(A._config.disableCurrentUser)return console.warn("AV.User.current() was disabled in multi-user environment, access user from request instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html"),null;if(A.localStorage.async){var P=new Error("Synchronous API User.current() is not available in this runtime. Use User.currentAsync() instead.");throw P.code="SYNC_API_NOT_AVAILABLE",P}if(A.User._currentUser||A.User._currentUserMatchesDisk)return A.User._currentUser;A.User._currentUserMatchesDisk=!0;var N=A.localStorage.getItem(A._getAVPath(A.User._CURRENT_USER_KEY));if(!N)return null;A.User._currentUser=A.Object._create("_User"),A.User._currentUser._isCurrentUser=!0;var E=JSON.parse(N);return A.User._currentUser.id=E._id,delete E._id,A.User._currentUser._sessionToken=E._sessionToken,delete E._sessionToken,A.User._currentUser._finishFetch(E),A.User._currentUser._synchronizeAllAuthData(),A.User._currentUser._refreshCache(),A.User._currentUser._opSetQueue=[{}],A.User._currentUser},_saveCurrentUser:function(P){var N;return A.User._currentUser!==P?N=A.User.logOut():N=u.default.resolve(),N.then(function(){P._isCurrentUser=!0,A.User._currentUser=P;var E=P._toFullJSON();return E._id=P.id,E._sessionToken=P._sessionToken,A.localStorage.setItemAsync(A._getAVPath(A.User._CURRENT_USER_KEY),(0,v.default)(E)).then(function(){return A.User._currentUserMatchesDisk=!0,A._refreshSubscriptionId()})})},_registerAuthenticationProvider:function(P){A.User._authProviders[P.getAuthType()]=P,!A._config.disableCurrentUser&&A.User.current()&&A.User.current()._synchronizeAuthData(P.getAuthType())},_logInWith:function(P,N,E){var M=A.Object._create("_User");return M._linkWith(P,N,E)}})}},function(i,a,e){var n=e(143);function s(u,c,d){return c in u?n(u,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):u[c]=d,u}i.exports=s,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,a,e){var n=e(1),s=n(e(42)),u=n(e(10)),c=n(e(53)),d=n(e(37)),v=n(e(107)),f=n(e(25)),h=e(2),g=e(69)("leancloud:query"),y=e(43),x=e(27),p=x._request,j=x.request,T=e(31),C=T.ensureArray,I=T.transformFetchOptions,U=T.continueWhile,A=function(P,N){if(P===void 0)throw new Error(N)};i.exports=function(w){w.Query=function(P){h.isString(P)&&(P=w.Object._getSubclass(P)),this.objectClass=P,this.className=P.prototype.className,this._where={},this._include=[],this._select=[],this._limit=-1,this._skip=0,this._defaultParams={}},w.Query.or=function(){var P=h.toArray(arguments),N=null;w._arrayEach(P,function(M){if(h.isNull(N)&&(N=M.className),N!==M.className)throw new Error("All queries must be for the same class")});var E=new w.Query(N);return E._orQuery(P),E},w.Query.and=function(){var P=h.toArray(arguments),N=null;w._arrayEach(P,function(M){if(h.isNull(N)&&(N=M.className),N!==M.className)throw new Error("All queries must be for the same class")});var E=new w.Query(N);return E._andQuery(P),E},w.Query.doCloudQuery=function(P,N,E){var M={cql:P};h.isArray(N)?M.pvalues=N:E=N;var W=p("cloudQuery",null,null,"GET",M,E);return W.then(function(Q){var G=new w.Query(Q.className),H=(0,s.default)(h).call(h,Q.results,function(J){var K=G._newObject(Q);return K._finishFetch&&K._finishFetch(G._processResult(J),!0),K});return{results:H,count:Q.count,className:Q.className}})},w.Query.fromJSON=function(P){var N=P.className,E=P.where,M=P.include,W=P.select,Q=P.includeACL,G=P.limit,H=P.skip,J=P.order;if(typeof N!="string")throw new TypeError("Invalid Query JSON, className must be a String.");var K=new w.Query(N);return h.extend(K,{_where:E,_include:M,_select:W,_includeACL:Q,_limit:G,_skip:H,_order:J}),K},w.Query._extend=w._extend,h.extend(w.Query.prototype,{_processResult:function(N){return N},get:function(N,E){if(!h.isString(N))throw new Error("objectId must be a string");if(N==="")return u.default.reject(new y(y.OBJECT_NOT_FOUND,"Object not found."));var M=this._newObject();M.id=N;var W=this._getParams(),Q={};return(0,c.default)(W)&&(Q.keys=(0,c.default)(W)),W.include&&(Q.include=W.include),W.includeACL&&(Q.includeACL=W.includeACL),p("classes",this.className,N,"GET",I(Q),E).then(function(G){if(h.isEmpty(G))throw new y(y.OBJECT_NOT_FOUND,"Object not found.");return M._finishFetch(M.parse(G),!0),M})},toJSON:function(){var N=this.className,E=this._where,M=this._include,W=this._select,Q=this._includeACL,G=this._limit,H=this._skip,J=this._order;return{className:N,where:E,include:M,select:W,includeACL:Q,limit:G,skip:H,order:J}},_getParams:function(){var N=h.extend({},this._defaultParams,{where:this._where});return this._include.length>0&&(N.include=this._include.join(",")),this._select.length>0&&(N.keys=this._select.join(",")),this._includeACL!==void 0&&(N.returnACL=this._includeACL),this._limit>=0&&(N.limit=this._limit),this._skip>0&&(N.skip=this._skip),this._order!==void 0&&(N.order=this._order),N},_newObject:function(N){var E;return N&&N.className?E=new w.Object(N.className):E=new this.objectClass,E},_createRequest:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._getParams(),E=arguments.length>1?arguments[1]:void 0,M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"/classes/".concat(this.className);if(encodeURIComponent((0,d.default)(N)).length>2e3){var W={requests:[{method:"GET",path:"/1.1".concat(M),params:N}]};return j({path:"/batch",method:"POST",data:W,authOptions:E}).then(function(Q){var G=Q[0];if(G.success)return G.success;var H=new y(G.error.code,G.error.error||"Unknown batch error");throw H})}return j({method:"GET",path:M,query:N,authOptions:E})},_parseResponse:function(N){var E=this;return(0,s.default)(h).call(h,N.results,function(M){var W=E._newObject(N);return W._finishFetch&&W._finishFetch(E._processResult(M),!0),W})},find:function(N){var E=this._createRequest(void 0,N);return E.then(this._parseResponse.bind(this))},findAndCount:function(N){var E=this,M=this._getParams();M.count=1;var W=this._createRequest(M,N);return W.then(function(Q){return[E._parseResponse(Q),Q.count]})},scan:function(){var N=this,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=E.orderedBy,W=E.batchSize,Q=arguments.length>1?arguments[1]:void 0,G=this._getParams();g("scan %O",G),G.order&&(console.warn("The order of the query is ignored for Query#scan. Checkout the orderedBy option of Query#scan."),delete G.order),G.skip&&(console.warn("The skip option of the query is ignored for Query#scan."),delete G.skip),G.limit&&(console.warn("The limit option of the query is ignored for Query#scan."),delete G.limit),M&&(G.scan_key=M),W&&(G.limit=W);var H,J=[];return{next:function(){return J.length?u.default.resolve({done:!1,value:J.shift()}):H===null?u.default.resolve({done:!0}):p("scan/classes",N.className,null,"GET",H?h.extend({},G,{cursor:H}):G,Q).then(function(k){if(H=k.cursor,k.results.length){var L=N._parseResponse(k);L.forEach(function(B){return J.push(B)})}return H===null&&J.length===0?{done:!0}:{done:!1,value:J.shift()}})}}},destroyAll:function(N){var E=this;return(0,v.default)(E).call(E,N).then(function(M){return w.Object.destroyAll(M,N)})},count:function(N){var E=this._getParams();E.limit=0,E.count=1;var M=this._createRequest(E,N);return M.then(function(W){return W.count})},first:function(N){var E=this,M=this._getParams();M.limit=1;var W=this._createRequest(M,N);return W.then(function(Q){return(0,s.default)(h).call(h,Q.results,function(G){var H=E._newObject();return H._finishFetch&&H._finishFetch(E._processResult(G),!0),H})[0]})},skip:function(N){return A(N,"undefined is not a valid skip value"),this._skip=N,this},limit:function(N){return A(N,"undefined is not a valid limit value"),this._limit=N,this},equalTo:function(N,E){return A(N,"undefined is not a valid key"),A(E,"undefined is not a valid value"),this._where[N]=w._encode(E),this},_addCondition:function(N,E,M){return A(N,"undefined is not a valid condition key"),A(E,"undefined is not a valid condition"),A(M,"undefined is not a valid condition value"),this._where[N]||(this._where[N]={}),this._where[N][E]=w._encode(M),this},sizeEqualTo:function(N,E){return this._addCondition(N,"$size",E),this},notEqualTo:function(N,E){return this._addCondition(N,"$ne",E),this},lessThan:function(N,E){return this._addCondition(N,"$lt",E),this},greaterThan:function(N,E){return this._addCondition(N,"$gt",E),this},lessThanOrEqualTo:function(N,E){return this._addCondition(N,"$lte",E),this},greaterThanOrEqualTo:function(N,E){return this._addCondition(N,"$gte",E),this},containedIn:function(N,E){return this._addCondition(N,"$in",E),this},notContainedIn:function(N,E){return this._addCondition(N,"$nin",E),this},containsAll:function(N,E){return this._addCondition(N,"$all",E),this},exists:function(N){return this._addCondition(N,"$exists",!0),this},doesNotExist:function(N){return this._addCondition(N,"$exists",!1),this},matches:function(N,E,M){return this._addCondition(N,"$regex",E),M||(M=""),E.ignoreCase&&(M+="i"),E.multiline&&(M+="m"),M&&M.length&&this._addCondition(N,"$options",M),this},matchesQuery:function(N,E){var M=E._getParams();return M.className=E.className,this._addCondition(N,"$inQuery",M),this},doesNotMatchQuery:function(N,E){var M=E._getParams();return M.className=E.className,this._addCondition(N,"$notInQuery",M),this},matchesKeyInQuery:function(N,E,M){var W=M._getParams();return W.className=M.className,this._addCondition(N,"$select",{key:E,query:W}),this},doesNotMatchKeyInQuery:function(N,E,M){var W=M._getParams();return W.className=M.className,this._addCondition(N,"$dontSelect",{key:E,query:W}),this},_orQuery:function(N){var E=(0,s.default)(h).call(h,N,function(M){return M._getParams().where});return this._where.$or=E,this},_andQuery:function(N){var E=(0,s.default)(h).call(h,N,function(M){return M._getParams().where});return this._where.$and=E,this},_quote:function(N){return"\\Q"+N.replace("\\E","\\E\\\\E\\Q")+"\\E"},contains:function(N,E){return this._addCondition(N,"$regex",this._quote(E)),this},startsWith:function(N,E){return this._addCondition(N,"$regex","^"+this._quote(E)),this},endsWith:function(N,E){return this._addCondition(N,"$regex",this._quote(E)+"$"),this},ascending:function(N){return A(N,"undefined is not a valid key"),this._order=N,this},addAscending:function(N){return A(N,"undefined is not a valid key"),this._order?this._order+=","+N:this._order=N,this},descending:function(N){return A(N,"undefined is not a valid key"),this._order="-"+N,this},addDescending:function(N){return A(N,"undefined is not a valid key"),this._order?this._order+=",-"+N:this._order="-"+N,this},near:function(N,E){return E instanceof w.GeoPoint||(E=new w.GeoPoint(E)),this._addCondition(N,"$nearSphere",E),this},withinRadians:function(N,E,M){return this.near(N,E),this._addCondition(N,"$maxDistance",M),this},withinMiles:function(N,E,M){return this.withinRadians(N,E,M/3958.8)},withinKilometers:function(N,E,M){return this.withinRadians(N,E,M/6371)},withinGeoBox:function(N,E,M){return E instanceof w.GeoPoint||(E=new w.GeoPoint(E)),M instanceof w.GeoPoint||(M=new w.GeoPoint(M)),this._addCondition(N,"$within",{$box:[E,M]}),this},include:function(N){var E=this;return A(N,"undefined is not a valid key"),h.forEach(arguments,function(M){var W;E._include=(0,f.default)(W=E._include).call(W,C(M))}),this},includeACL:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this._includeACL=N,this},select:function(N){var E=this;return A(N,"undefined is not a valid key"),h.forEach(arguments,function(M){var W;E._select=(0,f.default)(W=E._select).call(W,C(M))}),this},each:function(N){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this._order||this._skip||this._limit>=0){var M=new Error("Cannot iterate on a query with sort, skip, or limit.");return u.default.reject(M)}var W=new w.Query(this.objectClass);W._limit=E.batchSize||100,W._where=h.clone(this._where),W._include=h.clone(this._include),W.ascending("objectId");var Q=!1;return U(function(){return!Q},function(){return(0,v.default)(W).call(W,E).then(function(G){var H=u.default.resolve();return h.each(G,function(J){H=H.then(function(){return N(J)})}),H.then(function(){G.length>=W._limit?W.greaterThan("objectId",G[G.length-1].id):Q=!0})})})},subscribe:function(N){return w.LiveQuery.init(this,N)}}),w.FriendShipQuery=w.Query._extend({_newObject:function(){var N=w.Object._getSubclass("_User");return new N},_processResult:function(N){if(N&&N[this._friendshipTag]){var E=N[this._friendshipTag];return E.__type==="Pointer"&&E.className==="_User"&&(delete E.__type,delete E.className),E}else return null}})}},function(i,a,e){var n=e(1),s=n(e(10)),u=n(e(53)),c=e(2),d=e(223),v=e(31),f=v.inherits,h=e(27),g=h.request,y=function(p,j){return g({method:"POST",path:"/LiveQuery/subscribe",data:{query:p,id:j}})};i.exports=function(x){var p=function(){if(!x._config.realtime)throw new Error("LiveQuery not supported. Please use the LiveQuery bundle. https://url.leanapp.cn/enable-live-query")};x.LiveQuery=f(d,{constructor:function(T,C,I,U){var A=this;d.apply(this),this.id=T,this._client=C,this._client.register(this),this._queryJSON=I,this._subscriptionId=U,this._onMessage=this._dispatch.bind(this),this._onReconnect=function(){y(A._queryJSON,A._subscriptionId).catch(function(w){return console.error("LiveQuery resubscribe error: ".concat(w.message))})},C.on("message",this._onMessage),C.on("reconnect",this._onReconnect)},_dispatch:function(T){var C=this;T.forEach(function(I){var U=I.op,A=I.object,w=I.query_id,P=I.updatedKeys;if(w===C.id){var N=x.parseJSON(c.extend({__type:A.className==="_File"?"File":"Object"},A));P?C.emit(U,N,P):C.emit(U,N)}})},unsubscribe:function(){var T=this._client;return T.off("message",this._onMessage),T.off("reconnect",this._onReconnect),T.deregister(this),g({method:"POST",path:"/LiveQuery/unsubscribe",data:{id:T.id,query_id:this.id}})}},{init:function(T){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I=C.subscriptionId,U=I===void 0?x._getSubscriptionId():I;if(p(),!(T instanceof x.Query))throw new TypeError("LiveQuery must be inited with a Query");return s.default.resolve(U).then(function(A){return x._config.realtime.createLiveQueryClient(A).then(function(w){var P=T._getParams(),N=P.where,E=(0,u.default)(P),M=P.returnACL,W={where:N,keys:E,returnACL:M,className:T.className},Q=y(W,A).then(function(G){var H=G.query_id;return new x.LiveQuery(H,w,W,A)}).finally(function(){w.deregister(Q)});return w.register(Q),Q})})},pause:function(){return p(),x._config.realtime.pause()},resume:function(){return p(),x._config.realtime.resume()}})}},function(i,a,e){var n=e(2),s=e(31),u=s.tap;i.exports=function(c){c.Captcha=function(v,f){this._options=v,this._authOptions=f,this.url=void 0,this.captchaToken=void 0,this.validateToken=void 0},c.Captcha.prototype.refresh=function(){var v=this;return c.Cloud._requestCaptcha(this._options,this._authOptions).then(function(f){var h=f.captchaToken,g=f.url;return n.extend(v,{captchaToken:h,url:g}),g})},c.Captcha.prototype.verify=function(v){var f=this;return c.Cloud.verifyCaptcha(v,this.captchaToken).then(u(function(h){return f.validateToken=h}))},c.Captcha.prototype.bind=function(v,f){var h=this,g=v.textInput,y=v.image,x=v.verifyButton,p=f.success,j=f.error;if(typeof g=="string"&&(g=document.getElementById(g),!g))throw new Error("textInput with id ".concat(g," not found"));if(typeof y=="string"&&(y=document.getElementById(y),!y))throw new Error("image with id ".concat(y," not found"));if(typeof x=="string"&&(x=document.getElementById(x),!x))throw new Error("verifyButton with id ".concat(x," not found"));this.__refresh=function(){return h.refresh().then(function(T){y.src=T,g&&(g.value="",g.focus())}).catch(function(T){return console.warn("refresh captcha fail: ".concat(T.message))})},y&&(this.__image=y,y.src=this.url,y.addEventListener("click",this.__refresh)),this.__verify=function(){var T=g.value;h.verify(T).catch(function(C){throw h.__refresh(),C}).then(p,j).catch(function(C){return console.warn("verify captcha fail: ".concat(C.message))})},g&&x&&(this.__verifyButton=x,x.addEventListener("click",this.__verify))},c.Captcha.prototype.unbind=function(){this.__image&&this.__image.removeEventListener("click",this.__refresh),this.__verifyButton&&this.__verifyButton.removeEventListener("click",this.__verify)},c.Captcha.request=function(d,v){var f=new c.Captcha(d,v);return f.refresh().then(function(){return f})}}},function(i,a,e){var n=e(1),s=n(e(10)),u=e(2),c=e(27),d=c._request,v=c.request;i.exports=function(f){f.Cloud=f.Cloud||{},u.extend(f.Cloud,{run:function(g,y,x){return v({service:"engine",method:"POST",path:"/functions/".concat(g),data:f._encode(y,null,!0),authOptions:x}).then(function(p){return f._decode(p).result})},rpc:function(g,y,x){return u.isArray(y)?s.default.reject(new Error("Can't pass Array as the param of rpc function in JavaScript SDK.")):v({service:"engine",method:"POST",path:"/call/".concat(g),data:f._encodeObjectOrArray(y),authOptions:x}).then(function(p){return f._decode(p).result})},getServerDate:function(){return d("date",null,null,"GET").then(function(g){return f._decode(g)})},requestSmsCode:function(g){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(u.isString(g)&&(g={mobilePhoneNumber:g}),!g.mobilePhoneNumber)throw new Error("Missing mobilePhoneNumber.");return y.validateToken&&(g=u.extend({},g,{validate_token:y.validateToken})),d("requestSmsCode",null,null,"POST",g,y)},verifySmsCode:function(g,y){if(!g)throw new Error("Missing sms code.");var x={};return u.isString(y)&&(x.mobilePhoneNumber=y),d("verifySmsCode",g,null,"POST",x)},_requestCaptcha:function(g,y){return d("requestCaptcha",null,null,"GET",g,y).then(function(x){var p=x.captcha_url,j=x.captcha_token;return{captchaToken:j,url:p}})},requestCaptcha:f.Captcha.request,verifyCaptcha:function(g,y){return d("verifyCaptcha",null,null,"POST",{captcha_code:g,captcha_token:y}).then(function(x){var p=x.validate_token;return p})}})}},function(i,a,e){var n=e(27).request;i.exports=function(s){s.Installation=s.Object.extend("_Installation"),s.Push=s.Push||{},s.Push.send=function(u,c){if(u.where&&(u.where=u.where._getParams().where),u.where&&u.cql)throw new Error("Both where and cql can't be set");if(u.push_time&&(u.push_time=u.push_time.toJSON()),u.expiration_time&&(u.expiration_time=u.expiration_time.toJSON()),u.expiration_time&&u.expiration_interval)throw new Error("Both expiration_time and expiration_interval can't be set");return n({service:"push",method:"POST",path:"/push",data:u,authOptions:c})}}},function(i,a,e){var n=e(1),s=n(e(10)),u=n(e(141)),c=e(2),d=e(27)._request,v=e(31),f=v.getSessionToken;i.exports=function(h){var g=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=f(p);return j?h.User._fetchUserBySessionToken(f(p)):h.User.currentAsync()},y=function(p){return g(p).then(function(j){return h.Object.createWithoutData("_User",j.id)._toPointer()})};h.Status=function(x,p){return this.data={},this.inboxType="default",this.query=null,x&&(0,u.default)(x)==="object"?this.data=x:(x&&(this.data.image=x),p&&(this.data.message=p)),this},c.extend(h.Status.prototype,{get:function(p){return this.data[p]},set:function(p,j){return this.data[p]=j,this},destroy:function(p){if(!this.id)return s.default.reject(new Error("The status id is not exists."));var j=d("statuses",null,this.id,"DELETE",p);return j},toObject:function(){return this.id?h.Object.createWithoutData("_Status",this.id):null},_getDataJSON:function(){var p=c.clone(this.data);return h._encode(p)},send:function(){var p=this,j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!f(j)&&!h.User.current())throw new Error("Please signin an user.");return this.query?y(j).then(function(T){var C=p.query._getParams();C.className=p.query.className;var I={};return I.query=C,p.data=p.data||{},p.data.source=p.data.source||T,I.data=p._getDataJSON(),I.inboxType=p.inboxType||"default",d("statuses",null,null,"POST",I,j)}).then(function(T){return p.id=T.objectId,p.createdAt=h._parseDate(T.createdAt),p}):h.Status.sendStatusToFollowers(this,j)},_finishFetch:function(p){this.id=p.objectId,this.createdAt=h._parseDate(p.createdAt),this.updatedAt=h._parseDate(p.updatedAt),this.messageId=p.messageId,delete p.messageId,delete p.objectId,delete p.createdAt,delete p.updatedAt,this.data=h._decode(p)}}),h.Status.sendStatusToFollowers=function(x){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!f(p)&&!h.User.current())throw new Error("Please signin an user.");return y(p).then(function(j){var T={};T.className="_Follower",T.keys="follower",T.where={user:j};var C={};C.query=T,x.data=x.data||{},x.data.source=x.data.source||j,C.data=x._getDataJSON(),C.inboxType=x.inboxType||"default";var I=d("statuses",null,null,"POST",C,p);return I.then(function(U){return x.id=U.objectId,x.createdAt=h._parseDate(U.createdAt),x})})},h.Status.sendPrivateStatus=function(x,p){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!f(j)&&!h.User.current())throw new Error("Please signin an user.");if(!p)throw new Error("Invalid target user.");var T=c.isString(p)?p:p.id;if(!T)throw new Error("Invalid target user.");return y(j).then(function(C){var I={};I.className="_User",I.where={objectId:T};var U={};U.query=I,x.data=x.data||{},x.data.source=x.data.source||C,U.data=x._getDataJSON(),U.inboxType="private",x.inboxType="private";var A=d("statuses",null,null,"POST",U,j);return A.then(function(w){return x.id=w.objectId,x.createdAt=h._parseDate(w.createdAt),x})})},h.Status.countUnreadStatuses=function(x){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(c.isString(p)||(j=p),!f(j)&&x==null&&!h.User.current())throw new Error("Please signin an user or pass the owner objectId.");return s.default.resolve(x||g(j)).then(function(T){var C={};return C.inboxType=h._encode(p),C.owner=h._encode(T),d("subscribe/statuses/count",null,null,"GET",C,j)})},h.Status.resetUnreadCount=function(x){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(c.isString(p)||(j=p),!f(j)&&x==null&&!h.User.current())throw new Error("Please signin an user or pass the owner objectId.");return s.default.resolve(x||g(j)).then(function(T){var C={};return C.inboxType=h._encode(p),C.owner=h._encode(T),d("subscribe/statuses/resetUnreadCount",null,null,"POST",C,j)})},h.Status.statusQuery=function(x){var p=new h.Query("_Status");return x&&p.equalTo("source",x),p},h.InboxQuery=h.Query._extend({_objectClass:h.Status,_sinceId:0,_maxId:0,_inboxType:"default",_owner:null,_newObject:function(){return new h.Status},_createRequest:function(p,j){return h.InboxQuery.__super__._createRequest.call(this,p,j,"/subscribe/statuses")},sinceId:function(p){return this._sinceId=p,this},maxId:function(p){return this._maxId=p,this},owner:function(p){return this._owner=p,this},inboxType:function(p){return this._inboxType=p,this},_getParams:function(){var p=h.InboxQuery.__super__._getParams.call(this);return p.owner=h._encode(this._owner),p.inboxType=h._encode(this._inboxType),p.sinceId=h._encode(this._sinceId),p.maxId=h._encode(this._maxId),p}}),h.Status.inboxQuery=function(x,p){var j=new h.InboxQuery(h.Status);return x&&(j._owner=x),p&&(j._inboxType=p),j}}},function(i,a,e){var n=e(1),s=n(e(37)),u=n(e(42)),c=e(2),d=e(27)._request;i.exports=function(v){v.SearchSortBuilder=function(){this._sortFields=[]},c.extend(v.SearchSortBuilder.prototype,{_addField:function(h,g,y,x){var p={};return p[h]={order:g||"asc",mode:y||"avg",missing:"_"+(x||"last")},this._sortFields.push(p),this},ascending:function(h,g,y){return this._addField(h,"asc",g,y)},descending:function(h,g,y){return this._addField(h,"desc",g,y)},whereNear:function(h,g,y){y=y||{};var x={},p={lat:g.latitude,lon:g.longitude},j={order:y.order||"asc",mode:y.mode||"avg",unit:y.unit||"km"};return j[h]=p,x._geo_distance=j,this._sortFields.push(x),this},build:function(){return(0,s.default)(v._encode(this._sortFields))}}),v.SearchQuery=v.Query._extend({_sid:null,_hits:0,_queryString:null,_highlights:null,_sortBuilder:null,_clazz:null,constructor:function(h){h?this._clazz=h:h="__INVALID_CLASS",v.Query.call(this,h)},_createRequest:function(h,g){return d("search/select",null,null,"GET",h||this._getParams(),g)},sid:function(h){return this._sid=h,this},queryString:function(h){return this._queryString=h,this},highlights:function(h){var g;return h&&c.isString(h)?g=c.toArray(arguments):g=h,this._highlights=g,this},sortBy:function(h){return this._sortBuilder=h,this},hits:function(){return this._hits||(this._hits=0),this._hits},_processResult:function(h){return delete h.className,delete h._app_url,delete h._deeplink,h},hasMore:function(){return!this._hitEnd},reset:function(){this._hitEnd=!1,this._sid=null,this._hits=0},find:function(h){var g=this,y=this._createRequest(void 0,h);return y.then(function(x){return x.sid?(g._oldSid=g._sid,g._sid=x.sid):(g._sid=null,g._hitEnd=!0),g._hits=x.hits||0,(0,u.default)(c).call(c,x.results,function(p){p.className&&(x.className=p.className);var j=g._newObject(x);return j.appURL=p._app_url,j._finishFetch(g._processResult(p),!0),j})})},_getParams:function(){var h=v.SearchQuery.__super__._getParams.call(this);if(delete h.where,this._clazz&&(h.clazz=this.className),this._sid&&(h.sid=this._sid),this._queryString)h.q=this._queryString;else throw new Error("Please set query string.");if(this._highlights&&(h.highlights=this._highlights.join(",")),this._sortBuilder&&h.order)throw new Error("sort and order can not be set at same time.");return this._sortBuilder&&(h.sort=this._sortBuilder.build()),h}})}},function(i,a,e){var n=e(1),s=n(e(10)),u=e(2),c=e(43),d=e(27),v=d.request;i.exports=function(f){f.Insight=f.Insight||{},u.extend(f.Insight,{startJob:function(g,y){if(!g||!g.sql)throw new Error("Please provide the sql to run the job.");var x={jobConfig:g,appId:f.applicationId};return v({path:"/bigquery/jobs",method:"POST",data:f._encode(x,null,!0),authOptions:y,signKey:!1}).then(function(p){return f._decode(p).id})},on:function(g,y){}}),f.Insight.JobQuery=function(h,g){if(!h)throw new Error("Please provide the job id.");this.id=h,this.className=g,this._skip=0,this._limit=100},u.extend(f.Insight.JobQuery.prototype,{skip:function(g){return this._skip=g,this},limit:function(g){return this._limit=g,this},find:function(g){var y={skip:this._skip,limit:this._limit};return v({path:"/bigquery/jobs/".concat(this.id),method:"GET",query:y,authOptions:g,signKey:!1}).then(function(x){return x.error?s.default.reject(new c(x.code,x.error)):s.default.resolve(x)})}})}},function(i,a,e){var n=e(1),s=n(e(10)),u=e(2),c=e(27),d=c.request,v=e(31),f=v.getSessionToken;i.exports=function(h){var g=function(p){if(p.user){if(!p.user._sessionToken)throw new Error("authOptions.user is not signed in.");return s.default.resolve(p.user)}return p.sessionToken?h.User._fetchUserBySessionToken(p.sessionToken):h.User.currentAsync()},y=function(p){var j=f(p);return j?s.default.resolve(j):h.User.currentAsync().then(function(T){if(T)return T.getSessionToken()})};h.Friendship={request:function(p){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T,C;p.friend?(T=p.friend,C=p.attributes):T=p;var I=u.isString(T)?h.Object.createWithoutData("_User",T):T;return g(j).then(function(U){if(!U)throw new Error("Please signin an user.");return d({method:"POST",path:"/users/friendshipRequests",data:{user:U._toPointer(),friend:I._toPointer(),friendship:C},authOptions:j})})},acceptRequest:function(p){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T,C;p.request?(T=p.request,C=p.attributes):T=p;var I=u.isString(T)?T:T.id;return y(j).then(function(U){if(!U)throw new Error("Please signin an user.");return d({method:"PUT",path:"/users/friendshipRequests/"+I+"/accept",data:{friendship:h._encode(C)},authOptions:j})})},declineRequest:function(p){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T=u.isString(p)?p:p.id;return y(j).then(function(C){if(!C)throw new Error("Please signin an user.");return d({method:"PUT",path:"/users/friendshipRequests/"+T+"/decline",authOptions:j})})}}}},function(i,a,e){var n=e(1),s=n(e(37)),u=e(2),c=e(27),d=c._request,v=e(67),f=function(g){return typeof g=="string"?g:typeof g.getPayload=="function"?(0,s.default)(g.getPayload()):(0,s.default)(g)};i.exports=v.Object.extend("_Conversation",{constructor:function(g){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};v.Object.prototype.constructor.call(this,null,null),this.set("name",g),y.isSystem!==void 0&&this.set("sys",!!y.isSystem),y.isTransient!==void 0&&this.set("tr",!!y.isTransient)},getCreator:function(){return this.get("c")},getLastMessageAt:function(){return this.get("lm")},getMembers:function(){return this.get("m")},addMember:function(g){return this.add("m",g)},getMutedMembers:function(){return this.get("mu")},getName:function(){return this.get("name")},isTransient:function(){return this.get("tr")},isSystem:function(){return this.get("sys")},send:function(g,y){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},j={from_peer:g,conv_id:this.id,transient:!1,message:f(y)};return x.toClients!==void 0&&(j.to_peers=x.toClients),x.transient!==void 0&&(j.transient=!!x.transient),x.pushData!==void 0&&(j.push_data=x.pushData),d("rtm","messages",null,"POST",j,p)},broadcast:function(g,y){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},j={from_peer:g,conv_id:this.id,message:f(y)};if(x.pushData!==void 0&&(j.push=x.pushData),x.validTill!==void 0){var T=x.validTill;u.isDate(T)&&(T=T.getTime()),x.valid_till=T}return d("rtm","broadcast",null,"POST",j,p)}})},function(i,a,e){var n=e(1),s=n(e(10)),u=n(e(42)),c=n(e(25)),d=e(2),v=e(27),f=v.request,h=e(31),g=h.ensureArray,y=h.parseDate,x=e(67);x.LeaderboardVersionChangeInterval={NEVER:"never",DAY:"day",WEEK:"week",MONTH:"month"},x.LeaderboardOrder={ASCENDING:"ascending",DESCENDING:"descending"},x.LeaderboardUpdateStrategy={BETTER:"better",LAST:"last",SUM:"sum"};function p(C){var I=C.name,U=C.value,A=C.version;this.name=I,this.value=U,this.version=A}var j=function(I){var U=x._decode(I),A=U.statisticName,w=U.statisticValue,P=U.version;return new p({name:A,value:w,version:P})};x.Leaderboard=function(I){this.statisticName=I,this.order=void 0,this.updateStrategy=void 0,this.versionChangeInterval=void 0,this.version=void 0,this.nextResetAt=void 0,this.createdAt=void 0};var T=x.Leaderboard;x.Leaderboard.createWithoutData=function(C){return new T(C)},x.Leaderboard.createLeaderboard=function(C,I){var U=C.statisticName,A=C.order,w=C.versionChangeInterval,P=C.updateStrategy;return f({method:"POST",path:"/leaderboard/leaderboards",data:{statisticName:U,order:A,versionChangeInterval:w,updateStrategy:P},authOptions:I}).then(function(N){var E=new T(U);return E._finishFetch(N)})},x.Leaderboard.getLeaderboard=function(C,I){return T.createWithoutData(C).fetch(I)},x.Leaderboard.getStatistics=function(C){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},U=I.statisticNames,A=arguments.length>2?arguments[2]:void 0;return s.default.resolve().then(function(){if(!(C&&C.id))throw new Error("user must be an AV.User");return f({method:"GET",path:"/leaderboard/users/".concat(C.id,"/statistics"),query:{statistics:U?g(U).join(","):void 0},authOptions:A}).then(function(w){var P=w.results;return(0,u.default)(P).call(P,j)})})},x.Leaderboard.updateStatistics=function(C,I){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return s.default.resolve().then(function(){if(!(C&&C.id))throw new Error("user must be an AV.User");var A=(0,u.default)(d).call(d,I,function(P,N){return{statisticName:N,statisticValue:P}}),w=U.overwrite;return f({method:"POST",path:"/leaderboard/users/".concat(C.id,"/statistics"),query:{overwrite:w?1:void 0},data:A,authOptions:U}).then(function(P){var N=P.results;return(0,u.default)(N).call(N,j)})})},x.Leaderboard.deleteStatistics=function(C,I,U){return s.default.resolve().then(function(){if(!(C&&C.id))throw new Error("user must be an AV.User");return f({method:"DELETE",path:"/leaderboard/users/".concat(C.id,"/statistics"),query:{statistics:g(I).join(",")},authOptions:U}).then(function(){})})},d.extend(T.prototype,{_finishFetch:function(I){var U=this;return d.forEach(I,function(A,w){w==="updatedAt"||w==="objectId"||(w==="expiredAt"&&(w="nextResetAt"),w==="createdAt"&&(A=y(A)),A&&A.__type==="Date"&&(A=y(A.iso)),U[w]=A)}),this},fetch:function(I){var U=this;return f({method:"GET",path:"/leaderboard/leaderboards/".concat(this.statisticName),authOptions:I}).then(function(A){return U._finishFetch(A)})},count:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},U=I.version,A=arguments.length>1?arguments[1]:void 0;return f({method:"GET",path:"/leaderboard/leaderboards/".concat(this.statisticName,"/ranks"),query:{count:1,limit:0,version:U},authOptions:A}).then(function(w){var P=w.count;return P})},_getResults:function(I,U,A){var w,P=I.skip,N=I.limit,E=I.selectUserKeys,M=I.includeUserKeys,W=I.includeStatistics,Q=I.version;return f({method:"GET",path:(0,c.default)(w="/leaderboard/leaderboards/".concat(this.statisticName,"/ranks")).call(w,A?"/".concat(A):""),query:{skip:P,limit:N,selectUserKeys:d.union(g(E),g(M)).join(",")||void 0,includeUser:M?g(M).join(","):void 0,includeStatistics:W?g(W).join(","):void 0,version:Q},authOptions:U}).then(function(G){var H=G.results;return(0,u.default)(H).call(H,function(J){var K=x._decode(J),k=K.user,L=K.statisticValue,B=K.rank,$=K.statistics,z=$===void 0?[]:$;return{user:k,value:L,rank:B,includedStatistics:(0,u.default)(z).call(z,j)}})})},getResults:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},U=I.skip,A=I.limit,w=I.selectUserKeys,P=I.includeUserKeys,N=I.includeStatistics,E=I.version,M=arguments.length>1?arguments[1]:void 0;return this._getResults({skip:U,limit:A,selectUserKeys:w,includeUserKeys:P,includeStatistics:N,version:E},M)},getResultsAroundUser:function(I){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},A=arguments.length>2?arguments[2]:void 0;if(I&&typeof I.id!="string")return this.getResultsAroundUser(void 0,I,U);var w=U.limit,P=U.selectUserKeys,N=U.includeUserKeys,E=U.includeStatistics,M=U.version;return this._getResults({limit:w,selectUserKeys:P,includeUserKeys:N,includeStatistics:E,version:M},A,I?I.id:"self")},_update:function(I,U){var A=this;return f({method:"PUT",path:"/leaderboard/leaderboards/".concat(this.statisticName),data:I,authOptions:U}).then(function(w){return A._finishFetch(w)})},updateVersionChangeInterval:function(I,U){return this._update({versionChangeInterval:I},U)},updateUpdateStrategy:function(I,U){return this._update({updateStrategy:I},U)},reset:function(I){var U=this;return f({method:"PUT",path:"/leaderboard/leaderboards/".concat(this.statisticName,"/incrementVersion"),authOptions:I}).then(function(A){return U._finishFetch(A)})},destroy:function(I){return x.request({method:"DELETE",path:"/leaderboard/leaderboards/".concat(this.statisticName),authOptions:I}).then(function(){})},getArchives:function(){var I=this,U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=U.skip,w=U.limit,P=arguments.length>1?arguments[1]:void 0;return f({method:"GET",path:"/leaderboard/leaderboards/".concat(this.statisticName,"/archives"),query:{skip:A,limit:w},authOptions:P}).then(function(N){var E=N.results;return(0,u.default)(E).call(E,function(M){var W=M.version,Q=M.status,G=M.url,H=M.activatedAt,J=M.deactivatedAt;return{statisticName:I.statisticName,version:W,status:Q,url:G,activatedAt:y(H.iso),deactivatedAt:y(J.iso)}})})}})},function(i,a,e){var n=e(545);i.exports=function(s){return s.setAdapters(n),s}},function(i,a,e){var n=e(140);n(a,"__esModule",{value:!0}),a.platformInfo=a.WebSocket=void 0,n(a,"request",{enumerable:!0,get:function(){return s.request}}),a.storage=void 0,n(a,"upload",{enumerable:!0,get:function(){return s.upload}});var s=e(546),u=window.localStorage;a.storage=u;var c=window.WebSocket;a.WebSocket=c;var d={name:"Browser"};a.platformInfo=d},function(i,a,e){var n=this&&this.__awaiter||function(h,g,y,x){function p(j){return j instanceof y?j:new y(function(T){T(j)})}return new(y||(y=Promise))(function(j,T){function C(A){try{U(x.next(A))}catch(w){T(w)}}function I(A){try{U(x.throw(A))}catch(w){T(w)}}function U(A){A.done?j(A.value):p(A.value).then(C,I)}U((x=x.apply(h,g||[])).next())})},s=this&&this.__generator||function(h,g){var y={label:0,sent:function(){if(j[0]&1)throw j[1];return j[1]},trys:[],ops:[]},x,p,j,T;return T={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function C(U){return function(A){return I([U,A])}}function I(U){if(x)throw new TypeError("Generator is already executing.");for(;y;)try{if(x=1,p&&(j=U[0]&2?p.return:U[0]?p.throw||((j=p.return)&&j.call(p),0):p.next)&&!(j=j.call(p,U[1])).done)return j;switch(p=0,j&&(U=[U[0]&2,j.value]),U[0]){case 0:case 1:j=U;break;case 4:return y.label++,{value:U[1],done:!1};case 5:y.label++,p=U[1],U=[0];continue;case 7:U=y.ops.pop(),y.trys.pop();continue;default:if(j=y.trys,!(j=j.length>0&&j[j.length-1])&&(U[0]===6||U[0]===2)){y=0;continue}if(U[0]===3&&(!j||U[1]>j[0]&&U[1]<j[3])){y.label=U[1];break}if(U[0]===6&&y.label<j[1]){y.label=j[1],j=U;break}if(j&&y.label<j[2]){y.label=j[2],y.ops.push(U);break}j[2]&&y.ops.pop(),y.trys.pop();continue}U=g.call(h,y)}catch(A){U=[6,A],p=0}finally{x=j=0}if(U[0]&5)throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}};Object.defineProperty(a,"__esModule",{value:!0}),a.upload=a.request=void 0;var u=e(547),c=e(548);function d(h){return{ok:h.ok,status:h.status,headers:h.header,data:h.body}}var v=function(h,g){return g===void 0&&(g={}),n(void 0,void 0,void 0,function(){var y,x,p,j,T,C,I,U,A,w,P;return s(this,function(N){switch(N.label){case 0:if(y=g.method,x=y===void 0?"GET":y,p=g.data,j=g.headers,T=g.onprogress,C=g.signal,C?.aborted)throw new u.AbortError("Request aborted");I=c(x,h).ok(function(){return!0}),j&&I.set(j),T&&I.on("progress",T),U=!1,A=function(){U=!0,I.abort()},C?.addEventListener("abort",A),N.label=1;case 1:return N.trys.push([1,3,4,5]),[4,I.send(p)];case 2:return w=N.sent(),[2,d(w)];case 3:throw P=N.sent(),U?new u.AbortError("Request aborted"):P;case 4:return C?.removeEventListener("abort",A),[7];case 5:return[2]}})})};a.request=v;var f=function(h,g,y){return y===void 0&&(y={}),n(void 0,void 0,void 0,function(){var x,p,j,T,C,I,U,A,w,P,N;return s(this,function(E){switch(E.label){case 0:if(x=y.method,p=x===void 0?"POST":x,j=y.data,T=y.headers,C=y.onprogress,I=y.signal,I?.aborted)throw new u.AbortError("Request aborted");U=c(p,h).ok(function(){return!0}).attach(g.field,g.data,g.name),j&&U.field(j),T&&U.set(T),C&&U.on("progress",C),A=!1,w=function(){A=!0,U.abort()},I?.addEventListener("abort",w),E.label=1;case 1:return E.trys.push([1,3,4,5]),[4,U];case 2:return P=E.sent(),[2,d(P)];case 3:throw N=E.sent(),A?new u.AbortError("Request aborted"):N;case 4:return I?.removeEventListener("abort",w),[7];case 5:return[2]}})})};a.upload=f},function(i,a,e){Object.defineProperty(a,"__esModule",{value:!0}),e.d(a,"AbortError",function(){return u});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var n=function(c,d){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,f){v.__proto__=f}||function(v,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(v[h]=f[h])},n(c,d)};function s(c,d){n(c,d);function v(){this.constructor=c}c.prototype=d===null?Object.create(d):(v.prototype=d.prototype,new v)}var u=function(c){s(d,c);function d(){var v=c!==null&&c.apply(this,arguments)||this;return v.name="AbortError",v}return d}(Error)},function(i,a,e){var n=e(1),s=n(e(87)),u=n(e(144)),c=n(e(549)),d=n(e(25)),v=n(e(68)),f=n(e(38));function h(H){"@babel/helpers - typeof";return typeof s.default=="function"&&typeof u.default=="symbol"?h=function(K){return typeof K}:h=function(K){return K&&typeof s.default=="function"&&K.constructor===s.default&&K!==s.default.prototype?"symbol":typeof K},h(H)}var g;typeof window<"u"?g=window:typeof self>"u"?(console.warn("Using browser-only version of superagent in non-browser environment"),g=void 0):g=self;var y=e(556),x=e(557),p=e(558),j=e(244),T=e(579),C=e(587);function I(){}i.exports=function(H,J){return typeof J=="function"?new a.Request("GET",H).end(J):arguments.length===1?new a.Request("GET",H):new a.Request(H,J)},a=i.exports;var U=a;a.Request=Q,U.getXHR=function(){if(g.XMLHttpRequest&&(!g.location||g.location.protocol!=="file:"||!g.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch{}throw new Error("Browser-only version of superagent could not find XHR")};var A=(0,c.default)("")?function(H){return(0,c.default)(H).call(H)}:function(H){return H.replace(/(^\s*|\s*$)/g,"")};function w(H){if(!j(H))return H;var J=[];for(var K in H)Object.prototype.hasOwnProperty.call(H,K)&&P(J,K,H[K]);return J.join("&")}function P(H,J,K){if(K!==void 0){if(K===null){H.push(encodeURI(J));return}if(Array.isArray(K))K.forEach(function(B){P(H,J,B)});else if(j(K))for(var k in K){var L;Object.prototype.hasOwnProperty.call(K,k)&&P(H,(0,d.default)(L="".concat(J,"[")).call(L,k,"]"),K[k])}else H.push(encodeURI(J)+"="+encodeURIComponent(K))}}U.serializeObject=w;function N(H){for(var J={},K=H.split("&"),k,L,B=0,$=K.length;B<$;++B)k=K[B],L=(0,v.default)(k).call(k,"="),L===-1?J[decodeURIComponent(k)]="":J[decodeURIComponent((0,f.default)(k).call(k,0,L))]=decodeURIComponent((0,f.default)(k).call(k,L+1));return J}U.parseString=N,U.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},U.serialize={"application/x-www-form-urlencoded":w,"application/json":x},U.parse={"application/x-www-form-urlencoded":N,"application/json":JSON.parse};function E(H){for(var J=H.split(/\r?\n/),K={},k,L,B,$,z=0,X=J.length;z<X;++z)L=J[z],k=(0,v.default)(L).call(L,":"),k!==-1&&(B=(0,f.default)(L).call(L,0,k).toLowerCase(),$=A((0,f.default)(L).call(L,k+1)),K[B]=$);return K}function M(H){return/[/+]json($|[^-\w])/.test(H)}function W(H){this.req=H,this.xhr=this.req.xhr,this.text=this.req.method!=="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType>"u"?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var J=this.xhr.status;J===1223&&(J=204),this._setStatusProperties(J),this.headers=E(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.text===null&&H._responseType?this.body=this.xhr.response:this.body=this.req.method==="HEAD"?null:this._parseBody(this.text?this.text:this.xhr.response)}T(W.prototype),W.prototype._parseBody=function(H){var J=U.parse[this.type];return this.req._parser?this.req._parser(this,H):(!J&&M(this.type)&&(J=U.parse["application/json"]),J&&H&&(H.length>0||H instanceof Object)?J(H):null)},W.prototype.toError=function(){var H,J,K=this.req,k=K.method,L=K.url,B=(0,d.default)(H=(0,d.default)(J="cannot ".concat(k," ")).call(J,L," (")).call(H,this.status,")"),$=new Error(B);return $.status=this.status,$.method=k,$.url=L,$},U.Response=W;function Q(H,J){var K=this;this._query=this._query||[],this.method=H,this.url=J,this.header={},this._header={},this.on("end",function(){var k=null,L=null;try{L=new W(K)}catch($){return k=new Error("Parser is unable to parse the response"),k.parse=!0,k.original=$,K.xhr?(k.rawResponse=typeof K.xhr.responseType>"u"?K.xhr.responseText:K.xhr.response,k.status=K.xhr.status?K.xhr.status:null,k.statusCode=k.status):(k.rawResponse=null,k.status=null),K.callback(k)}K.emit("response",L);var B;try{K._isResponseOK(L)||(B=new Error(L.statusText||L.text||"Unsuccessful HTTP response"))}catch($){B=$}B?(B.original=k,B.response=L,B.status=L.status,K.callback(B,L)):K.callback(null,L)})}y(Q.prototype),p(Q.prototype),Q.prototype.type=function(H){return this.set("Content-Type",U.types[H]||H),this},Q.prototype.accept=function(H){return this.set("Accept",U.types[H]||H),this},Q.prototype.auth=function(H,J,K){arguments.length===1&&(J=""),h(J)==="object"&&J!==null&&(K=J,J=""),K||(K={type:typeof btoa=="function"?"basic":"auto"});var k=function(B){if(typeof btoa=="function")return btoa(B);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(H,J,K,k)},Q.prototype.query=function(H){return typeof H!="string"&&(H=w(H)),H&&this._query.push(H),this},Q.prototype.attach=function(H,J,K){if(J){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(H,J,K||J.name)}return this},Q.prototype._getFormData=function(){return this._formData||(this._formData=new g.FormData),this._formData},Q.prototype.callback=function(H,J){if(this._shouldRetry(H,J))return this._retry();var K=this._callback;this.clearTimeout(),H&&(this._maxRetries&&(H.retries=this._retries-1),this.emit("error",H)),K(H,J)},Q.prototype.crossDomainError=function(){var H=new Error(`Request has been terminated
Possible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.`);H.crossDomain=!0,H.status=this.status,H.method=this.method,H.url=this.url,this.callback(H)},Q.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},Q.prototype.ca=Q.prototype.agent,Q.prototype.buffer=Q.prototype.ca,Q.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},Q.prototype.pipe=Q.prototype.write,Q.prototype._isHost=function(H){return H&&h(H)==="object"&&!Array.isArray(H)&&Object.prototype.toString.call(H)!=="[object Object]"},Q.prototype.end=function(H){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=H||I,this._finalizeQueryString(),this._end()},Q.prototype._setUploadTimeout=function(){var H=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(function(){H._timeoutError("Upload timeout of ",H._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},Q.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var H=this;this.xhr=U.getXHR();var J=this.xhr,K=this._formData||this._data;this._setTimeouts(),J.onreadystatechange=function(){var z=J.readyState;if(z>=2&&H._responseTimeoutTimer&&clearTimeout(H._responseTimeoutTimer),z===4){var X;try{X=J.status}catch{X=0}if(!X)return H.timedout||H._aborted?void 0:H.crossDomainError();H.emit("end")}};var k=function(X,q){q.total>0&&(q.percent=q.loaded/q.total*100,q.percent===100&&clearTimeout(H._uploadTimeoutTimer)),q.direction=X,H.emit("progress",q)};if(this.hasListeners("progress"))try{J.addEventListener("progress",k.bind(null,"download")),J.upload&&J.upload.addEventListener("progress",k.bind(null,"upload"))}catch{}J.upload&&this._setUploadTimeout();try{this.username&&this.password?J.open(this.method,this.url,!0,this.username,this.password):J.open(this.method,this.url,!0)}catch(z){return this.callback(z)}if(this._withCredentials&&(J.withCredentials=!0),!this._formData&&this.method!=="GET"&&this.method!=="HEAD"&&typeof K!="string"&&!this._isHost(K)){var L=this._header["content-type"],B=this._serializer||U.serialize[L?L.split(";")[0]:""];!B&&M(L)&&(B=U.serialize["application/json"]),B&&(K=B(K))}for(var $ in this.header)this.header[$]!==null&&Object.prototype.hasOwnProperty.call(this.header,$)&&J.setRequestHeader($,this.header[$]);this._responseType&&(J.responseType=this._responseType),this.emit("request",this),J.send(typeof K>"u"?null:K)},U.agent=function(){return new C},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(H){C.prototype[H.toLowerCase()]=function(J,K){var k=new U.Request(H,J);return this._setDefaults(k),K&&k.end(K),k}}),C.prototype.del=C.prototype.delete,U.get=function(H,J,K){var k=U("GET",H);return typeof J=="function"&&(K=J,J=null),J&&k.query(J),K&&k.end(K),k},U.head=function(H,J,K){var k=U("HEAD",H);return typeof J=="function"&&(K=J,J=null),J&&k.query(J),K&&k.end(K),k},U.options=function(H,J,K){var k=U("OPTIONS",H);return typeof J=="function"&&(K=J,J=null),J&&k.send(J),K&&k.end(K),k};function G(H,J,K){var k=U("DELETE",H);return typeof J=="function"&&(K=J,J=null),J&&k.send(J),K&&k.end(K),k}U.del=G,U.delete=G,U.patch=function(H,J,K){var k=U("PATCH",H);return typeof J=="function"&&(K=J,J=null),J&&k.send(J),K&&k.end(K),k},U.post=function(H,J,K){var k=U("POST",H);return typeof J=="function"&&(K=J,J=null),J&&k.send(J),K&&k.end(K),k},U.put=function(H,J,K){var k=U("PUT",H);return typeof J=="function"&&(K=J,J=null),J&&k.send(J),K&&k.end(K),k}},function(i,a,e){i.exports=e(550)},function(i,a,e){var n=e(551);i.exports=n},function(i,a,e){var n=e(12),s=e(552),u=String.prototype;i.exports=function(c){var d=c.trim;return typeof c=="string"||c===u||n(u,c)&&d===u.trim?s:d}},function(i,a,e){e(553);var n=e(26);i.exports=n("String").trim},function(i,a,e){var n=e(0),s=e(554).trim,u=e(555);n({target:"String",proto:!0,forced:u("trim")},{trim:function(){return s(this)}})},function(i,a,e){var n=e(4),s=e(74),u=e(40),c=e(243),d=n("".replace),v="["+c+"]",f=RegExp("^"+v+v+"*"),h=RegExp(v+v+"*$"),g=function(y){return function(x){var p=u(s(x));return y&1&&(p=d(p,f,"")),y&2&&(p=d(p,h,"")),p}};i.exports={start:g(1),end:g(2),trim:g(3)}},function(i,a,e){var n=e(158).PROPER,s=e(3),u=e(243),c="​᠎";i.exports=function(d){return s(function(){return!!u[d]()||c[d]()!==c||n&&u[d].name!==d})}},function(i,a,e){i.exports=n;function n(u){if(u)return s(u)}function s(u){for(var c in n.prototype)u[c]=n.prototype[c];return u}n.prototype.on=n.prototype.addEventListener=function(u,c){return this._callbacks=this._callbacks||{},(this._callbacks["$"+u]=this._callbacks["$"+u]||[]).push(c),this},n.prototype.once=function(u,c){function d(){this.off(u,d),c.apply(this,arguments)}return d.fn=c,this.on(u,d),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(u,c){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var d=this._callbacks["$"+u];if(!d)return this;if(arguments.length==1)return delete this._callbacks["$"+u],this;for(var v,f=0;f<d.length;f++)if(v=d[f],v===c||v.fn===c){d.splice(f,1);break}return d.length===0&&delete this._callbacks["$"+u],this},n.prototype.emit=function(u){this._callbacks=this._callbacks||{};for(var c=new Array(arguments.length-1),d=this._callbacks["$"+u],v=1;v<arguments.length;v++)c[v-1]=arguments[v];if(d){d=d.slice(0);for(var v=0,f=d.length;v<f;++v)d[v].apply(this,c)}return this},n.prototype.listeners=function(u){return this._callbacks=this._callbacks||{},this._callbacks["$"+u]||[]},n.prototype.hasListeners=function(u){return!!this.listeners(u).length}},function(i,a){i.exports=d,d.default=d,d.stable=g,d.stableStringify=g;var e="[...]",n="[Circular]",s=[],u=[];function c(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function d(p,j,T,C){typeof C>"u"&&(C=c()),f(p,"",0,[],void 0,0,C);var I;try{u.length===0?I=JSON.stringify(p,j,T):I=JSON.stringify(p,x(j),T)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;s.length!==0;){var U=s.pop();U.length===4?Object.defineProperty(U[0],U[1],U[3]):U[0][U[1]]=U[2]}}return I}function v(p,j,T,C){var I=Object.getOwnPropertyDescriptor(C,T);I.get!==void 0?I.configurable?(Object.defineProperty(C,T,{value:p}),s.push([C,T,j,I])):u.push([j,T,p]):(C[T]=p,s.push([C,T,j]))}function f(p,j,T,C,I,U,A){U+=1;var w;if(typeof p=="object"&&p!==null){for(w=0;w<C.length;w++)if(C[w]===p){v(n,p,j,I);return}if(typeof A.depthLimit<"u"&&U>A.depthLimit){v(e,p,j,I);return}if(typeof A.edgesLimit<"u"&&T+1>A.edgesLimit){v(e,p,j,I);return}if(C.push(p),Array.isArray(p))for(w=0;w<p.length;w++)f(p[w],w,w,C,p,U,A);else{var P=Object.keys(p);for(w=0;w<P.length;w++){var N=P[w];f(p[N],N,w,C,p,U,A)}}C.pop()}}function h(p,j){return p<j?-1:p>j?1:0}function g(p,j,T,C){typeof C>"u"&&(C=c());var I=y(p,"",0,[],void 0,0,C)||p,U;try{u.length===0?U=JSON.stringify(I,j,T):U=JSON.stringify(I,x(j),T)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;s.length!==0;){var A=s.pop();A.length===4?Object.defineProperty(A[0],A[1],A[3]):A[0][A[1]]=A[2]}}return U}function y(p,j,T,C,I,U,A){U+=1;var w;if(typeof p=="object"&&p!==null){for(w=0;w<C.length;w++)if(C[w]===p){v(n,p,j,I);return}try{if(typeof p.toJSON=="function")return}catch{return}if(typeof A.depthLimit<"u"&&U>A.depthLimit){v(e,p,j,I);return}if(typeof A.edgesLimit<"u"&&T+1>A.edgesLimit){v(e,p,j,I);return}if(C.push(p),Array.isArray(p))for(w=0;w<p.length;w++)y(p[w],w,w,C,p,U,A);else{var P={},N=Object.keys(p).sort(h);for(w=0;w<N.length;w++){var E=N[w];y(p[E],E,w,C,p,U,A),P[E]=p[E]}if(typeof I<"u")s.push([I,j,p]),I[j]=P;else return P}C.pop()}}function x(p){return p=typeof p<"u"?p:function(j,T){return T},function(j,T){if(u.length>0)for(var C=0;C<u.length;C++){var I=u[C];if(I[1]===j&&I[0]===T){T=I[2],u.splice(C,1);break}}return p.call(this,j,T)}}},function(i,a,e){var n=e(1),s=n(e(87)),u=n(e(144)),c=n(e(559)),d=n(e(10)),v=n(e(25)),f=n(e(68)),h=n(e(38)),g=n(e(569));function y(C){"@babel/helpers - typeof";return typeof s.default=="function"&&typeof u.default=="symbol"?y=function(U){return typeof U}:y=function(U){return U&&typeof s.default=="function"&&U.constructor===s.default&&U!==s.default.prototype?"symbol":typeof U},y(C)}var x=e(244);i.exports=p;function p(C){if(C)return j(C)}function j(C){for(var I in p.prototype)Object.prototype.hasOwnProperty.call(p.prototype,I)&&(C[I]=p.prototype[I]);return C}p.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},p.prototype.parse=function(C){return this._parser=C,this},p.prototype.responseType=function(C){return this._responseType=C,this},p.prototype.serialize=function(C){return this._serializer=C,this},p.prototype.timeout=function(C){if(!C||y(C)!=="object")return this._timeout=C,this._responseTimeout=0,this._uploadTimeout=0,this;for(var I in C)if(Object.prototype.hasOwnProperty.call(C,I))switch(I){case"deadline":this._timeout=C.deadline;break;case"response":this._responseTimeout=C.response;break;case"upload":this._uploadTimeout=C.upload;break;default:console.warn("Unknown timeout option",I)}return this},p.prototype.retry=function(C,I){return(arguments.length===0||C===!0)&&(C=1),C<=0&&(C=0),this._maxRetries=C,this._retries=0,this._retryCallback=I,this};var T=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];p.prototype._shouldRetry=function(C,I){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var U=this._retryCallback(C,I);if(U===!0)return!0;if(U===!1)return!1}catch(A){console.error(A)}return!!(I&&I.status&&I.status>=500&&I.status!==501||C&&(C.code&&(0,c.default)(T).call(T,C.code)||C.timeout&&C.code==="ECONNABORTED"||C.crossDomain))},p.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},p.prototype.then=function(C,I){var U=this;if(!this._fullfilledPromise){var A=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new d.default(function(w,P){A.on("abort",function(){if(!(U._maxRetries&&U._maxRetries>U._retries)){if(U.timedout&&U.timedoutError){P(U.timedoutError);return}var N=new Error("Aborted");N.code="ABORTED",N.status=U.status,N.method=U.method,N.url=U.url,P(N)}}),A.end(function(N,E){N?P(N):w(E)})})}return this._fullfilledPromise.then(C,I)},p.prototype.catch=function(C){return this.then(void 0,C)},p.prototype.use=function(C){return C(this),this},p.prototype.ok=function(C){if(typeof C!="function")throw new Error("Callback required");return this._okCallback=C,this},p.prototype._isResponseOK=function(C){return C?this._okCallback?this._okCallback(C):C.status>=200&&C.status<300:!1},p.prototype.get=function(C){return this._header[C.toLowerCase()]},p.prototype.getHeader=p.prototype.get,p.prototype.set=function(C,I){if(x(C)){for(var U in C)Object.prototype.hasOwnProperty.call(C,U)&&this.set(U,C[U]);return this}return this._header[C.toLowerCase()]=I,this.header[C]=I,this},p.prototype.unset=function(C){return delete this._header[C.toLowerCase()],delete this.header[C],this},p.prototype.field=function(C,I){if(C==null)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(x(C)){for(var U in C)Object.prototype.hasOwnProperty.call(C,U)&&this.field(U,C[U]);return this}if(Array.isArray(I)){for(var A in I)Object.prototype.hasOwnProperty.call(I,A)&&this.field(C,I[A]);return this}if(I==null)throw new Error(".field(name, val) val can not be empty");return typeof I=="boolean"&&(I=String(I)),this._getFormData().append(C,I),this},p.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},p.prototype._auth=function(C,I,U,A){var w;switch(U.type){case"basic":this.set("Authorization","Basic ".concat(A((0,v.default)(w="".concat(C,":")).call(w,I))));break;case"auto":this.username=C,this.password=I;break;case"bearer":this.set("Authorization","Bearer ".concat(C));break}return this},p.prototype.withCredentials=function(C){return C===void 0&&(C=!0),this._withCredentials=C,this},p.prototype.redirects=function(C){return this._maxRedirects=C,this},p.prototype.maxResponseSize=function(C){if(typeof C!="number")throw new TypeError("Invalid argument");return this._maxResponseSize=C,this},p.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},p.prototype.send=function(C){var I=x(C),U=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(I&&!this._data)Array.isArray(C)?this._data=[]:this._isHost(C)||(this._data={});else if(C&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(I&&x(this._data))for(var A in C)Object.prototype.hasOwnProperty.call(C,A)&&(this._data[A]=C[A]);else if(typeof C=="string")if(U||this.type("form"),U=this._header["content-type"],U==="application/x-www-form-urlencoded"){var w;this._data=this._data?(0,v.default)(w="".concat(this._data,"&")).call(w,C):C}else this._data=(this._data||"")+C;else this._data=C;return!I||this._isHost(C)?this:(U||this.type("json"),this)},p.prototype.sortQuery=function(C){return this._sort=typeof C>"u"?!0:C,this},p.prototype._finalizeQueryString=function(){var C=this._query.join("&");if(C){var I;this.url+=((0,c.default)(I=this.url).call(I,"?")?"&":"?")+C}if(this._query.length=0,this._sort){var U,A=(0,f.default)(U=this.url).call(U,"?");if(A>=0){var w,P,N=(0,h.default)(w=this.url).call(w,A+1).split("&");typeof this._sort=="function"?(0,g.default)(N).call(N,this._sort):(0,g.default)(N).call(N),this.url=(0,h.default)(P=this.url).call(P,0,A)+"?"+N.join("&")}}},p.prototype._appendQueryString=function(){console.warn("Unsupported")},p.prototype._timeoutError=function(C,I,U){if(!this._aborted){var A=new Error("".concat(C+I,"ms exceeded"));A.timeout=I,A.code="ECONNABORTED",A.errno=U,this.timedout=!0,this.timedoutError=A,this.abort(),this.callback(A)}},p.prototype._setTimeouts=function(){var C=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){C._timeoutError("Timeout of ",C._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){C._timeoutError("Response timeout of ",C._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},function(i,a,e){i.exports=e(560)},function(i,a,e){var n=e(561);i.exports=n},function(i,a,e){var n=e(12),s=e(562),u=e(564),c=Array.prototype,d=String.prototype;i.exports=function(v){var f=v.includes;return v===c||n(c,v)&&f===c.includes?s:typeof v=="string"||v===d||n(d,v)&&f===d.includes?u:f}},function(i,a,e){e(563);var n=e(26);i.exports=n("Array").includes},function(i,a,e){var n=e(0),s=e(115).includes,u=e(3),c=e(122),d=u(function(){return!Array(1).includes()});n({target:"Array",proto:!0,forced:d},{includes:function(f){return s(this,f,arguments.length>1?arguments[1]:void 0)}}),c("includes")},function(i,a,e){e(565);var n=e(26);i.exports=n("String").includes},function(i,a,e){var n=e(0),s=e(4),u=e(566),c=e(74),d=e(40),v=e(568),f=s("".indexOf);n({target:"String",proto:!0,forced:!v("includes")},{includes:function(g){return!!~f(d(c(this)),d(u(g)),arguments.length>1?arguments[1]:void 0)}})},function(i,a,e){var n=e(567),s=TypeError;i.exports=function(u){if(n(u))throw s("The method doesn't accept regular expressions");return u}},function(i,a,e){var n=e(17),s=e(54),u=e(5),c=u("match");i.exports=function(d){var v;return n(d)&&((v=d[c])!==void 0?!!v:s(d)=="RegExp")}},function(i,a,e){var n=e(5),s=n("match");i.exports=function(u){var c=/./;try{"/./"[u](c)}catch{try{return c[s]=!1,"/./"[u](c)}catch{}}return!1}},function(i,a,e){i.exports=e(570)},function(i,a,e){var n=e(571);i.exports=n},function(i,a,e){var n=e(12),s=e(572),u=Array.prototype;i.exports=function(c){var d=c.sort;return c===u||n(u,c)&&d===u.sort?s:d}},function(i,a,e){e(573);var n=e(26);i.exports=n("Array").sort},function(i,a,e){var n=e(0),s=e(4),u=e(28),c=e(33),d=e(36),v=e(574),f=e(40),h=e(3),g=e(575),y=e(139),x=e(576),p=e(577),j=e(56),T=e(578),C=[],I=s(C.sort),U=s(C.push),A=h(function(){C.sort(void 0)}),w=h(function(){C.sort(null)}),P=y("sort"),N=!h(function(){if(j)return j<70;if(!(x&&x>3)){if(p)return!0;if(T)return T<603;var W="",Q,G,H,J;for(Q=65;Q<76;Q++){switch(G=String.fromCharCode(Q),Q){case 66:case 69:case 70:case 72:H=3;break;case 68:case 71:H=4;break;default:H=2}for(J=0;J<47;J++)C.push({k:G+J,v:H})}for(C.sort(function(K,k){return k.v-K.v}),J=0;J<C.length;J++)G=C[J].k.charAt(0),W.charAt(W.length-1)!==G&&(W+=G);return W!=="DGBEFHACIJK"}}),E=A||!w||!P||!N,M=function(W){return function(Q,G){return G===void 0?-1:Q===void 0?1:W!==void 0?+W(Q,G)||0:f(Q)>f(G)?1:-1}};n({target:"Array",proto:!0,forced:E},{sort:function(Q){Q!==void 0&&u(Q);var G=c(this);if(N)return Q===void 0?I(G):I(G,Q);var H=[],J=d(G),K,k;for(k=0;k<J;k++)k in G&&U(H,G[k]);for(g(H,M(Q)),K=H.length,k=0;k<K;)G[k]=H[k++];for(;k<J;)v(G,k++);return G}})},function(i,a,e){var n=e(57),s=TypeError;i.exports=function(u,c){if(!delete u[c])throw s("Cannot delete property "+n(c)+" of "+n(u))}},function(i,a,e){var n=e(231),s=Math.floor,u=function(v,f){var h=v.length,g=s(h/2);return h<8?c(v,f):d(v,u(n(v,0,g),f),u(n(v,g),f),f)},c=function(v,f){for(var h=v.length,g=1,y,x;g<h;){for(x=g,y=v[g];x&&f(v[x-1],y)>0;)v[x]=v[--x];x!==g++&&(v[x]=y)}return v},d=function(v,f,h,g){for(var y=f.length,x=h.length,p=0,j=0;p<y||j<x;)v[p+j]=p<y&&j<x?g(f[p],h[j])<=0?f[p++]:h[j++]:p<y?f[p++]:h[j++];return v};i.exports=u},function(i,a,e){var n=e(45),s=n.match(/firefox\/(\d+)/i);i.exports=!!s&&+s[1]},function(i,a,e){var n=e(45);i.exports=/MSIE|Trident/.test(n)},function(i,a,e){var n=e(45),s=n.match(/AppleWebKit\/(\d+)\./);i.exports=!!s&&+s[1]},function(i,a,e){var n=e(580);i.exports=s;function s(c){if(c)return u(c)}function u(c){for(var d in s.prototype)Object.prototype.hasOwnProperty.call(s.prototype,d)&&(c[d]=s.prototype[d]);return c}s.prototype.get=function(c){return this.header[c.toLowerCase()]},s.prototype._setHeaderProperties=function(c){var d=c["content-type"]||"";this.type=n.type(d);var v=n.params(d);for(var f in v)Object.prototype.hasOwnProperty.call(v,f)&&(this[f]=v[f]);this.links={};try{c.link&&(this.links=n.parseLinks(c.link))}catch{}},s.prototype._setStatusProperties=function(c){var d=c/100|0;this.statusCode=c,this.status=this.statusCode,this.statusType=d,this.info=d===1,this.ok=d===2,this.redirect=d===3,this.clientError=d===4,this.serverError=d===5,this.error=d===4||d===5?this.toError():!1,this.created=c===201,this.accepted=c===202,this.noContent=c===204,this.badRequest=c===400,this.unauthorized=c===401,this.notAcceptable=c===406,this.forbidden=c===403,this.notFound=c===404,this.unprocessableEntity=c===422}},function(i,a,e){var n=e(1),s=n(e(581)),u=n(e(38));a.type=function(c){return c.split(/ *; */).shift()},a.params=function(c){var d;return(0,s.default)(d=c.split(/ *; */)).call(d,function(v,f){var h=f.split(/ *= */),g=h.shift(),y=h.shift();return g&&y&&(v[g]=y),v},{})},a.parseLinks=function(c){var d;return(0,s.default)(d=c.split(/ *, */)).call(d,function(v,f){var h,g,y=f.split(/ *; */),x=(0,u.default)(h=y[0]).call(h,1,-1),p=(0,u.default)(g=y[1].split(/ *= */)[1]).call(g,1,-1);return v[p]=x,v},{})},a.cleanHeader=function(c,d){return delete c["content-type"],delete c["content-length"],delete c["transfer-encoding"],delete c.host,d&&(delete c.authorization,delete c.cookie),c}},function(i,a,e){i.exports=e(582)},function(i,a,e){var n=e(583);i.exports=n},function(i,a,e){var n=e(12),s=e(584),u=Array.prototype;i.exports=function(c){var d=c.reduce;return c===u||n(u,c)&&d===u.reduce?s:d}},function(i,a,e){e(585);var n=e(26);i.exports=n("Array").reduce},function(i,a,e){var n=e(0),s=e(586).left,u=e(139),c=e(56),d=e(97),v=u("reduce"),f=!d&&c>79&&c<83;n({target:"Array",proto:!0,forced:!v||f},{reduce:function(g){var y=arguments.length;return s(this,g,y,y>1?arguments[1]:void 0)}})},function(i,a,e){var n=e(28),s=e(33),u=e(109),c=e(36),d=TypeError,v=function(f){return function(h,g,y,x){n(g);var p=s(h),j=u(p),T=c(p),C=f?T-1:0,I=f?-1:1;if(y<2)for(;;){if(C in j){x=j[C],C+=I;break}if(C+=I,f?C<0:T<=C)throw d("Reduce of empty array with no initial value")}for(;f?C>=0:T>C;C+=I)C in j&&(x=g(x,j[C],C,p));return x}};i.exports={left:v(!1),right:v(!0)}},function(i,a,e){var n=e(1),s=n(e(38)),u=n(e(236)),c=n(e(87)),d=n(e(588));function v(j){return y(j)||g(j)||h(j)||f()}function f(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h(j,T){var C;if(j){if(typeof j=="string")return x(j,T);var I=(0,s.default)(C=Object.prototype.toString.call(j)).call(C,8,-1);if(I==="Object"&&j.constructor&&(I=j.constructor.name),I==="Map"||I==="Set")return(0,u.default)(j);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return x(j,T)}}function g(j){if(typeof c.default<"u"&&(0,d.default)(Object(j)))return(0,u.default)(j)}function y(j){if(Array.isArray(j))return x(j)}function x(j,T){(T==null||T>j.length)&&(T=j.length);for(var C=0,I=new Array(T);C<T;C++)I[C]=j[C];return I}function p(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"].forEach(function(j){p.prototype[j]=function(){for(var T=arguments.length,C=new Array(T),I=0;I<T;I++)C[I]=arguments[I];return this._defaults.push({fn:j,args:C}),this}}),p.prototype._setDefaults=function(j){this._defaults.forEach(function(T){j[T.fn].apply(j,v(T.args))})},i.exports=p},function(i,a,e){i.exports=e(589)},function(i,a,e){i.exports=e(590)},function(i,a,e){var n=e(591);i.exports=n},function(i,a,e){var n=e(592);i.exports=n},function(i,a,e){var n=e(593);e(63),i.exports=n},function(i,a,e){e(60),e(79);var n=e(594);i.exports=n},function(i,a,e){var n=e(47),s=e(13),u=e(5),c=e(46),d=u("iterator"),v=Object;i.exports=function(f){var h=v(f);return h[d]!==void 0||"@@iterator"in h||s(c,n(h))}}])})}(si)),si.exports}var Lv=Uv();const Oe=yl(Lv),ol={appId:"zgIzsvGerDuX3SJmLsKDKs6k-gzGzoHsz",appKey:"wyqlYopPy4q7z9rUo9SaWeY8",serverURL:"https://zgizsvge.lc-cn-n1-shared.com"};try{Oe.init({appId:ol.appId,appKey:ol.appKey,serverURL:ol.serverURL}),console.log("LeanCloud 初始化成功")}catch(b){console.error("LeanCloud 初始化失败:",b)}class As{static async hashPassword(R){const i=new TextEncoder().encode(R+"purplenight_salt"),a=await crypto.subtle.digest("SHA-256",i);return Array.from(new Uint8Array(a)).map(s=>s.toString(16).padStart(2,"0")).join("")}static async verifyPassword(R,D){return await this.hashPassword(R)===D}}class we{static getCourseNumber(R){return R>=1&&R<=7?`1.${R}`:R>=8&&R<=13?`2.${R-7}`:R>=14&&R<=18?`3.${R-13}`:R>=19&&R<=23?`4.${R-18}`:R>=24&&R<=29?`5.${R-23}`:R.toString()}static async login(R,D){try{try{const i=await Oe.User.logIn(R,D),a=i.get("role"),e=i.get("guild");if((a==="admin"||a==="guild_admin"||a==="super_admin"||a==="instructor")&&e==="purplenight")return{id:i.id,username:i.get("username"),email:i.get("email"),nickname:i.get("nickname")||i.get("username"),joinDate:i.get("createdAt"),isActive:i.get("isActive")!==!1,role:a,guild:e,permissions:i.get("permissions")||[]};if(a==="student"&&e==="purplenight")try{const n=new Oe.Query("Student");n.equalTo("userId",i.id);const s=await n.first();if(s){const u=s.get("isActive");if(u===!1)throw await Oe.User.logOut(),new Error("账户已被停用，请联系管理员");return{id:i.id,username:i.get("username"),email:s.get("email")||i.get("email"),nickname:s.get("nickname")||i.get("nickname")||i.get("username"),joinDate:i.get("createdAt"),isActive:u!==!1,role:"student",level:s.get("level")||"未新训",guild:e,mentor:i.get("mentor")}}else return{id:i.id,username:i.get("username"),email:i.get("email"),nickname:i.get("nickname")||i.get("username"),joinDate:i.get("createdAt"),isActive:i.get("isActive")!==!1,role:"student",level:i.get("level")||"未新训",guild:e,mentor:i.get("mentor")}}catch(n){if(n.message==="账户已被停用，请联系管理员")throw n;return{id:i.id,username:i.get("username"),email:i.get("email"),nickname:i.get("nickname")||i.get("username"),joinDate:i.get("createdAt"),isActive:i.get("isActive")!==!1,role:"student",level:i.get("level")||"未新训",guild:e,mentor:i.get("mentor")}}throw await Oe.User.logOut(),new Error("此账户不属于紫夜公会")}catch{console.log("_User登录失败，尝试Student表登录");const a=new Oe.Query("Student");a.equalTo("username",R),a.equalTo("guild","purplenight");const e=await a.first();if(!e)throw new Error("用户不存在");const n=e.get("password");if(!await As.verifyPassword(D,n))throw new Error("密码错误");const u=e.get("isActive");if(u===!1)throw new Error("账户已被停用，请联系管理员");const c={id:e.id,username:e.get("username"),email:e.get("email")||`${e.get("qqNumber")}@qq.com`,nickname:e.get("nickname"),joinDate:e.get("joinDate")||e.get("createdAt"),isActive:u!==!1,role:"student",level:e.get("level")||"未新训",guild:e.get("guild"),mentor:e.get("mentor"),qqNumber:e.get("qqNumber")};return localStorage.setItem("currentStudentUser",JSON.stringify(c)),c}}catch{throw new Error("登录失败，请检查用户名和密码")}}static async register(R,D,i,a){return this.registerStudent(R,D,i,a)}static async registerStudent(R,D,i,a){try{const e=new Oe.Query("Student");if(e.equalTo("username",R),await e.first())throw new Error("用户名已存在");const s=new Oe.Object("Student");s.set("username",R),s.set("password",D),s.set("email",i),s.set("nickname",a),s.set("isActive",!0),s.set("role","student"),s.set("level","未新训"),s.set("guild","purplenight");const u=await s.save();return{id:u.id,username:R,email:i,nickname:a,joinDate:u.get("createdAt"),isActive:!0,role:"student",level:"未新训",guild:"purplenight"}}catch(e){throw new Error("注册失败: "+(e instanceof Error?e.message:"未知错误"))}}static async registerAdmin(R,D,i,a,e,n){try{const s=new Oe.User;s.setUsername(R),s.setPassword(D),s.setEmail(i),s.set("nickname",a),s.set("isActive",!0),s.set("role",e),s.set("guild","purplenight"),s.set("permissions",n);const u=await s.signUp();return{id:u.id,username:u.get("username"),email:u.get("email"),nickname:u.get("nickname"),joinDate:u.get("createdAt"),isActive:!0,role:e,guild:"purplenight",permissions:n}}catch{throw new Error("注册失败，用户名可能已存在")}}static async logout(){try{await Oe.User.logOut()}catch(R){console.error("_User登出失败:",R)}try{localStorage.removeItem("currentStudentUser")}catch(R){console.error("清理Student用户信息失败:",R)}}static async changePassword(R,D){try{if(!this.getCurrentUser())throw new Error("用户未登录");const a=Oe.User.current();if(a){await a.updatePassword(R,D);return}const e=localStorage.getItem("currentStudentUser");if(e){const n=JSON.parse(e),u=await new Oe.Query("Student").get(n.id);if(!u)throw new Error("学员记录不存在");const c=u.get("password");if(!await As.verifyPassword(R,c))throw new Error("当前密码不正确");const v=await As.hashPassword(D);u.set("password",v),await u.save(),console.log("Student用户密码修改成功");return}throw new Error("无法确定用户类型")}catch(i){throw i.message==="当前密码不正确"||i.message==="用户未登录"||i.message==="学员记录不存在"||i.message==="无法确定用户类型"?i:i.code===210?new Error("当前密码不正确"):i.code===125?new Error("邮箱地址无效"):new Error("修改密码失败: "+(i.message||"未知错误"))}}static getCurrentUser(){const R=Oe.User.current();if(R){const D=R.get("role"),i=R.get("guild");if((D==="admin"||D==="guild_admin"||D==="super_admin"||D==="instructor")&&i==="purplenight")return{id:R.id,username:R.get("username"),email:R.get("email"),nickname:R.get("nickname")||R.get("username"),joinDate:R.get("createdAt"),isActive:R.get("isActive")!==!1,role:D,guild:i,permissions:R.get("permissions")||[]};if(D==="student"&&i==="purplenight")return{id:R.id,username:R.get("username"),email:R.get("email"),nickname:R.get("nickname")||R.get("username"),joinDate:R.get("createdAt"),isActive:R.get("isActive")!==!1,role:"student",level:R.get("level")||"未新训",guild:i,mentor:R.get("mentor")}}try{const D=localStorage.getItem("currentStudentUser");if(D){const i=JSON.parse(D);if(i.id&&i.username&&i.role==="student")return i}}catch(D){console.warn("解析Student用户信息失败:",D),localStorage.removeItem("currentStudentUser")}return null}static isAdmin(){const R=this.getCurrentUser();return R?["guild_admin","super_admin","admin"].includes(R.role):!1}static async getStudentById(R){try{const i=(await this.getAllUsers()).find(a=>a.id===R);if(!i)throw new Error("用户不存在");if(i.role!=="student")throw new Error("该用户不是学员");return{id:i.id,username:i.username,nickname:i.nickname,email:i.email,level:i.level||"未新训",isActive:i.isActive,studentId:i.username,name:i.nickname,guild:i.guild}}catch(D){throw console.error("获取学员信息失败:",D),new Error("获取学员信息失败")}}static async getStudentCourseProgress(R){try{const D=new Oe.Query("CourseProgress");return D.equalTo("userId",R),(await D.find()).map(a=>({id:a.id,courseId:a.get("courseId"),courseName:a.get("courseName"),courseCategory:a.get("courseCategory"),courseOrder:a.get("courseOrder")||1,progress:a.get("progress")||0,status:a.get("status")||"not_started",lastStudyDate:a.get("lastStudyDate")}))}catch(D){throw console.error("获取课程进度失败:",D),new Error("获取课程进度失败")}}static async assignCourseToStudent(R,D){try{const a=(await this.getAllUsers()).find(v=>v.id===R);if(!a)throw new Error("用户不存在");if(a.role!=="student")throw new Error("该用户不是学员");const e=new Oe.Query("Course");e.equalTo("objectId",D);const n=await e.first();if(!n)throw new Error("课程不存在");const s=new Oe.Query("CourseProgress");if(s.equalTo("userId",R),s.equalTo("courseId",D),await s.first())throw new Error("该课程已经分配给此学员");const c=Oe.Object.extend("CourseProgress"),d=new c;d.set("userId",R),d.set("courseId",D),d.set("courseName",n.get("name")),d.set("courseCategory",n.get("category")),d.set("courseOrder",n.get("order")),d.set("progress",0),d.set("status","not_started"),d.set("lastStudyDate",null),await d.save()}catch(i){throw console.error("分配课程失败:",i),new Error(i.message||"分配课程失败")}}static async getAllCourses(){try{const R=new Oe.Query("Course");return R.ascending("order"),(await R.find()).map(i=>({id:i.id,name:i.get("name"),category:i.get("category"),order:i.get("order"),description:i.get("description")}))}catch{throw new Error("获取课程列表失败")}}static async getAllStudents(){try{const R=new Oe.Query("Student");return R.equalTo("guild","purplenight"),(await R.find()).map(i=>({id:i.id,username:i.get("username"),email:i.get("email"),nickname:i.get("nickname")||i.get("username"),joinDate:i.get("createdAt"),isActive:i.get("isActive")!==!1,role:"student",level:i.get("level")||"未新训",guild:i.get("guild")||"purplenight",mentor:i.get("mentor")}))}catch{throw new Error("获取学员列表失败")}}static async getCourses(){try{const R=new Oe.Query("Course");return R.ascending("order"),(await R.find()).map(i=>({id:i.id,name:i.get("name"),description:i.get("description"),totalLessons:i.get("totalLessons"),category:i.get("category"),difficulty:i.get("difficulty"),createdAt:i.get("createdAt"),order:i.get("order")}))}catch{throw new Error("获取课程列表失败")}}static async getUserCourseProgress(R){try{const D=new Oe.Query("CourseProgress");return D.equalTo("userId",R),D.include("course"),(await D.find()).map(a=>{const e=a.get("course");return{id:a.id,userId:R,courseId:a.get("courseId"),courseName:e?e.get("name"):a.get("courseName")||"",courseCategory:e?e.get("category"):a.get("courseCategory")||"",completedLessons:a.get("completedLessons"),totalLessons:e?e.get("totalLessons"):a.get("totalLessons"),progress:a.get("progress"),lastStudyDate:a.get("lastStudyDate"),status:a.get("status"),notes:a.get("notes"),courseOrder:e?e.get("order"):a.get("courseOrder")||1}})}catch{throw new Error("获取学习进度失败")}}static async updateCourseProgress(R,D){let a;for(let e=1;e<=3;e++)try{const s=await new Oe.Query("CourseProgress").get(R);Object.keys(D).forEach(u=>{D[u]!==void 0&&s.set(u,D[u])}),await s.save();return}catch(n){if(a=n,(n.code===429||n.status===429)&&e<3){const s=Math.pow(2,e)*1e3;console.warn(`请求限流，${s/1e3}秒后重试 (尝试 ${e}/3)`),await new Promise(u=>setTimeout(u,s));continue}break}throw a.code===429||a.status===429?new Error("请求过于频繁，请稍后再试"):a.code===101?new Error("找不到指定的进度记录"):a.code===403?new Error("没有权限更新此记录"):(console.error("更新学习进度失败:",a),new Error(`更新学习进度失败: ${a.message||"未知错误"}`))}static async getUserTrainingReports(R){try{const D=new Oe.Query("TrainingReport");return D.equalTo("userId",R),D.descending("createdAt"),(await D.find()).map(a=>({id:a.id,userId:a.get("userId"),reportType:a.get("reportType"),period:a.get("period"),overallProgress:a.get("overallProgress"),completedCourses:a.get("completedCourses"),totalCourses:a.get("totalCourses"),studyHours:a.get("studyHours"),achievements:a.get("achievements")||[],recommendations:a.get("recommendations")||[],createdAt:a.get("createdAt")}))}catch{throw new Error("获取培训报告失败")}}static calculateMemberLevel(R){const D=R.filter(e=>e.status==="completed"),i={入门课程:D.filter(e=>e.courseCategory==="入门课程").length,标准技能一阶课程:D.filter(e=>e.courseCategory==="标准技能一阶课程").length,标准技能二阶课程:D.filter(e=>e.courseCategory==="标准技能二阶课程").length,团队训练:D.filter(e=>e.courseCategory==="团队训练").length,进阶课程:D.filter(e=>e.courseCategory==="进阶课程").length},a={入门课程:7,标准技能一阶课程:6,标准技能二阶课程:5,团队训练:5,进阶课程:6};return i.进阶课程===a.进阶课程?{level:"紫夜尖兵",description:"已完成所有进阶课程，成为紫夜公会的精英成员",requirements:["完成所有进阶课程(6/6)"]}:i.团队训练===a.团队训练?{level:"新训准考",description:"已完成团队训练，准备参加新训考核",requirements:["完成所有团队训练课程(5/5)"]}:i.标准技能二阶课程===a.标准技能二阶课程?{level:"新训三期",description:"已完成标准技能二阶课程",requirements:["完成所有标准技能二阶课程(5/5)"]}:i.标准技能一阶课程===a.标准技能一阶课程?{level:"新训二期",description:"已完成标准技能一阶课程",requirements:["完成所有标准技能一阶课程(6/6)"]}:i.入门课程===a.入门课程?{level:"新训一期",description:"已完成入门课程",requirements:["完成所有入门课程(7/7)"]}:i.入门课程>0?{level:"新训初期",description:"已开始入门课程学习",requirements:[`已完成入门课程 ${i.入门课程}/7`]}:{level:"未新训",description:"尚未开始任何课程",requirements:["需要开始入门课程学习"]}}static async getStudentActualLevel(R){try{const i=await new Oe.Query("Student").get(R);if(!i)return"未新训";const a=i.get("level");if(a&&a!=="未新训")return a;const e=await this.getUserCourseProgress(R);return e.length>0?this.calculateMemberLevel(e).level:"未新训"}catch(D){return console.error("获取学员等级失败:",D),"未新训"}}static getMemberLevelProgress(R,D){let i;D&&D!=="未新训"?["新训初期","新训一期","新训二期","新训三期","新训准考","正式队员","紫夜尖兵"].includes(D)?D==="正式队员"?i={level:"正式队员",description:"已通过新训考核的正式队员",requirements:["通过新训考核"]}:D==="紫夜尖兵"?i={level:"紫夜尖兵",description:"完成所有训练的精英队员",requirements:["完成所有进阶课程"]}:i={level:D,description:"手动设置的等级",requirements:["管理员手动设置"]}:i=this.calculateMemberLevel(R):i=this.calculateMemberLevel(R);const a=R.filter(u=>u.status==="completed"),e={入门课程:a.filter(u=>u.courseCategory==="入门课程").length,标准技能一阶课程:a.filter(u=>u.courseCategory==="标准技能一阶课程").length,标准技能二阶课程:a.filter(u=>u.courseCategory==="标准技能二阶课程").length,团队训练:a.filter(u=>u.courseCategory==="团队训练").length,进阶课程:a.filter(u=>u.courseCategory==="进阶课程").length};let n,s=0;switch(i.level){case"未新训":n={level:"新训初期",description:"开始入门课程学习",requirements:["完成第一节入门课程"]},s=0;break;case"新训初期":n={level:"新训一期",description:"完成入门课程",requirements:["完成所有入门课程(7/7)"]},s=Math.round(e.入门课程/7*100);break;case"新训一期":n={level:"新训二期",description:"完成标准技能一阶课程",requirements:["完成所有标准技能一阶课程(6/6)"]},s=Math.round(e.标准技能一阶课程/6*100);break;case"新训二期":n={level:"新训三期",description:"完成标准技能二阶课程",requirements:["完成所有标准技能二阶课程(5/5)"]},s=Math.round(e.标准技能二阶课程/5*100);break;case"新训三期":n={level:"新训准考",description:"完成团队训练",requirements:["完成所有团队训练课程(5/5)"]},s=Math.round(e.团队训练/5*100);break;case"新训准考":n={level:"正式队员",description:"通过新训考核",requirements:["通过新训考核"]},s=0;break;case"正式队员":n={level:"紫夜尖兵",description:"完成进阶课程",requirements:["完成所有进阶课程(6/6)"]},s=Math.round(e.进阶课程/6*100);break;case"紫夜尖兵":s=100;break}return{current:i,next:n,progressToNext:s}}static async getAllUsers(){try{const R=new Oe.Query("Student");R.equalTo("guild","purplenight");const D=await R.find(),i=D.map(e=>e.id),a=new Map;if(i.length>0)try{const e=new Oe.Query("CourseProgress");e.containedIn("userId",i),e.limit(1e3),(await e.find()).forEach(s=>{const u=s.get("userId");u&&i.includes(u)&&(a.has(u)||a.set(u,[]),a.get(u).push({status:s.get("status"),courseCategory:s.get("courseCategory")}))})}catch(e){console.warn("获取课程进度失败:",e)}return D.map(e=>{const n=e.id,s=a.get(n)||[];let u="未新训";const c=e.get("level");c&&c!=="未新训"?u=c:s.length>0&&(u=this.calculateMemberLevel(s).level);const d=e.get("qqNumber"),v=e.get("email")||(d?`${d}@qq.com`:"");return{id:e.id,username:e.get("username")||e.get("studentId"),email:v,nickname:e.get("nickname")||e.get("name"),joinDate:e.get("createdAt"),isActive:e.get("isActive")!==!1,role:"student",permissions:[],studentId:e.get("studentId"),level:u,qqNumber:d}})}catch(R){return console.error("获取用户列表失败:",R),[]}}static async getAllCourseProgress(){try{const R=new Oe.Query("CourseProgress");R.include("course"),R.limit(1e3);const D=await R.find(),i=await this.getAllUsers(),a=new Map;i.forEach(n=>{a.set(n.id,{nickname:n.nickname,username:n.username,studentId:n.studentId})}),console.log(`找到 ${i.length} 个用户记录`);const e=[...new Set(D.map(n=>n.get("userId")))];return console.log("CourseProgress中的用户ID:",e.length),console.log("未找到用户记录的ID:",e.filter(n=>!a.has(n))),D.map(n=>{const s=n.get("userId"),u=a.get(s),c=n.get("course");let d="未知用户";return u?d=u.nickname||u.username||u.studentId||"未知用户":d=`未知用户 (${s?s.slice(0,8):"N/A"}...)`,{id:n.id,userId:s,userName:d,courseId:n.get("courseId"),courseName:c?c.get("name"):n.get("courseName")||"",courseCategory:c?c.get("category"):n.get("courseCategory")||"",completedLessons:n.get("completedLessons"),totalLessons:c?c.get("totalLessons"):n.get("totalLessons"),progress:n.get("progress"),lastStudyDate:n.get("lastStudyDate"),status:n.get("status"),notes:n.get("notes"),courseOrder:c?c.get("order"):n.get("courseOrder")||1}})}catch{throw new Error("获取进度数据失败")}}static async updateUserRole(R,D,i){try{const e=await new Oe.Query(Oe.User).get(R);e.set("role",D),e.set("permissions",i),await e.save()}catch{throw new Error("更新用户角色失败")}}static async updateUser(R,D){try{const i=new Oe.Query("Student");i.equalTo("userId",R);const a=await i.first();if(!a)throw new Error("未找到对应的学员记录");if(D.email&&(a.set("email",D.email),D.email.includes("@qq.com"))){const e=D.email.replace("@qq.com","");a.set("qqNumber",e)}D.nickname&&a.set("nickname",D.nickname),D.isActive!==void 0&&a.set("isActive",D.isActive),await a.save(),D.role&&D.role!=="student"&&console.warn("角色更新需要后端管理员权限，当前更新已忽略role字段")}catch(i){throw new Error("更新用户失败: "+i.message)}}static async deleteUser(R){try{const i=await new Oe.Query("Student").get(R);if(!i)throw new Error("未找到对应的学员记录");const a=new Oe.Query("CourseProgress");a.equalTo("userId",R);const e=await a.find();e.length>0&&(await Oe.Object.destroyAll(e),console.log(`删除了 ${e.length} 条课程进度记录`)),await i.destroy(),console.log(`成功删除学员: ${i.get("nickname")}`)}catch(D){throw console.error("删除用户失败:",D),new Error("删除用户失败: "+(D.message||"未知错误"))}}static async createUser(R){try{if(R.role==="student"){const D=new Oe.Query("Student");if(D.equalTo("username",R.username),await D.first())throw new Error("用户名已存在");const a=Oe.Object.extend("Student"),e=new a,n=await As.hashPassword(R.password),s=R.email.replace("@qq.com","");return e.set("nickname",R.nickname),e.set("username",R.username),e.set("email",R.email),e.set("qqNumber",s),e.set("password",n),e.set("level","未新训"),e.set("guild","purplenight"),e.set("joinDate",new Date),e.set("isActive",R.isActive),e.set("studentId",`PN${Date.now().toString().slice(-6)}`),await e.save(),{id:e.id,username:e.get("username"),email:e.get("email"),nickname:e.get("nickname"),joinDate:e.get("joinDate"),isActive:e.get("isActive"),role:"student",permissions:[],qqNumber:e.get("qqNumber"),level:e.get("level")}}else{const D=new Oe.User;return D.set("username",R.username),D.set("password",R.password),D.set("email",R.email),D.set("nickname",R.nickname),D.set("role",R.role),D.set("isActive",R.isActive),D.set("joinDate",new Date),D.set("guild","purplenight"),await D.signUp(),{id:D.id,username:D.get("username"),email:D.get("email"),nickname:D.get("nickname"),joinDate:D.get("joinDate"),isActive:D.get("isActive"),role:R.role,permissions:[],guild:"purplenight"}}}catch(D){throw new Error("创建用户失败: "+D.message)}}static async createCourse(R){try{const D=new Oe.Object("Course");Object.keys(R).forEach(a=>{D.set(a,R[a])});const i=await D.save();return{id:i.id,name:i.get("name"),description:i.get("description"),totalLessons:i.get("totalLessons"),category:i.get("category"),difficulty:i.get("difficulty"),order:i.get("order"),createdAt:i.get("createdAt")}}catch{throw new Error("创建课程失败")}}static async assignCourseToUser(R,D,i,a,e,n){try{const s=new Oe.Query("Student");if(s.equalTo("userId",R),!await s.first())throw new Error("未找到对应的学员记录");const c=new Oe.Query("CourseProgress");if(c.equalTo("userId",R),c.equalTo("courseId",D),await c.first())throw new Error("该学员已经分配了此课程");const v=new Oe.Object("CourseProgress");v.set("userId",R),v.set("courseId",D),v.set("courseName",i),v.set("courseCategory",a),v.set("completedLessons",0),v.set("totalLessons",e),v.set("progress",0),v.set("lastStudyDate",new Date),v.set("status","not_started"),v.set("notes",""),v.set("courseOrder",n);const f=await v.save();return{id:f.id,userId:f.get("userId"),courseId:f.get("courseId"),courseName:f.get("courseName"),courseCategory:f.get("courseCategory"),completedLessons:f.get("completedLessons"),totalLessons:f.get("totalLessons"),progress:f.get("progress"),lastStudyDate:f.get("lastStudyDate"),status:f.get("status"),notes:f.get("notes"),courseOrder:f.get("courseOrder")}}catch(s){throw new Error(s.message||"分配课程失败")}}static async batchAssignCourses(R,D,i){try{const a=new Oe.Query("Course");a.containedIn("objectId",D);const e=await a.find(),n=[],s=R.length*e.length;let u=0;i?.(0);for(const c of R)for(const d of e){const v=new Oe.Query("CourseProgress");if(v.equalTo("userId",c),v.equalTo("courseId",d.id),!await v.first()){const g=new Oe.Object("CourseProgress");g.set("userId",c),g.set("courseId",d.id),g.set("courseName",d.get("name")),g.set("courseCategory",d.get("category")),g.set("courseOrder",d.get("order")),g.set("progress",0),g.set("status","not_started"),g.set("lastStudyDate",null),n.push(g)}u++;const h=Math.round(u/s*80);i?.(h)}n.length>0&&await Oe.Object.saveAll(n),i?.(100)}catch(a){throw console.error("批量分配课程失败:",a),new Error(a.message||"批量分配课程失败")}}static async deleteCourseProgress(R){try{await(await new Oe.Query("CourseProgress").get(R)).destroy()}catch{throw new Error("删除课程进度失败")}}static async getUserAssignedCourseIds(R){try{const D=new Oe.Query("CourseProgress");return D.equalTo("userId",R),D.select("courseId"),(await D.find()).map(a=>a.get("courseId"))}catch(D){return console.warn("获取用户已分配课程失败:",D),[]}}static async getBatchUserAssignedCourses(R){try{const D=new Oe.Query("CourseProgress");D.containedIn("userId",R),D.limit(1e3);const i=await D.find(),a=new Map;i.forEach(n=>{const s=n.get("userId"),u=n.get("courseId");a.has(s)||a.set(s,[]),a.get(s).push(u)});const e=new Map;return R.forEach(n=>{e.set(n,a.get(n)||[])}),e}catch(D){return console.warn("批量获取用户已分配课程失败:",D),new Map}}static async importStudentsFromMembers(){try{const R=new Oe.Query("Member");R.equalTo("guild","purplenight"),R.notEqualTo("stage","紫夜"),R.equalTo("status","正常");const D=await R.find();console.log(`找到 ${D.length} 个符合条件的成员`);let i=0,a=0;const e=[];for(const n of D)try{const s=n.get("nickname"),u=n.get("qqNumber");if(!s||!u){e.push(`成员 ${s||"未知"} 缺少必要信息（昵称或QQ号）`),a++;continue}const c=new Oe.Query("Student");if(c.equalTo("nickname",s),await c.first()){e.push(`学员 ${s} 已存在，跳过导入`),a++;continue}const v=Oe.Object.extend("Student"),f=new v,h=await As.hashPassword(u.toString());f.set("nickname",s),f.set("username",s),f.set("qqNumber",u),f.set("password",h),f.set("level","未新训"),f.set("guild","purplenight"),f.set("joinDate",new Date),f.set("isActive",!0),f.set("stage",n.get("stage")),f.set("memberStatus",n.get("status")),await f.save(),i++,console.log(`成功导入学员: ${s}`)}catch(s){a++;const u=n.get("nickname")||"未知用户";e.push(`导入 ${u} 失败: ${s.message}`),console.error(`导入 ${u} 失败:`,s)}return{success:i,failed:a,errors:e}}catch(R){throw console.error("导入学员数据失败:",R),new Error("导入学员数据失败: "+R.message)}}static async syncMemberProgress(){try{console.log("🔄 开始同步管理系统进度...");const R=new Oe.Query("Member");R.equalTo("guild","purplenight"),R.notEqualTo("stage","紫夜"),R.equalTo("status","正常");const D=await R.find();console.log(`找到 ${D.length} 个符合条件的Member记录`);const i=new Oe.Query("Student");i.equalTo("guild","purplenight");const a=await i.find();console.log(`找到 ${a.length} 个Student记录`);const e=new Oe.Query("Course");e.ascending("order");const n=await e.find();console.log(`找到 ${n.length} 门课程`);let s=0,u=0;const c=[];for(const d of D)try{const v=d.get("nickname"),f=d.get("stage");if(!v||!f){c.push(`Member记录缺少必要信息: ${v||"未知"}`),u++;continue}const h=a.find(y=>y.get("nickname")===v);if(!h){c.push(`未找到匹配的Student记录: ${v}`),u++;continue}console.log(`处理学员: ${v}, 阶段: ${f}`);const g=this.getCoursesForStage(f,n);if(g.length===0){c.push(`未知的阶段: ${f} (学员: ${v})`),u++;continue}await this.syncStudentProgressForStage(h.id,g),s++,console.log(`✅ 成功同步学员: ${v}`)}catch(v){const f=d.get("nickname")||"未知学员";c.push(`同步 ${f} 失败: ${v.message}`),u++,console.error(`同步 ${f} 失败:`,v)}return console.log(`🎉 同步完成: 成功 ${s}, 失败 ${u}`),{success:s,failed:u,errors:c}}catch(R){throw console.error("同步管理系统进度失败:",R),new Error("同步管理系统进度失败: "+R.message)}}static getCoursesForStage(R,D){const a={新训初期:{categories:["入门课程"],maxOrder:5},新训1期:{categories:["入门课程"],maxOrder:999},新训2期:{categories:["入门课程","标准技能一阶课程"],maxOrder:999},新训3期:{categories:["入门课程","标准技能一阶课程","标准技能二阶课程"],maxOrder:999},新训准考:{categories:["入门课程","标准技能一阶课程","标准技能二阶课程","团队训练"],maxOrder:999}}[R];return a?D.filter(e=>{const n=e.get("category"),s=e.get("order")||0;return a.categories.includes(n)?R==="新训初期"&&n==="入门课程"?s>=1&&s<=5:s<=a.maxOrder:!1}):[]}static async syncStudentProgressForStage(R,D){try{const i=new Oe.Query("CourseProgress");i.equalTo("userId",R);const a=await i.find(),e=a.map(s=>s.get("courseId")),n=[];for(const s of D){const u=s.id,c=a.find(d=>d.get("courseId")===u);if(c)c.set("progress",100),c.set("status","completed"),c.set("lastStudyDate",new Date),n.push(c);else{const d=new Oe.Object("CourseProgress");d.set("userId",R),d.set("courseId",u),d.set("courseName",s.get("name")),d.set("courseCategory",s.get("category")),d.set("courseOrder",s.get("order")),d.set("progress",100),d.set("status","completed"),d.set("lastStudyDate",new Date),n.push(d)}}n.length>0&&(await Oe.Object.saveAll(n),console.log(`为学员 ${R} 同步了 ${n.length} 门课程`))}catch(i){throw console.error(`同步学员 ${R} 的课程进度失败:`,i),i}}static async passNewTrainingExam(R){try{console.log("🎓 开始处理新训考核通过...");let D=0,i=0;const a=[];for(const e of R)try{const s=await new Oe.Query("Student").get(e);if(!s){a.push(`未找到学员记录: ${e}`),i++;continue}const u=s.get("nickname");console.log(`处理学员: ${u}`),s.set("level","正式队员"),s.set("examPassDate",new Date),await s.save(),D++,console.log(`✅ 学员 ${u} 已通过新训考核`)}catch(n){a.push(`处理学员失败: ${n.message}`),i++,console.error("处理学员失败:",n)}return console.log(`🎉 新训考核处理完成: 成功 ${D}, 失败 ${i}`),{success:D,failed:i,errors:a}}catch(D){throw console.error("处理新训考核失败:",D),new Error("处理新训考核失败: "+D.message)}}static async getStatistics(){try{let R=[],D=[],i={未新训:0,新训初期:0,新训一期:0,新训二期:0,新训三期:0,新训准考:0,正式队员:0,紫夜尖兵:0};try{const s=new Oe.Query("Student");s.equalTo("guild","purplenight"),R=await s.find(),D=R.filter(u=>u.get("isActive")!==!1),R.forEach(u=>{const c=u.get("level")||"未新训";i.hasOwnProperty(c)&&i[c]++})}catch{console.warn("无法查询Student表，使用默认统计数据")}let a=0;try{a=(await new Oe.Query("Course").find()).length}catch{console.warn("无法查询Course表")}let e=0,n=0;try{const u=await new Oe.Query("CourseProgress").find(),c=u.filter(f=>f.get("status")==="completed");e=u.length>0?Math.round(c.length/u.length*100):0;const d=new Date;d.setDate(d.getDate()-7);const v=new Oe.Query("CourseProgress");if(v.greaterThan("lastStudyDate",d),n=await v.count(),R.length===0){const f=new Set(u.map(h=>h.get("userId")));R=Array.from(f).map(h=>({id:h})),D=R}}catch{console.warn("无法查询CourseProgress表")}return{totalUsers:R.length,activeUsers:D.length,totalCourses:a,usersByLevel:i,courseCompletionRate:e,recentActivity:n}}catch(R){throw console.error("获取统计数据失败:",R),new Error("获取统计数据失败")}}}const Md=_.createContext(void 0);function fn(){const b=_.useContext(Md);if(b===void 0)throw new Error("useAuth must be used within an AuthProvider");return b}function bv({children:b}){const[R,D]=_.useState(null),[i,a]=_.useState(!0);_.useEffect(()=>{(()=>{try{if(localStorage.getItem("rememberLogin")==="true"){const v=we.getCurrentUser();v?(console.log("恢复登录状态:",v.username),D(v)):(console.log("没有有效的用户会话，清除记住状态"),localStorage.removeItem("rememberLogin"))}else console.log("没有记住登录状态")}catch(d){console.error("初始化认证失败:",d),localStorage.removeItem("rememberLogin")}finally{a(!1)}})()},[]);const u={user:R,login:async(c,d,v=!1)=>{try{const f=await we.login(c,d);return D(f),v?localStorage.setItem("rememberLogin","true"):localStorage.removeItem("rememberLogin"),f}catch(f){throw f}},register:async(c,d,v,f)=>{try{const h=await we.register(c,d,v,f);D(h)}catch(h){throw h}},logout:async()=>{try{await we.logout(),D(null),localStorage.removeItem("rememberLogin"),localStorage.removeItem("rememberedCredentials")}catch(c){throw c}},loading:i};return l.jsx(Md.Provider,{value:u,children:b})}const Id=_.createContext(void 0);function Bv({children:b}){const[R,D]=_.useState(()=>{const e=localStorage.getItem("theme");return e||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});_.useEffect(()=>{localStorage.setItem("theme",R);const e=window.document.documentElement;e.classList.remove("light","dark"),e.classList.add(R);const n=document.querySelector('meta[name="theme-color"]');n&&n.setAttribute("content",R==="dark"?"#1e293b":"#ffffff")},[R]),_.useEffect(()=>{const e=window.matchMedia("(prefers-color-scheme: dark)"),n=s=>{localStorage.getItem("theme")||D(s.matches?"dark":"light")};return e.addEventListener("change",n),()=>e.removeEventListener("change",n)},[]);const a={theme:R,toggleTheme:()=>{D(e=>e==="light"?"dark":"light")},setTheme:D};return l.jsx(Id.Provider,{value:a,children:b})}function Wv(){const b=_.useContext(Id);if(b===void 0)throw new Error("useTheme must be used within a ThemeProvider");return b}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Kv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=b=>b.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),De=(b,R)=>{const D=_.forwardRef(({color:i="currentColor",size:a=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:s="",children:u,...c},d)=>_.createElement("svg",{ref:d,...Kv,width:a,height:a,stroke:i,strokeWidth:n?Number(e)*24/Number(a):e,className:["lucide",`lucide-${Fv(b)}`,s].join(" "),...c},[...R.map(([v,f])=>_.createElement(v,f)),...Array.isArray(u)?u:[u]]));return D.displayName=`${b}`,D};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=De("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=De("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=De("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=De("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=De("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=De("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=De("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=De("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=De("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=De("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=De("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=De("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=De("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=De("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=De("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=De("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=De("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=De("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=De("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=De("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=De("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=De("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=De("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=De("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=De("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=De("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=De("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=De("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=De("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=De("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=De("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=De("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=De("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=De("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=De("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=De("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=De("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=De("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=De("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=De("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=De("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=De("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=De("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=De("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=De("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=De("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Ml({className:b="",size:R="md"}){const{theme:D,toggleTheme:i}=Wv(),a={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"},e={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};return l.jsxs("button",{onClick:i,className:`
        ${a[R]}
        relative overflow-hidden
        bg-white dark:bg-gray-800
        border border-gray-200 dark:border-gray-700
        rounded-xl
        shadow-sm hover:shadow-md
        transition-all duration-300
        flex items-center justify-center
        group
        ${b}
      `,title:D==="light"?"切换到深色模式":"切换到浅色模式",children:[l.jsx("div",{className:`
        absolute inset-0 
        bg-gradient-to-r from-yellow-400 to-orange-400
        dark:from-blue-600 dark:to-purple-600
        opacity-0 group-hover:opacity-20
        transition-opacity duration-300
      `}),l.jsx("div",{className:"relative z-10",children:D==="light"?l.jsx(Yv,{className:`
            ${e[R]}
            text-yellow-600 dark:text-yellow-400
            transition-all duration-300
            group-hover:rotate-90 group-hover:scale-110
          `}):l.jsx(Qv,{className:`
            ${e[R]}
            text-blue-600 dark:text-blue-400
            transition-all duration-300
            group-hover:rotate-12 group-hover:scale-110
          `})}),l.jsx("div",{className:`
        absolute inset-0
        bg-gradient-to-r from-yellow-400/20 to-orange-400/20
        dark:from-blue-600/20 dark:to-purple-600/20
        rounded-xl
        scale-0 group-active:scale-100
        transition-transform duration-150
      `})]})}function qv(){const[b,R]=_.useState(!1),[D,i]=_.useState(!1),[a,e]=_.useState({username:"",password:""}),[n,s]=_.useState(!1),[u,c]=_.useState(""),{login:d}=fn(),v=bs();_.useEffect(()=>{const g=localStorage.getItem("rememberedCredentials");if(g)try{const{username:y,rememberMe:x}=JSON.parse(g);e(p=>({...p,username:y})),i(x)}catch(y){console.warn("Failed to parse saved credentials:",y),localStorage.removeItem("rememberedCredentials")}},[]);const f=async g=>{g.preventDefault(),s(!0),c("");try{const y=await d(a.username,a.password,D);D?localStorage.setItem("rememberedCredentials",JSON.stringify({username:a.username,rememberMe:!0})):localStorage.removeItem("rememberedCredentials"),y.role==="admin"||y.role==="instructor"||y.role==="guild_admin"||y.role==="super_admin"?v("/admin"):v("/")}catch(y){c(y instanceof Error?y.message:"操作失败")}finally{s(!1)}},h=g=>{e({...a,[g.target.name]:g.target.value})};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 flex items-center justify-center p-4 relative",children:[l.jsx("div",{className:"absolute top-6 right-6 z-10",children:l.jsx(Ml,{size:"lg"})}),l.jsx("div",{className:"max-w-md w-full",children:l.jsxs("div",{className:"card-elevated fade-in",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"w-20 h-20 flex items-center justify-center mx-auto mb-6 transform hover:scale-105 transition-transform duration-200",children:l.jsx("img",{src:"/purple-night-logo.png",alt:"紫夜公会",className:"w-full h-full object-contain drop-shadow-lg"})}),l.jsx("h1",{className:"text-3xl font-bold gradient-text mb-2",children:"紫夜公会"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 font-medium",children:"成员信息管理平台"})]}),u&&l.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-red-50 to-rose-50 dark:from-red-900/20 dark:to-rose-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 rounded-xl shadow-sm",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(Ot,{className:"h-5 w-5 text-red-400 dark:text-red-500"})}),l.jsx("div",{className:"ml-3",children:l.jsx("p",{className:"text-sm font-medium",children:u})})]})}),l.jsxs("form",{onSubmit:f,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"用户名"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-10 pointer-events-none",children:l.jsx(fr,{className:"text-gray-500 w-5 h-5"})}),l.jsx("input",{type:"text",name:"username",value:a.username,onChange:h,className:"input-field pl-12",placeholder:"请输入用户名",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"form-label",children:"密码"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-10 pointer-events-none",children:l.jsx(oi,{className:"text-gray-500 w-5 h-5"})}),l.jsx("input",{type:b?"text":"password",name:"password",value:a.password,onChange:h,className:"input-field pl-12 pr-12",placeholder:"请输入密码",required:!0}),l.jsx("button",{type:"button",onClick:()=>R(!b),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors duration-200 z-10",children:b?l.jsx(ai,{className:"w-5 h-5"}):l.jsx(ii,{className:"w-5 h-5"})})]})]}),l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"rememberMe",checked:D,onChange:g=>i(g.target.checked)}),l.jsx("label",{htmlFor:"rememberMe",className:"ml-3 block text-sm font-medium text-gray-700 dark:text-gray-300 cursor-pointer",children:"记住登录状态"})]})}),l.jsx("button",{type:"submit",disabled:n,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:n?l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx("div",{className:"loading-spinner mr-2"}),"登录中..."]}):"登录"})]}),l.jsxs("div",{className:"mt-8 text-center",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"紫夜公会成员专用平台"}),l.jsx("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:"账号由管理员分配，如需帮助请联系管理员"})]})]})})]})}function _v(){const{user:b}=fn(),[R,D]=_.useState([]),[i,a]=_.useState(null),[e,n]=_.useState(!0),[s,u]=_.useState("");_.useEffect(()=>{b&&c()},[b]);const c=async()=>{try{n(!0);const h=await we.getUserCourseProgress(b.id);D(h);const g=await we.getStudentActualLevel(b.id),y=we.getMemberLevelProgress(h,g);a(y)}catch(h){u("加载数据失败"),console.error("Failed to load dashboard data:",h)}finally{n(!1)}},d={totalCourses:R.length,completedCourses:R.filter(h=>h.status==="completed").length,inProgressCourses:R.filter(h=>h.status==="in_progress").length,averageProgress:R.length>0?Math.round(R.reduce((h,g)=>h+g.progress,0)/R.length):0},v={入门课程:R.filter(h=>h.courseCategory==="入门课程"&&h.status==="completed").length,标准技能一阶课程:R.filter(h=>h.courseCategory==="标准技能一阶课程"&&h.status==="completed").length,标准技能二阶课程:R.filter(h=>h.courseCategory==="标准技能二阶课程"&&h.status==="completed").length,团队训练:R.filter(h=>h.courseCategory==="团队训练"&&h.status==="completed").length,进阶课程:R.filter(h=>h.courseCategory==="进阶课程"&&h.status==="completed").length},f=R.filter(h=>h.lastStudyDate).sort((h,g)=>new Date(g.lastStudyDate).getTime()-new Date(h.lastStudyDate).getTime()).slice(0,3);return e?l.jsxs("div",{className:"flex items-center justify-center h-64",children:[l.jsx("div",{className:"loading-spinner"}),l.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-300",children:"加载中..."})]}):l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"card-elevated bg-gradient-to-br from-purple-night-600 via-indigo-600 to-blue-600 text-white overflow-hidden relative",children:[l.jsx("div",{className:"absolute inset-0 bg-black/10"}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-bold mb-3",children:["欢迎回来，",b?.nickname||b?.username,"！"]}),l.jsx("p",{className:"text-white/80 text-lg",children:"继续你的学习之旅，掌握新的技能"})]}),i&&l.jsx("div",{className:"text-right",children:l.jsxs("div",{className:"flex items-center justify-end mb-3",children:[l.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center mr-3",children:l.jsx(Fd,{className:"w-6 h-6"})}),l.jsxs("div",{children:[l.jsx("span",{className:"text-2xl font-bold block",children:i.current.level}),l.jsx("span",{className:"text-white/80 text-sm",children:i.current.description})]})]})})]}),i&&i.next&&l.jsxs("div",{className:"mt-6 p-6 bg-white/20 backdrop-blur-sm rounded-2xl border border-white/30",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Zv,{className:"w-6 h-6 mr-3"}),l.jsx("h3",{className:"text-lg font-semibold",children:"等级进度"})]}),l.jsxs("span",{className:"text-white/80 text-sm",children:["下一等级：",i.next.level]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[l.jsx("span",{children:i.current.level}),l.jsx("span",{children:i.next.level})]}),l.jsx("div",{className:"progress-bar bg-white/20",children:l.jsx("div",{className:"progress-fill bg-gradient-to-r from-yellow-400 to-orange-400",style:{width:`${i.progressToNext}%`}})}),l.jsxs("div",{className:"text-center mt-2 text-sm",children:[i.progressToNext,"% 完成"]})]}),l.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:l.jsxs("p",{className:"text-sm",children:[l.jsx("span",{className:"font-semibold",children:"下一等级要求："}),i.next.requirements.join("、")]})})]})]})]}),s&&l.jsx("div",{className:"bg-gradient-to-r from-red-50 to-rose-50 dark:from-red-900/20 dark:to-rose-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 px-6 py-4 rounded-2xl shadow-sm",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(Ot,{className:"h-5 w-5 text-red-400 dark:text-red-500"})}),l.jsx("div",{className:"ml-3",children:l.jsx("p",{className:"text-sm font-medium",children:s})})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx("div",{className:"card-interactive dark:bg-slate-800 dark:border-slate-700",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-xl shadow-lg",children:l.jsx(Rt,{className:"w-7 h-7 text-white"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-semibold text-gray-600 dark:text-gray-300",children:"总课程数"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:d.totalCourses})]})]})}),l.jsx("div",{className:"card-interactive dark:bg-slate-800 dark:border-slate-700",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-3 bg-gradient-to-r from-green-500 to-emerald-500 rounded-xl shadow-lg",children:l.jsx(Qn,{className:"w-7 h-7 text-white"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-semibold text-gray-600 dark:text-gray-300",children:"已完成"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:d.completedCourses})]})]})}),l.jsx("div",{className:"card-interactive dark:bg-slate-800 dark:border-slate-700",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-3 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-xl shadow-lg",children:l.jsx(Xn,{className:"w-7 h-7 text-white"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-semibold text-gray-600 dark:text-gray-300",children:"进行中"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:d.inProgressCourses})]})]})}),l.jsx("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:l.jsx(hr,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"平均进度"}),l.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[d.averageProgress,"%"]})]})]})})]}),l.jsxs("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"课程类别进度"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[v.入门课程,"/7"]}),l.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"入门课程"}),l.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mt-2",children:l.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${v.入门课程/7*100}%`}})})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[v.标准技能一阶课程,"/6"]}),l.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"标准技能一阶"}),l.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mt-2",children:l.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${v.标准技能一阶课程/6*100}%`}})})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:[v.标准技能二阶课程,"/5"]}),l.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"标准技能二阶"}),l.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mt-2",children:l.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${v.标准技能二阶课程/5*100}%`}})})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:[v.团队训练,"/5"]}),l.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"团队训练"}),l.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mt-2",children:l.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${v.团队训练/5*100}%`}})})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:[v.进阶课程,"/6"]}),l.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"进阶课程"}),l.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mt-2",children:l.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:`${v.进阶课程/6*100}%`}})})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"最近学习"}),l.jsxs(bt,{to:"/progress",className:"text-purple-night-600 hover:text-purple-night-700 dark:text-purple-night-400 dark:hover:text-purple-night-300 text-sm font-medium flex items-center",children:["查看全部",l.jsx(ll,{className:"w-4 h-4 ml-1"})]})]}),f.length>0?l.jsx("div",{className:"space-y-3",children:f.map(h=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("h3",{className:"font-medium text-gray-900 dark:text-white",children:[l.jsx("span",{className:"text-purple-night-600 dark:text-purple-night-400 font-bold mr-2",children:we.getCourseNumber(h.courseOrder||1)}),h.courseName]}),l.jsxs("div",{className:"flex items-center mt-1 text-sm text-gray-500 dark:text-gray-400",children:[l.jsx(Yn,{className:"w-4 h-4 mr-1"}),new Date(h.lastStudyDate).toLocaleDateString()]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[h.progress,"%"]}),l.jsx("div",{className:"w-16 bg-gray-200 dark:bg-gray-700 rounded-full h-2 mt-1",children:l.jsx("div",{className:"bg-purple-night-600 dark:bg-purple-night-500 h-2 rounded-full",style:{width:`${h.progress}%`}})})]})]},h.id))}):l.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[l.jsx(Rt,{className:"w-12 h-12 mx-auto mb-3 text-gray-300 dark:text-gray-600"}),l.jsx("p",{children:"暂无学习记录"}),l.jsx("p",{className:"text-sm",children:"开始你的第一门课程吧！"})]})]}),l.jsxs("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"快速操作"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs(bt,{to:"/progress",className:"flex items-center p-3 bg-purple-night-50 hover:bg-purple-night-100 dark:bg-purple-900/20 dark:hover:bg-purple-900/30 rounded-lg transition-colors",children:[l.jsx(Rt,{className:"w-5 h-5 text-purple-night-600 dark:text-purple-night-400 mr-3"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"查看课程进度"}),l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"查看所有课程的学习进度"})]}),l.jsx(ll,{className:"w-5 h-5 text-gray-400 dark:text-gray-500 ml-auto"})]}),l.jsxs(bt,{to:"/training-report",className:"flex items-center p-3 bg-blue-50 hover:bg-blue-100 dark:bg-blue-900/20 dark:hover:bg-blue-900/30 rounded-lg transition-colors",children:[l.jsx(Qn,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mr-3"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"新训考核报告"}),l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"查看培训考核相关信息"})]}),l.jsx(ll,{className:"w-5 h-5 text-gray-400 dark:text-gray-500 ml-auto"})]})]})]})]})]})}function em(){const{user:b}=fn(),[R,D]=_.useState([]),[i,a]=_.useState([]),[e,n]=_.useState(!0),[s,u]=_.useState(""),[c,d]=_.useState(""),[v,f]=_.useState("all");_.useEffect(()=>{b&&h()},[b]),_.useEffect(()=>{g()},[R,c,v]);const h=async()=>{try{n(!0);const j=await we.getUserCourseProgress(b.id);D(j)}catch(j){u("加载课程进度失败"),console.error("Failed to load course progress:",j)}finally{n(!1)}},g=()=>{let j=R;v!=="all"&&(j=j.filter(T=>T.status===v)),c&&(j=j.filter(T=>T.courseId.toLowerCase().includes(c.toLowerCase())||T.courseName?.toLowerCase().includes(c.toLowerCase())||T.courseCategory?.toLowerCase().includes(c.toLowerCase())||T.notes?.toLowerCase().includes(c.toLowerCase()))),a(j)},y=(j,T)=>T>=100?l.jsx($n,{className:"w-5 h-5 text-green-500 dark:text-green-400"}):T>0?l.jsx(ml,{className:"w-5 h-5 text-blue-500 dark:text-blue-400"}):l.jsx(Rt,{className:"w-5 h-5 text-gray-400 dark:text-gray-500"}),x=(j,T)=>T>=100?"已完成":T>0?"进行中":"未开始",p=(j,T)=>T>=100?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":T>0?"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300":"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-300";return e?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-night-600 dark:border-purple-400"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"课程进度"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"查看你的学习进度和课程状态"})]}),s&&l.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-800 text-red-700 dark:text-red-300 px-4 py-3 rounded",children:s}),l.jsx("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"relative",children:[l.jsx(Bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"搜索课程...",value:c,onChange:j=>d(j.target.value),className:"input-field pl-10"})]})}),l.jsx("div",{className:"sm:w-48",children:l.jsxs("div",{className:"relative",children:[l.jsx(ci,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),l.jsxs("select",{value:v,onChange:j=>f(j.target.value),className:"input-field pl-10 appearance-none",children:[l.jsx("option",{value:"all",children:"全部状态"}),l.jsx("option",{value:"not_started",children:"未开始"}),l.jsx("option",{value:"in_progress",children:"进行中"}),l.jsx("option",{value:"paused",children:"已暂停"}),l.jsx("option",{value:"completed",children:"已完成"})]})]})})]})}),i.length>0?l.jsx("div",{className:"grid gap-6",children:i.map(j=>l.jsx("div",{className:"card dark:bg-slate-800 dark:border-slate-700 hover:shadow-lg transition-shadow",children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center",children:[y(j.status,j.progress),l.jsxs("div",{className:"ml-2",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[l.jsx("span",{className:"text-purple-night-600 dark:text-purple-400 font-bold mr-2",children:we.getCourseNumber(j.courseOrder||1)}),j.courseName]}),l.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[j.courseCategory," - ",j.courseId]})]})]}),l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${p(j.status,j.progress)}`,children:x(j.status,j.progress)})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[l.jsx(hr,{className:"w-4 h-4 mr-2"}),"进度: ",j.progress>=100?"1/1":`${j.completedLessons||0}/${j.totalLessons||1}`," 课时"]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[l.jsx(Xn,{className:"w-4 h-4 mr-2"}),"完成度: ",j.progress,"%"]}),j.lastStudyDate&&l.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[l.jsx(Yn,{className:"w-4 h-4 mr-2"}),"最后学习: ",new Date(j.lastStudyDate).toLocaleDateString()]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400 mb-1",children:[l.jsx("span",{children:"学习进度"}),l.jsxs("span",{children:[j.progress,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:l.jsx("div",{className:"bg-purple-night-600 dark:bg-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${j.progress}%`}})})]}),j.notes&&l.jsx("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-3",children:l.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[l.jsx("span",{className:"font-medium",children:"备注："}),j.notes]})})]})})},j.id))}):l.jsxs("div",{className:"card dark:bg-slate-800 dark:border-slate-700 text-center py-12",children:[l.jsx(Rt,{className:"w-16 h-16 mx-auto mb-4 text-gray-300 dark:text-gray-600"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:c||v!=="all"?"没有找到匹配的课程":"暂无课程进度"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:c||v!=="all"?"尝试调整搜索条件或筛选器":"开始你的第一门课程吧！"})]})]})}function tm(){return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"新训考核报告"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"查看你的培训考核报告和成绩分析"})]}),l.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 dark:from-yellow-600 dark:to-orange-700 rounded-lg p-6 text-white",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Xn,{className:"w-8 h-8 mr-4"}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold mb-2",children:"功能开发中"}),l.jsx("p",{className:"text-yellow-100",children:"新训考核报告功能正在紧张开发中，敬请期待！"})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx(bd,{className:"w-6 h-6 text-purple-night-600 dark:text-purple-400 mr-2"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"即将推出的功能"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"w-2 h-2 bg-purple-night-600 dark:bg-purple-400 rounded-full mt-2 mr-3 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"个人考核报告"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"详细的个人培训考核成绩和分析"})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"w-2 h-2 bg-purple-night-600 dark:bg-purple-400 rounded-full mt-2 mr-3 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"成绩趋势分析"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"学习成绩的时间趋势和进步轨迹"})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"w-2 h-2 bg-purple-night-600 dark:bg-purple-400 rounded-full mt-2 mr-3 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"技能评估"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"各项技能的掌握程度评估"})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"w-2 h-2 bg-purple-night-600 dark:bg-purple-400 rounded-full mt-2 mr-3 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"改进建议"}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"基于表现的个性化学习建议"})]})]})]})]}),l.jsxs("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx(hr,{className:"w-6 h-6 text-blue-600 dark:text-blue-400 mr-2"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"报告预览"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 rounded-lg p-3 text-center",children:[l.jsx(Qn,{className:"w-6 h-6 text-blue-600 dark:text-blue-400 mx-auto mb-1"}),l.jsx("div",{className:"text-lg font-bold text-blue-900 dark:text-blue-100",children:"85%"}),l.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:"综合评分"})]}),l.jsxs("div",{className:"bg-green-50 dark:bg-green-900/30 rounded-lg p-3 text-center",children:[l.jsx(Yn,{className:"w-6 h-6 text-green-600 dark:text-green-400 mx-auto mb-1"}),l.jsx("div",{className:"text-lg font-bold text-green-900 dark:text-green-100",children:"12"}),l.jsx("div",{className:"text-xs text-green-600 dark:text-green-400",children:"完成课程"})]})]}),l.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-lg p-4 text-center",children:[l.jsx(hr,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"成绩趋势图表"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"理论知识"}),l.jsx("span",{className:"text-sm font-medium dark:text-white",children:"90%"})]}),l.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:l.jsx("div",{className:"bg-green-500 dark:bg-green-400 h-2 rounded-full",style:{width:"90%"}})}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"实践操作"}),l.jsx("span",{className:"text-sm font-medium dark:text-white",children:"75%"})]}),l.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-500 dark:bg-blue-400 h-2 rounded-full",style:{width:"75%"}})}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"团队协作"}),l.jsx("span",{className:"text-sm font-medium dark:text-white",children:"88%"})]}),l.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:l.jsx("div",{className:"bg-purple-500 dark:bg-purple-400 h-2 rounded-full",style:{width:"88%"}})})]})]})]})]}),l.jsx("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx(Ad,{className:"w-6 h-6 text-blue-600 dark:text-blue-400 mr-3 mt-1 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"开发进度"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"我们正在努力开发新训考核报告功能，预计将在下个版本中发布。 该功能将为每位学员提供详细的培训考核分析，帮助大家更好地了解自己的学习状况。"}),l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[l.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"预计功能包括："}),l.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[l.jsx("li",{children:"• 个人考核成绩详情"}),l.jsx("li",{children:"• 各科目成绩分析"}),l.jsx("li",{children:"• 学习进度跟踪"}),l.jsx("li",{children:"• 技能掌握评估"}),l.jsx("li",{children:"• 个性化改进建议"}),l.jsx("li",{children:"• 历史成绩对比"})]})]})]})]})})]})}function rm({onClose:b,onSuccess:R}){const[D,i]=_.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[a,e]=_.useState({current:!1,new:!1,confirm:!1}),[n,s]=_.useState(!1),[u,c]=_.useState(""),d=g=>{i({...D,[g.target.name]:g.target.value}),u&&c("")},v=g=>{e(y=>({...y,[g]:!y[g]}))},f=()=>D.currentPassword?D.newPassword?D.newPassword.length<6?(c("新密码长度至少6位"),!1):D.newPassword===D.currentPassword?(c("新密码不能与当前密码相同"),!1):D.newPassword!==D.confirmPassword?(c("两次输入的新密码不一致"),!1):!0:(c("请输入新密码"),!1):(c("请输入当前密码"),!1),h=async g=>{if(g.preventDefault(),!!f()){s(!0),c("");try{await we.changePassword(D.currentPassword,D.newPassword),R(),b()}catch(y){c(y instanceof Error?y.message:"修改密码失败")}finally{s(!1)}}};return l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 dark:bg-black dark:bg-opacity-60 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 w-full max-w-md",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"修改密码"}),l.jsx("button",{onClick:b,className:"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300",children:l.jsx(Ot,{className:"w-5 h-5"})})]}),u&&l.jsx("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-800 text-red-700 dark:text-red-300 rounded",children:u}),l.jsxs("form",{onSubmit:h,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"当前密码"}),l.jsxs("div",{className:"relative",children:[l.jsx(oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),l.jsx("input",{type:a.current?"text":"password",name:"currentPassword",value:D.currentPassword,onChange:d,className:"input-field pl-10 pr-10 dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-gray-400",placeholder:"请输入当前密码",required:!0}),l.jsx("button",{type:"button",onClick:()=>v("current"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300",children:a.current?l.jsx(ai,{className:"w-5 h-5"}):l.jsx(ii,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"新密码"}),l.jsxs("div",{className:"relative",children:[l.jsx(oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),l.jsx("input",{type:a.new?"text":"password",name:"newPassword",value:D.newPassword,onChange:d,className:"input-field pl-10 pr-10 dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-gray-400",placeholder:"请输入新密码（至少6位）",required:!0}),l.jsx("button",{type:"button",onClick:()=>v("new"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300",children:a.new?l.jsx(ai,{className:"w-5 h-5"}):l.jsx(ii,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"确认新密码"}),l.jsxs("div",{className:"relative",children:[l.jsx(oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),l.jsx("input",{type:a.confirm?"text":"password",name:"confirmPassword",value:D.confirmPassword,onChange:d,className:"input-field pl-10 pr-10 dark:bg-slate-700 dark:border-slate-600 dark:text-white dark:placeholder-gray-400",placeholder:"请再次输入新密码",required:!0}),l.jsx("button",{type:"button",onClick:()=>v("confirm"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300",children:a.confirm?l.jsx(ai,{className:"w-5 h-5"}):l.jsx(ii,{className:"w-5 h-5"})})]})]}),D.newPassword&&l.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{children:"密码强度:"}),l.jsxs("div",{className:"flex space-x-1",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${D.newPassword.length>=6?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`}),l.jsx("div",{className:`w-2 h-2 rounded-full ${D.newPassword.length>=8?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`}),l.jsx("div",{className:`w-2 h-2 rounded-full ${/[A-Z]/.test(D.newPassword)?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`}),l.jsx("div",{className:`w-2 h-2 rounded-full ${/[0-9]/.test(D.newPassword)?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`})]})]}),l.jsx("div",{className:"mt-1 text-gray-500 dark:text-gray-500",children:"建议: 至少8位，包含大写字母和数字"})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{type:"button",onClick:b,className:"btn-secondary dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700",children:"取消"}),l.jsxs("button",{type:"submit",disabled:n,className:"btn-primary flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(Hn,{className:"w-4 h-4 mr-2"}),n?"修改中...":"确认修改"]})]})]})]})})}function ul({children:b}){const[R,D]=_.useState(!1),[i,a]=_.useState(!1),{user:e,logout:n}=fn(),s=dn(),u=bs(),c=async()=>{try{await n(),u("/login")}catch(f){console.error("Logout failed:",f)}},d=()=>{alert("密码修改成功！")},v=[{name:"首页",href:"/",icon:Bd},{name:"课程进度",href:"/progress",icon:Rt},{name:"新训考核报告",href:"/training-report",icon:bd}];return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:[l.jsxs("div",{className:`fixed inset-0 z-50 lg:hidden ${R?"block":"hidden"}`,children:[l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>D(!1)}),l.jsxs("div",{className:"fixed inset-y-0 left-0 flex w-72 flex-col bg-white/95 dark:bg-slate-900/95 backdrop-blur-lg shadow-2xl dark:shadow-slate-800/50",children:[l.jsxs("div",{className:"flex h-20 items-center justify-between px-6 border-b border-gray-200/50 dark:border-gray-700/50",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("img",{src:"/purple-night-logo.png",alt:"紫夜公会",className:"w-10 h-10 rounded-xl shadow-lg object-contain"}),l.jsx("span",{className:"ml-3 text-xl font-bold gradient-text",children:"紫夜公会"})]}),l.jsx("button",{onClick:()=>D(!1),className:"p-2 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200",children:l.jsx(Ot,{className:"w-6 h-6 text-gray-400 dark:text-gray-500"})})]}),l.jsx("nav",{className:"flex-1 px-6 py-6 space-y-3",children:v.map(f=>{const h=f.icon,g=s.pathname===f.href;return l.jsxs(bt,{to:f.href,onClick:()=>D(!1),className:`nav-link ${g?"nav-link-active":"nav-link-inactive"}`,children:[l.jsx(h,{className:"w-5 h-5 mr-3"}),f.name]},f.name)})}),l.jsx("div",{className:"p-4 border-t border-gray-200/50 dark:border-gray-700/50",children:l.jsxs("div",{className:"space-y-2",children:[e?.role==="student"&&l.jsxs("button",{onClick:()=>{a(!0),D(!1)},className:"w-full flex items-center px-3 py-2 text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-md transition-colors",children:[l.jsx(gd,{className:"w-4 h-4 mr-3"}),"修改密码"]}),l.jsxs("button",{onClick:()=>{c(),D(!1)},className:"w-full flex items-center px-3 py-2 text-sm text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors",children:[l.jsx(vl,{className:"w-4 h-4 mr-3"}),"退出登录"]})]})})]})]}),l.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-72 lg:flex-col",children:l.jsxs("div",{className:"flex flex-col flex-grow bg-white/95 dark:bg-slate-900/95 backdrop-blur-lg border-r border-gray-200/50 dark:border-gray-700/50 shadow-xl dark:shadow-slate-800/30",children:[l.jsxs("div",{className:"flex h-20 items-center px-6 border-b border-gray-200/50 dark:border-gray-700/50",children:[l.jsx("img",{src:"/purple-night-logo.png",alt:"紫夜公会",className:"w-12 h-12 rounded-xl shadow-lg object-contain"}),l.jsx("span",{className:"ml-4 text-2xl font-bold gradient-text",children:"紫夜公会"})]}),l.jsx("nav",{className:"flex-1 px-6 py-6 space-y-3",children:v.map(f=>{const h=f.icon,g=s.pathname===f.href;return l.jsxs(bt,{to:f.href,className:`nav-link ${g?"nav-link-active":"nav-link-inactive"}`,children:[l.jsx(h,{className:"w-5 h-5 mr-3"}),f.name]},f.name)})})]})}),l.jsxs("div",{className:"lg:pl-72",children:[l.jsx("div",{className:"sticky top-0 z-40 bg-white/95 dark:bg-slate-900/95 backdrop-blur-lg border-b border-gray-200/50 dark:border-gray-700/50 shadow-sm dark:shadow-slate-800/30",children:l.jsxs("div",{className:"flex h-20 items-center justify-between px-6 sm:px-8 lg:px-10",children:[l.jsx("button",{onClick:()=>D(!0),className:"lg:hidden p-3 rounded-xl text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200",children:l.jsx(Wd,{className:"w-6 h-6"})}),l.jsxs("div",{className:"flex items-center space-x-6",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-night-500 to-indigo-500 rounded-xl flex items-center justify-center shadow-lg",children:l.jsx(fr,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:e?.nickname||e?.username}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e?.role==="student"?"学员":"管理员"})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[(e?.role==="admin"||e?.role==="instructor"||e?.role==="guild_admin"||e?.role==="super_admin")&&l.jsxs(bt,{to:"/admin",className:"btn-ghost text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20",children:[l.jsx(Tl,{className:"w-4 h-4 mr-2"}),"管理后台"]}),e?.role==="student"&&l.jsxs("button",{onClick:()=>a(!0),className:"btn-ghost text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:[l.jsx(gd,{className:"w-4 h-4 mr-2"}),"修改密码"]}),l.jsx(Ml,{size:"md"}),l.jsxs("button",{onClick:c,className:"btn-ghost text-gray-600 hover:text-gray-900 hover:bg-gray-100 dark:text-gray-300 dark:hover:text-gray-100 dark:hover:bg-gray-800",children:[l.jsx(vl,{className:"w-4 h-4 mr-2"}),"退出"]})]})]})]})}),l.jsx("main",{className:"p-6 sm:p-8 lg:p-10",children:l.jsx("div",{className:"max-w-7xl mx-auto",children:b})})]}),i&&l.jsx(rm,{onClose:()=>a(!1),onSuccess:d})]})}function Fn({children:b}){const[R,D]=_.useState(!1),{user:i,logout:a}=fn(),e=dn(),n=bs(),s=async()=>{try{await a(),n("/login")}catch(c){console.error("Logout failed:",c)}},u=[{name:"管理概览",href:"/admin",icon:Bd},{name:"用户管理",href:"/admin/users",icon:Gn},{name:"课程管理",href:"/admin/courses",icon:Rt},{name:"课程分配",href:"/admin/assignment",icon:Dl},{name:"进度管理",href:"/admin/progress",icon:hr},{name:"数据统计",href:"/admin/statistics",icon:Cl}];return l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 text-gray-900 dark:text-gray-100",children:[l.jsxs("div",{className:`fixed inset-0 z-50 lg:hidden ${R?"block":"hidden"}`,children:[l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 dark:bg-gray-900 dark:bg-opacity-80",onClick:()=>D(!1)}),l.jsxs("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white dark:bg-slate-800 shadow-lg",children:[l.jsxs("div",{className:"flex h-16 items-center justify-between px-4 border-b border-gray-200 dark:border-gray-700",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("img",{src:"/purple-night-logo.png",alt:"紫夜公会",className:"w-8 h-8 rounded-full object-contain"}),l.jsx("span",{className:"ml-2 text-lg font-semibold dark:text-white",children:"管理后台"})]}),l.jsx("button",{onClick:()=>D(!1),className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:l.jsx(Ot,{className:"w-6 h-6 text-gray-400 dark:text-gray-500"})})]}),l.jsx("nav",{className:"flex-1 px-4 py-4 space-y-2",children:u.map(c=>{const d=c.icon,v=e.pathname===c.href;return l.jsxs(bt,{to:c.href,onClick:()=>D(!1),className:`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ${v?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-100"}`,children:[l.jsx(d,{className:"w-5 h-5 mr-3"}),c.name]},c.name)})})]})]}),l.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:l.jsxs("div",{className:"flex flex-col flex-grow bg-white dark:bg-slate-800 border-r border-gray-200 dark:border-gray-700 shadow-md",children:[l.jsxs("div",{className:"flex h-16 items-center px-4 border-b border-gray-200 dark:border-gray-700",children:[l.jsx("img",{src:"/purple-night-logo.png",alt:"紫夜公会",className:"w-8 h-8 rounded-full object-contain"}),l.jsx("span",{className:"ml-2 text-lg font-semibold dark:text-white",children:"管理后台"})]}),l.jsx("nav",{className:"flex-1 px-4 py-4 space-y-2",children:u.map(c=>{const d=c.icon,v=e.pathname===c.href;return l.jsxs(bt,{to:c.href,className:`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ${v?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-100"}`,children:[l.jsx(d,{className:"w-5 h-5 mr-3"}),c.name]},c.name)})})]})}),l.jsxs("div",{className:"lg:pl-64",children:[l.jsx("div",{className:"sticky top-0 z-40 bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-gray-700 shadow-sm",children:l.jsxs("div",{className:"flex h-16 items-center justify-between px-4 sm:px-6 lg:px-8",children:[l.jsx("button",{onClick:()=>D(!0),className:"lg:hidden p-2 rounded-md text-gray-400 dark:text-gray-500 hover:text-gray-500 dark:hover:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700",children:l.jsx(Wd,{className:"w-6 h-6"})}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Tl,{className:"w-5 h-5 text-red-600 dark:text-red-500"}),l.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-200",children:["管理员：",i?.nickname||i?.username]})]}),l.jsx(Ml,{size:"sm"}),l.jsxs("button",{onClick:s,className:"flex items-center space-x-1 px-3 py-2 text-sm text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors",children:[l.jsx(vl,{className:"w-4 h-4"}),l.jsx("span",{children:"退出"})]})]})]})}),l.jsx("main",{className:"p-4 sm:p-6 lg:p-8",children:b})]})]})}function nm(){const[b,R]=_.useState(null),[D,i]=_.useState(!0),[a,e]=_.useState("");_.useEffect(()=>{n()},[]);const n=async()=>{try{i(!0);const s=await we.getStatistics();R(s)}catch(s){e("加载统计数据失败"),console.error("Failed to load statistics:",s)}finally{i(!1)}};return D?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 dark:border-red-500"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"管理概览"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"紫夜公会成员信息管理系统"})]}),a&&l.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-800 text-red-700 dark:text-red-300 px-4 py-3 rounded",children:a}),b&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:l.jsx(Gn,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"总用户数"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:b.totalUsers})]})]})}),l.jsx("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:l.jsx(Vv,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"活跃用户"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:b.activeUsers})]})]})}),l.jsx("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:l.jsx(Rt,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"总课程数"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:b.totalCourses})]})]})}),l.jsx("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:l.jsx(hr,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"完成率"}),l.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[b.courseCompletionRate,"%"]})]})]})})]}),b&&l.jsxs("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"用户等级分布"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:Object.entries(b.usersByLevel).map(([s,u])=>l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:u}),l.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:s})]},s))})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"快速操作"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs(bt,{to:"/admin/users",className:"flex items-center p-3 bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-lg transition-colors",children:[l.jsx(Gn,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mr-3"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"用户管理"}),l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"管理用户信息和权限"})]})]}),l.jsxs(bt,{to:"/admin/courses",className:"flex items-center p-3 bg-green-50 dark:bg-green-900/20 hover:bg-green-100 dark:hover:bg-green-900/30 rounded-lg transition-colors",children:[l.jsx(Rt,{className:"w-5 h-5 text-green-600 dark:text-green-400 mr-3"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"课程管理"}),l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"添加和编辑课程信息"})]})]}),l.jsxs(bt,{to:"/admin/assignment",className:"flex items-center p-3 bg-green-50 dark:bg-green-900/20 hover:bg-green-100 dark:hover:bg-green-900/30 rounded-lg transition-colors",children:[l.jsx(Dl,{className:"w-5 h-5 text-green-600 dark:text-green-400 mr-3"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"课程分配"}),l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"为学员分配课程"})]})]}),l.jsxs(bt,{to:"/admin/progress",className:"flex items-center p-3 bg-purple-50 dark:bg-purple-900/20 hover:bg-purple-100 dark:hover:bg-purple-900/30 rounded-lg transition-colors",children:[l.jsx(hr,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mr-3"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"进度管理"}),l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"查看和更新学习进度"})]})]}),l.jsxs(bt,{to:"/admin/statistics",className:"flex items-center p-3 bg-yellow-50 dark:bg-yellow-900/20 hover:bg-yellow-100 dark:hover:bg-yellow-900/30 rounded-lg transition-colors",children:[l.jsx(Cl,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 mr-3"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"数据统计"}),l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"查看详细统计报表"})]})]})]})]}),l.jsxs("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"系统状态"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Rd,{className:"w-5 h-5 text-green-500 dark:text-green-400 mr-2"}),l.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"系统状态"})]}),l.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 text-xs font-medium rounded-full",children:"正常运行"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Xn,{className:"w-5 h-5 text-blue-500 dark:text-blue-400 mr-2"}),l.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"最近活动"})]}),l.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[b?.recentActivity||0," 项操作"]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Qn,{className:"w-5 h-5 text-purple-500 dark:text-purple-400 mr-2"}),l.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"数据库"})]}),l.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 text-xs font-medium rounded-full",children:"正常运行"})]})]})]})]})]})}function sm({userId:b,onClose:R,onUpdate:D}){const[i,a]=_.useState(null),[e,n]=_.useState([]),[s,u]=_.useState([]),[c,d]=_.useState(!0),[v,f]=_.useState(""),[h,g]=_.useState("progress"),[y,x]=_.useState(null),[p,j]=_.useState({progress:0,status:"",remark:""});_.useEffect(()=>{T()},[b]);const T=async()=>{try{d(!0),f("");const E=await we.getStudentById(b);a(E);const M=await we.getStudentCourseProgress(b);n(M);const W=await we.getAllCourses(),Q=M.map(H=>H.courseId),G=W.filter(H=>!Q.includes(H.id));u(G)}catch(E){f("加载学员数据失败"),console.error("Failed to load student data:",E)}finally{d(!1)}},C=(E,M,W,Q)=>{x(E),j({progress:M,status:W,remark:Q||""})},I=async E=>{try{let M=p.status;p.progress===100?M="completed":p.progress>0&&M==="not_started"&&(M="in_progress"),await we.updateCourseProgress(E,{progress:p.progress,status:M,lastStudyDate:new Date,notes:p.remark}),x(null),await T(),D()}catch(M){f("更新进度失败"),console.error("Failed to update progress:",M)}},U=async E=>{try{await we.assignCourseToStudent(b,E),await T(),D()}catch(M){f("分配课程失败"),console.error("Failed to assign course:",M)}},A=async E=>{if(confirm("确定要重置这门课程的进度吗？"))try{await we.updateCourseProgress(E,{progress:0,status:"not_started",lastStudyDate:null}),await T(),D()}catch(M){f("重置进度失败"),console.error("Failed to reset progress:",M)}},w=E=>({not_started:"未开始",in_progress:"进行中",completed:"已完成",paused:"已暂停"})[E]||E,P=E=>({not_started:"text-gray-500 bg-gray-100",in_progress:"text-blue-700 bg-blue-100",completed:"text-green-700 bg-green-100",paused:"text-yellow-700 bg-yellow-100"})[E]||"text-gray-500 bg-gray-100",N=E=>E>=1&&E<=7?`1.${E}`:E>=8&&E<=13?`2.${E-7}`:E>=14&&E<=18?`3.${E-13}`:E>=19&&E<=23?`4.${E-18}`:E>=24&&E<=29?`5.${E-23}`:E.toString();return c?l.jsx("div",{className:"fixed inset-0 z-50 bg-gray-600 bg-opacity-50 dark:bg-black dark:bg-opacity-60 flex items-center justify-center overflow-y-auto overflow-x-hidden",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-night-600 dark:border-purple-400 mx-auto"}),l.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-300",children:"加载中..."})]})}):l.jsx("div",{className:"fixed inset-0 z-50 bg-gray-600 bg-opacity-50 dark:bg-black dark:bg-opacity-60 flex items-center justify-center overflow-y-auto overflow-x-hidden",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg w-full max-w-6xl max-h-[90vh] overflow-hidden my-6 mx-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(fr,{className:"w-6 h-6 text-purple-night-600 dark:text-purple-400"}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:["学员管理 - ",i?.nickname||i?.username]}),l.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["等级: ",i?.level," | 状态: ",i?.isActive?"正常":"已停用"]})]})]}),l.jsx("button",{onClick:R,className:"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300",children:l.jsx(Ot,{className:"w-6 h-6"})})]}),v&&l.jsx("div",{className:"mx-6 mt-4 p-3 bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-800 text-red-700 dark:text-red-300 rounded",children:v}),l.jsx("div",{className:"border-b dark:border-slate-700",children:l.jsxs("nav",{className:"flex space-x-8 px-6",children:[l.jsxs("button",{onClick:()=>g("progress"),className:`py-4 px-1 border-b-2 font-medium text-sm ${h==="progress"?"border-purple-night-500 text-purple-night-600 dark:text-purple-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[l.jsx(Rt,{className:"w-4 h-4 inline mr-2"}),"课程进度管理"]}),l.jsxs("button",{onClick:()=>g("assign"),className:`py-4 px-1 border-b-2 font-medium text-sm ${h==="assign"?"border-purple-night-500 text-purple-night-600 dark:text-purple-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[l.jsx(gl,{className:"w-4 h-4 inline mr-2"}),"分配新课程"]})]})}),l.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[h==="progress"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"课程进度列表"}),l.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["共 ",e.length," 门课程"]})]}),e.length===0?l.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"该学员暂未分配任何课程"}):l.jsx("div",{className:"space-y-3",children:e.sort((E,M)=>E.courseOrder-M.courseOrder).map(E=>l.jsx("div",{className:"border dark:border-slate-700 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("span",{className:"text-sm font-mono text-purple-night-600 dark:text-purple-400 bg-purple-night-50 dark:bg-purple-900/30 px-2 py-1 rounded",children:N(E.courseOrder)}),l.jsx("h5",{className:"font-medium text-gray-900 dark:text-white",children:E.courseName}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${P(E.status)} ${E.status==="not_started"?"dark:bg-gray-800 dark:text-gray-300":""} ${E.status==="in_progress"?"dark:bg-blue-900/30 dark:text-blue-300":""} ${E.status==="completed"?"dark:bg-green-900/30 dark:text-green-300":""} ${E.status==="paused"?"dark:bg-yellow-900/30 dark:text-yellow-300":""}`,children:w(E.status)})]}),l.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-400",children:[l.jsxs("span",{children:["类别: ",E.courseCategory]}),E.lastStudyDate&&l.jsxs("span",{children:["最后学习: ",new Date(E.lastStudyDate).toLocaleDateString()]}),E.remark&&l.jsxs("span",{className:"flex items-center",children:[l.jsx($v,{className:"w-3 h-3 mr-1"}),"备注: ",E.remark]})]})]}),l.jsx("div",{className:"flex items-center space-x-4",children:y===E.id?l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:p.progress,onChange:M=>{const W=Number(M.target.value);let Q=p.status;W===100?Q="completed":W>0&&E.progress===0&&(Q="in_progress"),j(G=>({...G,progress:W,status:Q}))},className:"w-20"}),l.jsxs("span",{className:"text-sm font-medium w-12 text-gray-900 dark:text-white",children:[p.progress,"%"]}),l.jsxs("select",{value:p.status,onChange:M=>j(W=>({...W,status:M.target.value})),className:"text-sm border rounded px-2 py-1 dark:bg-slate-700 dark:border-slate-600 dark:text-white",children:[l.jsx("option",{value:"not_started",children:"未开始"}),l.jsx("option",{value:"in_progress",children:"进行中"}),l.jsx("option",{value:"completed",children:"已完成"}),l.jsx("option",{value:"paused",children:"已暂停"})]})]}),l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx("input",{type:"text",placeholder:"添加备注...",value:p.remark,onChange:M=>j(W=>({...W,remark:M.target.value})),className:"text-sm border rounded px-2 py-1 w-full dark:bg-slate-700 dark:border-slate-600 dark:text-white"})}),l.jsxs("div",{className:"flex justify-end space-x-2 mt-1",children:[l.jsx("button",{onClick:()=>I(E.id),className:"text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-300",children:l.jsx(Hn,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>x(null),className:"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300",children:l.jsx(Ot,{className:"w-4 h-4"})})]})]}):l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[E.progress,"%"]}),l.jsx("div",{className:"w-24 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:l.jsx("div",{className:"bg-purple-night-600 dark:bg-purple-500 h-2 rounded-full",style:{width:`${E.progress}%`}})})]}),l.jsxs("div",{className:"flex space-x-1",children:[l.jsx("button",{onClick:()=>C(E.id,E.progress,E.status,E.remark),className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",title:"编辑进度",children:l.jsx(Sl,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>A(E.id),className:"text-orange-600 hover:text-orange-700 dark:text-orange-400 dark:hover:text-orange-300",title:"重置进度",children:l.jsx(Jv,{className:"w-4 h-4"})})]})]})})]})},E.id))})]}),h==="assign"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"分配新课程"}),l.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["可分配 ",s.length," 门课程"]})]}),s.length===0?l.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[l.jsx(Qn,{className:"w-12 h-12 mx-auto mb-4 text-gray-300 dark:text-gray-600"}),l.jsx("p",{children:"所有课程都已分配给该学员"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.sort((E,M)=>E.order-M.order).map(E=>l.jsx("div",{className:"border dark:border-slate-700 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsx("span",{className:"text-sm font-mono text-purple-night-600 dark:text-purple-400 bg-purple-night-50 dark:bg-purple-900/30 px-2 py-1 rounded",children:N(E.order)}),l.jsx("h5",{className:"font-medium text-gray-900 dark:text-white",children:E.name})]}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:E.category}),E.description&&l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:E.description})]}),l.jsxs("button",{onClick:()=>U(E.id),className:"ml-4 btn-primary text-sm",children:[l.jsx(gl,{className:"w-4 h-4 mr-1"}),"分配"]})]})},E.id))})]})]})]})})}function am(){const[b,R]=_.useState([]),[D,i]=_.useState([]),[a,e]=_.useState(!0),[n,s]=_.useState(""),[u,c]=_.useState(""),[d,v]=_.useState("all"),[f,h]=_.useState(!1),[g,y]=_.useState(null),[x,p]=_.useState(null),[j,T]=_.useState({qq:"",nickname:"",role:"student",isActive:!0,password:""}),[C,I]=_.useState(!1),[U,A]=_.useState(!1),[w,P]=_.useState(null),[N,E]=_.useState(!1);_.useEffect(()=>{M()},[]),_.useEffect(()=>{W()},[b,u,d]);const M=async()=>{try{e(!0);const z=await we.getAllUsers();R(z)}catch(z){s("加载用户列表失败"),console.error("Failed to load users:",z)}finally{e(!1)}},W=()=>{let z=b;d!=="all"&&(z=z.filter(X=>X.role===d)),u&&(z=z.filter(X=>{const q=X.email.includes("@qq.com")?X.email.replace("@qq.com",""):X.email;return X.username.toLowerCase().includes(u.toLowerCase())||X.nickname.toLowerCase().includes(u.toLowerCase())||q.includes(u)})),i(z)},Q=z=>{switch(z){case"admin":case"guild_admin":case"super_admin":return l.jsx(Tl,{className:"w-4 h-4 text-red-500 dark:text-red-400"});case"instructor":return l.jsx(kv,{className:"w-4 h-4 text-blue-500 dark:text-blue-400"});case"student":return l.jsx(fr,{className:"w-4 h-4 text-green-500 dark:text-green-400"});case"member":return l.jsx(fr,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"});default:return l.jsx(fr,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})}},G=z=>{switch(z){case"admin":return"管理员";case"guild_admin":return"公会管理员";case"super_admin":return"超级管理员";case"instructor":return"教官";case"student":return"学员";case"member":return"成员";default:return"未知"}},H=z=>{switch(z){case"admin":case"guild_admin":case"super_admin":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300";case"instructor":return"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300";case"student":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300";case"member":return"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-300";default:return"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-300"}},J=z=>{y(z);let X="";z.qqNumber?X=z.qqNumber:z.email&&z.email.includes("@qq.com")?X=z.email.replace("@qq.com",""):X=z.email||"",T({qq:X,nickname:z.nickname,role:z.role,isActive:z.isActive,password:""})},K=()=>{h(!0),T({qq:"",nickname:"",role:"student",isActive:!0,password:""})},k=()=>{h(!1),y(null),T({qq:"",nickname:"",role:"student",isActive:!0,password:""})},L=async()=>{if(!j.qq||!j.nickname){s("请填写所有必填字段");return}if(!g&&!j.password){s("新用户必须设置密码");return}try{if(I(!0),g)await we.updateUser(g.id,{email:`${j.qq}@qq.com`,nickname:j.nickname,isActive:j.isActive}),R(b.map(z=>z.id===g.id?{...z,email:`${j.qq}@qq.com`,nickname:j.nickname,isActive:j.isActive}:z));else{const z=await we.createUser({username:j.nickname,email:`${j.qq}@qq.com`,nickname:j.nickname,role:j.role,isActive:j.isActive,password:j.password});R([...b,z])}k(),s("")}catch{s(g?"更新用户失败":"创建用户失败")}finally{I(!1)}},B=async z=>{const X=b.find(ne=>ne.id===z),q=X?.nickname||X?.username||"未知用户";if(window.confirm(`确定要删除用户"${q}"吗？

⚠️ 此操作将同时删除：
- 用户基本信息
- 所有课程进度记录

此操作不可恢复！`))try{s(""),await we.deleteUser(z),R(b.filter(ne=>ne.id!==z)),console.log(`成功删除用户: ${q}`)}catch(ne){s("删除用户失败: "+(ne.message||"未知错误")),console.error("删除用户失败:",ne)}},$=async()=>{try{A(!0),s("");const z=await we.importStudentsFromMembers();P(z),E(!0),await M()}catch(z){s("导入学员数据失败: "+z.message)}finally{A(!1)}};return a?l.jsxs("div",{className:"flex items-center justify-center h-64",children:[l.jsx("div",{className:"loading-spinner"}),l.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-300",children:"加载中..."})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"用户管理"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2 text-lg",children:"管理紫夜公会成员信息"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:$,disabled:U,className:"btn-secondary flex items-center",children:U?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current mr-2"}),"导入中..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ld,{className:"w-5 h-5 mr-2"}),"导入学员"]})}),l.jsxs("button",{onClick:K,className:"btn-primary",children:[l.jsx(gl,{className:"w-5 h-5 mr-2"}),"添加用户"]})]})]}),n&&l.jsx("div",{className:"bg-gradient-to-r from-red-50 to-rose-50 dark:from-red-900/20 dark:to-rose-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 px-6 py-4 rounded-2xl shadow-sm",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(Ot,{className:"h-5 w-5 text-red-400 dark:text-red-500"})}),l.jsx("div",{className:"ml-3",children:l.jsx("p",{className:"text-sm font-medium",children:n})})]})}),l.jsx("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:l.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"form-label",children:"搜索用户"}),l.jsxs("div",{className:"relative",children:[l.jsx(Bs,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"输入用户名、昵称或QQ号...",value:u,onChange:z=>c(z.target.value),className:"input-field pl-12"})]})]}),l.jsxs("div",{className:"lg:w-64",children:[l.jsx("label",{className:"form-label",children:"角色筛选"}),l.jsxs("div",{className:"relative",children:[l.jsx(ci,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),l.jsxs("select",{value:d,onChange:z=>v(z.target.value),className:"input-field pl-12 appearance-none",children:[l.jsx("option",{value:"all",children:"全部角色"}),l.jsx("option",{value:"student",children:"学员"}),l.jsx("option",{value:"instructor",children:"教官"}),l.jsx("option",{value:"admin",children:"管理员"}),l.jsx("option",{value:"guild_admin",children:"公会管理员"}),l.jsx("option",{value:"super_admin",children:"超级管理员"}),l.jsx("option",{value:"member",children:"成员"})]})]})]})]})}),l.jsx("div",{className:"card p-0 overflow-hidden dark:bg-slate-800 dark:border-slate-700",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"table-modern",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"用户信息"}),l.jsx("th",{children:"角色"}),l.jsx("th",{children:"状态"}),l.jsx("th",{children:"加入时间"}),l.jsx("th",{children:"操作"})]})}),l.jsx("tbody",{children:D.map(z=>l.jsxs("tr",{children:[l.jsx("td",{children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-xl flex items-center justify-center shadow-lg",children:l.jsx(fr,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:z.nickname}),l.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:["@",z.username]}),l.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center mt-1",children:[l.jsx(zv,{className:"w-3 h-3 mr-1"}),"QQ: ",z.email.includes("@qq.com")?z.email.replace("@qq.com",""):z.email]})]})]})}),l.jsx("td",{children:l.jsxs("div",{className:"flex items-center",children:[Q(z.role),l.jsx("span",{className:`ml-2 badge ${H(z.role)}`,children:G(z.role)})]})}),l.jsx("td",{children:l.jsx("div",{className:"flex items-center",children:z.isActive?l.jsxs(l.Fragment,{children:[l.jsx($n,{className:"w-5 h-5 text-green-500 dark:text-green-400 mr-2"}),l.jsx("span",{className:"badge badge-success",children:"正常"})]}):l.jsxs(l.Fragment,{children:[l.jsx(pd,{className:"w-5 h-5 text-red-500 dark:text-red-400 mr-2"}),l.jsx("span",{className:"badge badge-danger",children:"停用"})]})})}),l.jsx("td",{children:l.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[l.jsx(Yn,{className:"w-4 h-4 mr-2"}),new Date(z.joinDate).toLocaleDateString()]})}),l.jsx("td",{children:l.jsxs("div",{className:"flex items-center space-x-3",children:[z.role==="student"&&l.jsx("button",{onClick:()=>p(z.id),className:"p-2 text-purple-night-600 dark:text-purple-400 hover:text-purple-night-700 dark:hover:text-purple-300 hover:bg-purple-50 dark:hover:bg-purple-900/20 rounded-xl transition-colors duration-200",title:"管理学员进度和课程",children:l.jsx(Kd,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>J(z),className:"p-2 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-xl transition-colors duration-200",title:"编辑用户信息",children:l.jsx(Sl,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>B(z.id),className:"p-2 text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",disabled:z.role==="admin",title:"删除用户",children:l.jsx(kd,{className:"w-5 h-5"})})]})})]},z.id))})]})})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"card dark:bg-slate-800 dark:border-slate-700 text-center",children:[l.jsx(Gn,{className:"w-8 h-8 text-blue-600 dark:text-blue-400 mx-auto mb-2"}),l.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:b.length}),l.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"总用户数"})]}),l.jsxs("div",{className:"card dark:bg-slate-800 dark:border-slate-700 text-center",children:[l.jsx($n,{className:"w-8 h-8 text-green-600 dark:text-green-400 mx-auto mb-2"}),l.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:b.filter(z=>z.isActive).length}),l.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"活跃用户"})]}),l.jsxs("div",{className:"card dark:bg-slate-800 dark:border-slate-700 text-center",children:[l.jsx(fr,{className:"w-8 h-8 text-green-600 dark:text-green-400 mx-auto mb-2"}),l.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:b.filter(z=>z.role==="student").length}),l.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"学员"})]})]}),(f||g)&&l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 dark:bg-black dark:bg-opacity-60 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 w-full max-w-md",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:g?"编辑用户":"添加用户"}),l.jsx("button",{onClick:k,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300",children:l.jsx(Ot,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"昵称 *"}),l.jsx("input",{type:"text",value:j.nickname,onChange:z=>T({...j,nickname:z.target.value}),className:"input-field",placeholder:"请输入昵称（将作为用户名）"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"QQ号 *"}),l.jsx("input",{type:"text",value:j.qq,onChange:z=>T({...j,qq:z.target.value}),className:"input-field",placeholder:"请输入QQ号",pattern:"[0-9]*"})]}),!g&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"密码 *"}),l.jsx("input",{type:"password",value:j.password,onChange:z=>T({...j,password:z.target.value}),className:"input-field",placeholder:"请输入密码"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"角色"}),l.jsxs("select",{value:j.role,onChange:z=>T({...j,role:z.target.value}),className:"input-field",disabled:!!g,children:[l.jsx("option",{value:"student",children:"学员"}),l.jsx("option",{value:"instructor",children:"教官"}),l.jsx("option",{value:"admin",children:"管理员"}),l.jsx("option",{value:"guild_admin",children:"公会管理员"}),l.jsx("option",{value:"super_admin",children:"超级管理员"})]}),g&&l.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"角色修改需要后端管理员权限，当前无法在前端修改"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"isActive",checked:j.isActive,onChange:z=>T({...j,isActive:z.target.checked}),className:"h-4 w-4 text-purple-night-600 focus:ring-purple-night-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900 dark:text-gray-100",children:"账户激活"})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{onClick:k,className:"btn-secondary",disabled:C,children:"取消"}),l.jsxs("button",{onClick:L,className:"btn-primary flex items-center",disabled:C,children:[C?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):l.jsx(Hn,{className:"w-4 h-4 mr-2"}),C?"保存中...":"保存"]})]})]})})]}),x&&l.jsx(sm,{userId:x,onClose:()=>p(null),onUpdate:M}),N&&w&&l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 dark:bg-black dark:bg-opacity-60 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"导入结果"}),l.jsx("button",{onClick:()=>E(!1),className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300",children:l.jsx(Ot,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx($n,{className:"w-5 h-5 text-green-500 mr-2"}),l.jsx("span",{className:"text-sm font-medium text-green-800 dark:text-green-300",children:"成功导入"})]}),l.jsx("p",{className:"text-2xl font-bold text-green-900 dark:text-green-100 mt-1",children:w.success})]}),l.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(pd,{className:"w-5 h-5 text-red-500 mr-2"}),l.jsx("span",{className:"text-sm font-medium text-red-800 dark:text-red-300",children:"导入失败"})]}),l.jsx("p",{className:"text-2xl font-bold text-red-900 dark:text-red-100 mt-1",children:w.failed})]})]}),w.errors.length>0&&l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"错误详情："}),l.jsx("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-3 max-h-40 overflow-y-auto",children:w.errors.map((z,X)=>l.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 mb-1",children:["• ",z]},X))})]}),l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[l.jsx("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-300 mb-2",children:"导入说明："}),l.jsxs("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[l.jsx("li",{children:"• 从Member表导入符合条件的成员（guild=purplenight，stage≠紫夜，status=正常）"}),l.jsx("li",{children:"• 导入到Student表，不创建登录账户"}),l.jsx("li",{children:"• 用户名和昵称使用Member表的nickname字段"}),l.jsx("li",{children:"• QQ号和密码保存在Student表中"}),l.jsx("li",{children:'• 初始等级为"未新训"'}),l.jsx("li",{children:"• 保留原始的stage和status信息"})]})]})]}),l.jsx("div",{className:"flex justify-end mt-6",children:l.jsx("button",{onClick:()=>E(!1),className:"btn-primary",children:"确定"})})]})})]})}function im(){const[b,R]=_.useState([]),[D,i]=_.useState([]),[a,e]=_.useState(!0),[n,s]=_.useState(""),[u,c]=_.useState(""),[d,v]=_.useState("all"),f=["入门课程","标准技能一阶课程","标准技能二阶课程","团队训练","进阶课程"];_.useEffect(()=>{h()},[]),_.useEffect(()=>{g()},[b,u,d]);const h=async()=>{try{e(!0);const j=await we.getCourses();R(j.sort((T,C)=>T.order-C.order))}catch(j){s("加载课程列表失败"),console.error("Failed to load courses:",j)}finally{e(!1)}},g=()=>{let j=b;d!=="all"&&(j=j.filter(T=>T.category===d)),u&&(j=j.filter(T=>T.name.toLowerCase().includes(u.toLowerCase())||T.description.toLowerCase().includes(u.toLowerCase())||T.id.toLowerCase().includes(u.toLowerCase()))),i(j)},y=j=>{switch(j){case"beginner":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300";case"intermediate":return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300";case"advanced":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300";default:return"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-300"}},x=j=>{switch(j){case"beginner":return"初级";case"intermediate":return"中级";case"advanced":return"高级";default:return"未知"}},p=j=>{switch(j){case"入门课程":return"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300";case"标准技能一阶课程":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300";case"标准技能二阶课程":return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300";case"团队训练":return"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300";case"进阶课程":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300";default:return"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-300"}};return a?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 dark:border-red-500"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"课程管理"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"查看紫夜公会培训课程"})]}),n&&l.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-800 text-red-700 dark:text-red-300 px-4 py-3 rounded",children:n}),l.jsx("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"relative",children:[l.jsx(Bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"搜索课程...",value:u,onChange:j=>c(j.target.value),className:"input-field pl-10"})]})}),l.jsx("div",{className:"sm:w-64",children:l.jsxs("div",{className:"relative",children:[l.jsx(ci,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),l.jsxs("select",{value:d,onChange:j=>v(j.target.value),className:"input-field pl-10 appearance-none",children:[l.jsx("option",{value:"all",children:"全部类别"}),f.map(j=>l.jsx("option",{value:j,children:j},j))]})]})})]})}),l.jsx("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700/50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"课程信息"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"类别"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"难度"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"课时"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"顺序"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-gray-700",children:D.map((j,T)=>l.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:l.jsx(Rt,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{className:"ml-4",children:[l.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[l.jsx("span",{className:"text-purple-night-600 dark:text-purple-400 font-bold mr-2",children:we.getCourseNumber(j.order)}),j.name]}),l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:j.id}),l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:j.description})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${p(j.category)}`,children:j.category})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${y(j.difficulty)}`,children:x(j.difficulty)})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Xn,{className:"w-4 h-4 mr-1"}),j.totalLessons]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:j.order})]},j.id))})]})})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:f.map(j=>l.jsxs("div",{className:"card dark:bg-slate-800 dark:border-slate-700 text-center",children:[l.jsx(Xv,{className:"w-6 h-6 text-purple-600 dark:text-purple-400 mx-auto mb-2"}),l.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:b.filter(T=>T.category===j).length}),l.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:j})]},j))})]})}function om(){const[b,R]=_.useState([]),[D,i]=_.useState([]),[a,e]=_.useState(!0),[n,s]=_.useState(""),[u,c]=_.useState(""),[d,v]=_.useState([]),[f,h]=_.useState([]),[g,y]=_.useState(!1),[x,p]=_.useState(!1),[j,T]=_.useState(0),[C,I]=_.useState(new Map),[U,A]=_.useState(""),[w,P]=_.useState("asc"),[N,E]=_.useState(!1),[M,W]=_.useState(null),[Q,G]=_.useState(!1),[H,J]=_.useState(!1),[K,k]=_.useState(null),[L,B]=_.useState(!1);_.useEffect(()=>{$()},[]);const $=async()=>{try{e(!0);const[oe,ge]=await Promise.all([we.getAllUsers(),we.getCourses()]),Ee=oe.filter(Qe=>Qe.role==="student");R(Ee),i(ge);const Ue=Ee.map(Qe=>Qe.id),Ye=await we.getBatchUserAssignedCourses(Ue);I(Ye)}catch(oe){s("加载数据失败"),console.error("Failed to load data:",oe)}finally{e(!1)}},z=oe=>{U===oe?P(w==="asc"?"desc":"asc"):(A(oe),P("asc"))},X=oe=>U!==oe?null:w==="asc"?l.jsx(Ud,{className:"w-4 h-4 ml-1"}):l.jsx(wd,{className:"w-4 h-4 ml-1"}),ne=b.filter(oe=>oe.username.toLowerCase().includes(u.toLowerCase())||oe.nickname.toLowerCase().includes(u.toLowerCase())||oe.email.toLowerCase().includes(u.toLowerCase())).sort((oe,ge)=>{if(!U)return 0;let Ee,Ue;switch(U){case"nickname":Ee=oe.nickname||oe.username||"",Ue=ge.nickname||ge.username||"";break;case"level":Ee=oe.level||"",Ue=ge.level||"";break;case"assignedCourses":Ee=C.get(oe.id)?.length||0,Ue=C.get(ge.id)?.length||0;break;case"joinDate":Ee=new Date(oe.joinDate).getTime(),Ue=new Date(ge.joinDate).getTime();break;case"isActive":Ee=oe.isActive?1:0,Ue=ge.isActive?1:0;break;default:return 0}return typeof Ee=="string"&&(Ee=Ee.toLowerCase(),Ue=Ue.toLowerCase()),Ee<Ue?w==="asc"?-1:1:Ee>Ue?w==="asc"?1:-1:0}),ae=oe=>{v(ge=>ge.includes(oe)?ge.filter(Ee=>Ee!==oe):[...ge,oe])},ie=oe=>{h(ge=>ge.includes(oe)?ge.filter(Ee=>Ee!==oe):[...ge,oe])},ve=()=>{d.length===ne.length?v([]):v(ne.map(oe=>oe.id))},Pe=()=>{const ge=D.filter(Ee=>d.filter(Ye=>C.get(Ye)?.includes(Ee.id)).length<d.length||d.length===0).map(Ee=>Ee.id);f.length===ge.length?h([]):h(ge)},fe=async()=>{if(d.length===0||f.length===0){s("请选择学员和课程");return}try{p(!0),T(0),await we.batchAssignCourses(d,f,ge=>T(ge));const oe=await we.getBatchUserAssignedCourses(b.map(ge=>ge.id));I(oe),y(!1),v([]),h([]),s(""),alert(`成功为 ${d.length} 名学员分配了 ${f.length} 门课程`)}catch(oe){s("分配课程失败: "+oe.message)}finally{p(!1),T(0)}},se=async()=>{try{E(!0),s("");const oe=await we.syncMemberProgress();W(oe),G(!0),await $()}catch(oe){s("同步管理系统进度失败: "+(oe.message||"未知错误"))}finally{E(!1)}},he=async()=>{if(d.length===0){s("请选择需要通过新训考核的学员");return}try{J(!0),s("");const oe=await we.passNewTrainingExam(d);k(oe),B(!0),await $(),v([])}catch(oe){s("处理新训考核失败: "+(oe.message||"未知错误"))}finally{J(!1)}};return a?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-night-600 dark:border-purple-400"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"课程分配"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"为学员分配课程和管理学习计划"})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("button",{onClick:$,className:"btn-secondary flex items-center",disabled:a,children:[l.jsx(pl,{className:`w-4 h-4 mr-2 ${a?"animate-spin":""}`}),"刷新数据"]}),l.jsxs("button",{onClick:se,className:"btn-secondary flex items-center",disabled:N,children:[N?l.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-current border-t-transparent rounded-full animate-spin"}):l.jsx(pl,{className:"w-4 h-4 mr-2"}),N?"同步中...":"同步管理系统进度"]}),l.jsxs("button",{onClick:he,className:"btn-success flex items-center",disabled:d.length===0||H,children:[H?l.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}):l.jsx(Kr,{className:"w-4 h-4 mr-2"}),H?"处理中...":`通过新训考核 (${d.length})`]}),l.jsxs("button",{onClick:()=>y(!0),className:"btn-primary flex items-center",disabled:d.length===0,children:[l.jsx(Dl,{className:"w-4 h-4 mr-2"}),"批量分配课程"]})]})]}),n&&l.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-800 text-red-700 dark:text-red-300 px-4 py-3 rounded flex items-center",children:[l.jsx(Ad,{className:"w-5 h-5 mr-2"}),n]}),l.jsx("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"relative",children:[l.jsx(Bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"搜索学员...",value:u,onChange:oe=>c(oe.target.value),className:"input-field pl-10"})]})}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["已选择 ",d.length," 名学员"]}),l.jsx("button",{onClick:ve,className:"text-sm text-purple-night-600 dark:text-purple-400 hover:text-purple-night-700 dark:hover:text-purple-300",children:d.length===ne.length?"取消全选":"全选"})]})]})}),l.jsx("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700/50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:l.jsx("button",{onClick:ve,className:"flex items-center",children:d.length===ne.length&&ne.length>0?l.jsx(Kr,{className:"w-4 h-4 text-purple-night-600 dark:text-purple-400"}):l.jsx(ws,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"})})}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:l.jsxs("button",{onClick:()=>z("nickname"),className:"flex items-center hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:["学员信息",X("nickname")]})}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:l.jsxs("button",{onClick:()=>z("level"),className:"flex items-center hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:["等级",X("level")]})}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:l.jsxs("button",{onClick:()=>z("assignedCourses"),className:"flex items-center hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:["已分配课程",X("assignedCourses")]})}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:l.jsxs("button",{onClick:()=>z("joinDate"),className:"flex items-center hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:["加入时间",X("joinDate")]})}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:l.jsxs("button",{onClick:()=>z("isActive"),className:"flex items-center hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:["状态",X("isActive")]})})]})}),l.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-gray-700",children:ne.map(oe=>l.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-slate-700/50 cursor-pointer ${d.includes(oe.id)?"bg-purple-night-50 dark:bg-purple-900/20":""}`,onClick:()=>ae(oe.id),children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.includes(oe.id)?l.jsx(Kr,{className:"w-4 h-4 text-purple-night-600 dark:text-purple-400"}):l.jsx(ws,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center",children:l.jsx(Gn,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:oe.nickname}),l.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["@",oe.username]}),l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:oe.email})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",children:oe.level||"未新训"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Rt,{className:"w-4 h-4 text-gray-400 dark:text-gray-500 mr-1"}),l.jsxs("span",{className:"text-sm text-gray-900 dark:text-gray-200",children:[C.get(oe.id)?.length||0," 门课程"]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Date(oe.joinDate).toLocaleDateString()}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${oe.isActive?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300"}`,children:oe.isActive?"活跃":"非活跃"})})]},oe.id))})]})})}),g&&l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 dark:bg-black dark:bg-opacity-60 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 w-full max-w-4xl max-h-[80vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:["批量分配课程 (",d.length," 名学员)"]}),l.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300",children:l.jsx(Ot,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h4",{className:"text-md font-medium text-gray-700 dark:text-gray-300",children:"选择课程"}),l.jsx("button",{onClick:Pe,className:"text-sm text-purple-night-600 dark:text-purple-400 hover:text-purple-night-700 dark:hover:text-purple-300",children:f.length===D.length?"取消全选":"全选课程"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-60 overflow-y-auto border rounded-lg p-3 dark:border-slate-600",children:D.map(oe=>{const ge=d.filter(Ye=>C.get(Ye)?.includes(oe.id)).length,Ee=ge===d.length&&d.length>0,Ue=ge>0&&ge<d.length;return l.jsx("div",{className:`p-3 border rounded-lg transition-colors ${Ee?"border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-700 cursor-not-allowed opacity-60":f.includes(oe.id)?"border-purple-night-500 dark:border-purple-500 bg-purple-night-50 dark:bg-purple-900/20 cursor-pointer":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 cursor-pointer"}`,onClick:()=>!Ee&&ie(oe.id),children:l.jsxs("div",{className:"flex items-center",children:[Ee?l.jsx(Kr,{className:"w-4 h-4 text-gray-400 dark:text-gray-500 mr-2"}):f.includes(oe.id)?l.jsx(Kr,{className:"w-4 h-4 text-purple-night-600 dark:text-purple-400 mr-2"}):l.jsx(ws,{className:"w-4 h-4 text-gray-400 dark:text-gray-500 mr-2"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[l.jsx("span",{className:"text-purple-night-600 dark:text-purple-400 font-bold mr-2",children:we.getCourseNumber(oe.order)}),oe.name,Ee&&l.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-gray-200 dark:bg-gray-600 text-gray-600 dark:text-gray-300 rounded",children:"已全部分配"}),Ue&&l.jsxs("span",{className:"ml-2 px-2 py-1 text-xs bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300 rounded",children:["部分已分配 (",ge,"/",d.length,")"]})]}),l.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[oe.category," • ",oe.totalLessons," 课时"]})]})]})},oe.id)})}),l.jsxs("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:["已选择 ",f.length," 门课程",d.length>0&&l.jsxs("span",{className:"ml-2",children:["• 可分配课程: ",D.filter(oe=>d.filter(Ee=>C.get(Ee)?.includes(oe.id)).length<d.length).length," 门"]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{onClick:()=>y(!1),className:"btn-secondary",disabled:x,children:"取消"}),l.jsx("button",{onClick:fe,className:"btn-primary flex items-center disabled:opacity-50 disabled:cursor-not-allowed",disabled:x||f.length===0,children:x?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"分配中... (",j,"%)"]}):l.jsxs(l.Fragment,{children:[l.jsx(Hn,{className:"w-4 h-4 mr-2"}),"确认分配"]})})]})]})}),Q&&M&&l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 dark:bg-black dark:bg-opacity-60 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"同步管理系统进度结果"}),l.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300",children:l.jsx(Ot,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-green-50 dark:bg-green-900/30 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:M.success}),l.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:"成功同步"})]}),l.jsxs("div",{className:"bg-red-50 dark:bg-red-900/30 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:M.failed}),l.jsx("div",{className:"text-sm text-red-600 dark:text-red-400",children:"同步失败"})]})]}),M.errors.length>0&&l.jsxs("div",{children:[l.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-2",children:"错误详情:"}),l.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg p-3 max-h-40 overflow-y-auto",children:M.errors.map((oe,ge)=>l.jsxs("div",{className:"text-sm text-red-700 dark:text-red-300 mb-1",children:["• ",oe]},ge))})]}),l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:[l.jsx("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-300 mb-2",children:"同步规则说明:"}),l.jsxs("div",{className:"text-xs text-blue-700 dark:text-blue-400 space-y-1",children:[l.jsx("div",{children:"• 新训初期: 完成课程 1.1-1.5"}),l.jsx("div",{children:"• 新训1期: 完成所有入门课程"}),l.jsx("div",{children:"• 新训2期: 完成所有入门课程 + 标准技能一阶课程"}),l.jsx("div",{children:"• 新训3期: 完成所有入门课程 + 标准技能一阶课程 + 标准技能二阶课程"}),l.jsx("div",{children:"• 新训准考: 完成所有入门课程 + 标准技能一阶课程 + 标准技能二阶课程 + 团队训练"})]})]})]}),l.jsx("div",{className:"flex justify-end mt-6",children:l.jsx("button",{onClick:()=>G(!1),className:"btn-primary",children:"确定"})})]})}),L&&K&&l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 dark:bg-black dark:bg-opacity-60 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"新训考核处理结果"}),l.jsx("button",{onClick:()=>B(!1),className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300",children:l.jsx(Ot,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-green-50 dark:bg-green-900/30 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:K.success}),l.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:"成功通过考核"})]}),l.jsxs("div",{className:"bg-red-50 dark:bg-red-900/30 p-4 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:K.failed}),l.jsx("div",{className:"text-sm text-red-600 dark:text-red-400",children:"处理失败"})]})]}),K.errors.length>0&&l.jsxs("div",{children:[l.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-2",children:"错误详情:"}),l.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg p-3 max-h-40 overflow-y-auto",children:K.errors.map((oe,ge)=>l.jsxs("div",{className:"text-sm text-red-700 dark:text-red-300 mb-1",children:["• ",oe]},ge))})]}),l.jsxs("div",{className:"bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800 rounded-lg p-3",children:[l.jsx("h4",{className:"text-sm font-medium text-green-800 dark:text-green-300 mb-2",children:"🎓 新训考核说明:"}),l.jsxs("div",{className:"text-xs text-green-700 dark:text-green-400 space-y-1",children:[l.jsx("div",{children:'• 通过新训考核的学员等级将更新为"正式队员"'}),l.jsx("div",{children:"• 系统会记录考核通过时间"}),l.jsx("div",{children:"• 此功能为临时功能，后续将替换为正式的考核报告系统"})]})]})]}),l.jsx("div",{className:"flex justify-end mt-6",children:l.jsx("button",{onClick:()=>B(!1),className:"btn-primary",children:"确定"})})]})})]})}function lm(){const[b,R]=_.useState([]),[D,i]=_.useState([]),[a,e]=_.useState(!0),[n,s]=_.useState(""),[u,c]=_.useState(""),[d,v]=_.useState("all"),[f,h]=_.useState("all"),[g,y]=_.useState(null),[x,p]=_.useState("userName"),[j,T]=_.useState("asc"),[C,I]=_.useState([]),[U,A]=_.useState(!1),[w,P]=_.useState(0),[N,E]=_.useState("in_progress"),[M,W]=_.useState(!1),[Q,G]=_.useState(0),H=["入门课程","标准技能一阶课程","标准技能二阶课程","团队训练","进阶课程"];_.useEffect(()=>{J()},[]),_.useEffect(()=>{K()},[b,u,d,f,x,j]);const J=async()=>{try{e(!0);const se=await we.getAllCourseProgress();R(se)}catch(se){s("加载进度数据失败"),console.error("Failed to load progress data:",se)}finally{e(!1)}},K=_.useCallback(()=>{console.log("执行filterProgress，排序字段:",x,"排序方向:",j);let se=b;d!=="all"&&(se=se.filter(he=>he.status===d)),f!=="all"&&(se=se.filter(he=>he.courseCategory===f)),u&&(se=se.filter(he=>he.userName.toLowerCase().includes(u.toLowerCase())||he.courseName.toLowerCase().includes(u.toLowerCase())||he.courseId.toLowerCase().includes(u.toLowerCase()))),console.log("排序前数据量:",se.length),se.sort((he,oe)=>{let ge=he[x],Ee=oe[x];return x==="lastStudyDate"?(ge=he.lastStudyDate?new Date(he.lastStudyDate).getTime():j==="asc"?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,Ee=oe.lastStudyDate?new Date(oe.lastStudyDate).getTime():j==="asc"?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER):x==="progress"||x==="courseOrder"?(ge=Number(ge)||0,Ee=Number(Ee)||0):typeof ge=="string"&&typeof Ee=="string"&&(ge=ge.toLowerCase(),Ee=Ee.toLowerCase()),ge==null&&Ee==null?0:ge==null?j==="asc"?1:-1:Ee==null||ge<Ee?j==="asc"?-1:1:ge>Ee?j==="asc"?1:-1:0}),console.log("排序后前3项:",se.slice(0,3).map(he=>({userName:he.userName,courseName:he.courseName,[x]:he[x]}))),i(se)},[b,u,d,f,x,j]),k=se=>{if(console.log("排序字段:",se,"当前字段:",x,"当前方向:",j),x===se){const he=j==="asc"?"desc":"asc";console.log("切换排序方向:",he),T(he)}else console.log("设置新排序字段:",se),p(se),T("asc")},L=se=>x!==se?null:j==="asc"?l.jsx(Ud,{className:"w-4 h-4 ml-1"}):l.jsx(wd,{className:"w-4 h-4 ml-1"}),B=()=>{C.length===D.length?I([]):I(D.map(se=>se.id))},$=se=>{C.includes(se)?I(C.filter(he=>he!==se)):I([...C,se])},z=async()=>{try{W(!0),G(0),s("");const se={progress:w,status:N,lastStudyDate:new Date},he=3,oe=500,ge=C.length;let Ee=0;for(let Ue=0;Ue<C.length;Ue+=he){const Ye=C.slice(Ue,Ue+he);try{await Promise.all(Ye.map(Qe=>we.updateCourseProgress(Qe,se))),R(Qe=>Qe.map(et=>Ye.includes(et.id)?{...et,...se}:et)),Ee+=Ye.length,G(Math.round(Ee/ge*100)),Ue+he<C.length&&await new Promise(Qe=>setTimeout(Qe,oe))}catch(Qe){throw console.error(`批次 ${Math.floor(Ue/he)+1} 更新失败:`,Qe),new Error(`批次更新失败: ${Qe.message}`)}}I([]),A(!1),P(0),E("in_progress"),alert(`成功更新了 ${C.length} 个进度记录`)}catch(se){console.error("批量更新失败:",se),s(`批量更新失败: ${se.message||"未知错误"}`)}finally{W(!1),G(0)}},X=se=>{switch(se){case"completed":return l.jsx($n,{className:"w-4 h-4 text-green-500"});case"in_progress":return l.jsx(ml,{className:"w-4 h-4 text-blue-500"});case"paused":return l.jsx(Hv,{className:"w-4 h-4 text-yellow-500"});default:return l.jsx(Xn,{className:"w-4 h-4 text-gray-400"})}},q=se=>{switch(se){case"completed":return"已完成";case"in_progress":return"进行中";case"paused":return"已暂停";case"not_started":return"未开始";default:return"未知"}},ne=se=>{switch(se){case"completed":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300";case"in_progress":return"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300";case"paused":return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300";case"not_started":return"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-300";default:return"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-300"}},ae=se=>{switch(se){case"入门课程":return"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300";case"标准技能一阶课程":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300";case"标准技能二阶课程":return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300";case"团队训练":return"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300";case"进阶课程":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300";default:return"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-300"}},ie=async(se,he)=>{try{await we.updateCourseProgress(se,he),R(b.map(oe=>oe.id===se?{...oe,...he}:oe)),y(null)}catch{s("更新进度失败")}},ve=async(se,he,oe)=>{if(window.confirm(`确定要删除 ${oe} 的课程"${he}"进度吗？此操作不可恢复。`))try{await we.deleteCourseProgress(se),R(b.filter(ge=>ge.id!==se))}catch{s("删除进度失败")}},Pe=se=>{const he=b.filter(ge=>ge.userId===se);return we.getMemberLevelProgress(he).current.level},fe={totalProgress:b.length,completedCourses:b.filter(se=>se.status==="completed").length,inProgressCourses:b.filter(se=>se.status==="in_progress").length,averageProgress:b.length>0?Math.round(b.reduce((se,he)=>se+he.progress,0)/b.length):0};return a?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 dark:border-red-500"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"学习进度管理"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"管理所有成员的学习进度"})]}),n&&l.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-800 text-red-700 dark:text-red-300 px-4 py-3 rounded",children:n}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsx("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:l.jsx(hr,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"总进度记录"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:fe.totalProgress})]})]})}),l.jsx("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:l.jsx($n,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"已完成"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:fe.completedCourses})]})]})}),l.jsx("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:l.jsx(ml,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"进行中"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:fe.inProgressCourses})]})]})}),l.jsx("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:l.jsx(Fd,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"平均进度"}),l.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[fe.averageProgress,"%"]})]})]})})]}),l.jsx("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"relative",children:[l.jsx(Bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"搜索用户或课程...",value:u,onChange:se=>c(se.target.value),className:"input-field pl-10"})]})}),l.jsx("div",{className:"sm:w-48",children:l.jsxs("div",{className:"relative",children:[l.jsx(ci,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),l.jsxs("select",{value:d,onChange:se=>v(se.target.value),className:"input-field pl-10 appearance-none",children:[l.jsx("option",{value:"all",children:"全部状态"}),l.jsx("option",{value:"not_started",children:"未开始"}),l.jsx("option",{value:"in_progress",children:"进行中"}),l.jsx("option",{value:"paused",children:"已暂停"}),l.jsx("option",{value:"completed",children:"已完成"})]})]})}),l.jsx("div",{className:"sm:w-48",children:l.jsxs("select",{value:f,onChange:se=>h(se.target.value),className:"input-field",children:[l.jsx("option",{value:"all",children:"全部类别"}),H.map(se=>l.jsx("option",{value:se,children:se},se))]})})]}),C.length>0&&l.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Kr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mr-2"}),l.jsxs("span",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:["已选择 ",C.length," 项"]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("button",{onClick:()=>A(!0),className:"btn-primary text-sm flex items-center",children:[l.jsx(Kd,{className:"w-4 h-4 mr-1"}),"批量更改进度"]}),l.jsx("button",{onClick:()=>I([]),className:"btn-secondary text-sm",children:"取消选择"})]})]})]})}),l.jsx("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700/50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("button",{onClick:B,className:"mr-3 p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-600",children:C.length===D.length&&D.length>0?l.jsx(Kr,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}):l.jsx(ws,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"})}),l.jsxs("button",{onClick:()=>k("userName"),className:"flex items-center hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:["学员信息",L("userName")]})]})}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:l.jsxs("div",{className:"flex flex-col space-y-1",children:[l.jsxs("button",{onClick:()=>k("courseName"),className:"flex items-center hover:text-gray-700 dark:hover:text-gray-300 transition-colors text-left",children:["课程信息",L("courseName")]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("button",{onClick:()=>k("courseOrder"),className:"text-xs text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 flex items-center",title:"按课程编号排序",children:["编号",L("courseOrder")]}),l.jsxs("button",{onClick:()=>k("courseCategory"),className:"text-xs text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 flex items-center",title:"按课程类别排序",children:["类别",L("courseCategory")]})]})]})}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:l.jsxs("button",{onClick:()=>k("progress"),className:"flex items-center hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:["完成度",L("progress")]})}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:l.jsxs("button",{onClick:()=>k("status"),className:"flex items-center hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:["状态",L("status")]})}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:l.jsxs("button",{onClick:()=>k("lastStudyDate"),className:"flex items-center hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:["最后学习",L("lastStudyDate")]})}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"操作"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-gray-700",children:D.map(se=>l.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("button",{onClick:()=>$(se.id),className:"mr-3 p-1 rounded hover:bg-gray-200 dark:hover:bg-slate-600",children:C.includes(se.id)?l.jsx(Kr,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}):l.jsx(ws,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"})}),l.jsx("div",{className:"w-8 h-8 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center",children:l.jsx(fr,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:se.userName}),l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:Pe(se.userId)})]})]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Rt,{className:"w-4 h-4 text-blue-500 dark:text-blue-400 mr-2"}),l.jsxs("div",{children:[l.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[l.jsx("span",{className:"text-purple-night-600 dark:text-purple-400 font-bold mr-2",children:we.getCourseNumber(se.courseOrder||1)}),se.courseName]}),l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:se.courseId}),l.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full mt-1 ${ae(se.courseCategory)}`,children:se.courseCategory})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"flex items-center",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white mb-1",children:[se.progress,"%"]}),l.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${se.progress===100?"bg-green-500 dark:bg-green-500":se.progress>=50?"bg-blue-500 dark:bg-blue-500":"bg-yellow-500 dark:bg-yellow-500"}`,style:{width:`${se.progress}%`}})})]})})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[X(se.status),l.jsx("span",{className:`ml-2 px-2 py-1 text-xs font-medium rounded-full ${ne(se.status)}`,children:q(se.status)})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:se.lastStudyDate&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(Yn,{className:"w-4 h-4 mr-1"}),new Date(se.lastStudyDate).toLocaleDateString()]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>y(se),className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300",title:"编辑进度",children:l.jsx(Sl,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>ve(se.id,se.courseName,se.userName),className:"text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300",title:"删除进度",children:l.jsx(kd,{className:"w-4 h-4"})})]})})]},se.id))})]})})}),g&&l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 dark:bg-black dark:bg-opacity-60 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 w-full max-w-md",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"编辑学习进度"}),l.jsx("button",{onClick:()=>y(null),className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300",children:l.jsx(Ot,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["学员：",g.userName]}),l.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["课程：",g.courseName]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["完成度: ",g.progress,"%"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:g.progress,onChange:se=>{const he=parseInt(se.target.value);y({...g,progress:he,status:he===0?"not_started":he===100?"completed":"in_progress"})},className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, #3b82f6 0%, #3b82f6 ${g.progress}%, #e5e7eb ${g.progress}%, #e5e7eb 100%)`}}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{type:"button",onClick:()=>y({...g,progress:0,status:"not_started"}),className:"px-3 py-1 text-xs bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 dark:text-gray-300 rounded-md transition-colors",children:"0%"}),l.jsx("button",{type:"button",onClick:()=>y({...g,progress:25,status:"in_progress"}),className:"px-3 py-1 text-xs bg-yellow-100 dark:bg-yellow-900/30 hover:bg-yellow-200 dark:hover:bg-yellow-900/50 text-yellow-800 dark:text-yellow-300 rounded-md transition-colors",children:"25%"}),l.jsx("button",{type:"button",onClick:()=>y({...g,progress:50,status:"in_progress"}),className:"px-3 py-1 text-xs bg-blue-100 dark:bg-blue-900/30 hover:bg-blue-200 dark:hover:bg-blue-900/50 text-blue-800 dark:text-blue-300 rounded-md transition-colors",children:"50%"}),l.jsx("button",{type:"button",onClick:()=>y({...g,progress:75,status:"in_progress"}),className:"px-3 py-1 text-xs bg-purple-100 dark:bg-purple-900/30 hover:bg-purple-200 dark:hover:bg-purple-900/50 text-purple-800 dark:text-purple-300 rounded-md transition-colors",children:"75%"}),l.jsx("button",{type:"button",onClick:()=>y({...g,progress:100,status:"completed"}),className:"px-3 py-1 text-xs bg-green-100 dark:bg-green-900/30 hover:bg-green-200 dark:hover:bg-green-900/50 text-green-800 dark:text-green-300 rounded-md transition-colors",children:"100%"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"状态"}),l.jsxs("select",{value:g.status,onChange:se=>y({...g,status:se.target.value}),className:"input-field",children:[l.jsx("option",{value:"not_started",children:"未开始"}),l.jsx("option",{value:"in_progress",children:"进行中"}),l.jsx("option",{value:"paused",children:"已暂停"}),l.jsx("option",{value:"completed",children:"已完成"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"备注"}),l.jsx("textarea",{value:g.notes||"",onChange:se=>y({...g,notes:se.target.value}),className:"input-field",rows:3,placeholder:"添加备注..."})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{onClick:()=>y(null),className:"btn-secondary",children:"取消"}),l.jsxs("button",{onClick:()=>ie(g.id,{progress:g.progress,status:g.status,notes:g.notes,lastStudyDate:new Date}),className:"btn-primary flex items-center",children:[l.jsx(Hn,{className:"w-4 h-4 mr-2"}),"保存"]})]})]})}),U&&l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 dark:bg-black dark:bg-opacity-60 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 w-full max-w-md",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"批量更改进度"}),l.jsx("button",{onClick:()=>A(!1),className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300",children:l.jsx(Ot,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"mb-4",children:l.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["将为 ",l.jsx("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:C.length})," 个进度记录应用以下更改："]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["完成度: ",w,"%"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:w,onChange:se=>{const he=parseInt(se.target.value);P(he),E(he===0?"not_started":he===100?"completed":"in_progress")},className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, #3b82f6 0%, #3b82f6 ${w}%, #e5e7eb ${w}%, #e5e7eb 100%)`}}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{type:"button",onClick:()=>{P(0),E("not_started")},className:"px-3 py-1 text-xs bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 dark:text-gray-300 rounded-md transition-colors",children:"0%"}),l.jsx("button",{type:"button",onClick:()=>{P(25),E("in_progress")},className:"px-3 py-1 text-xs bg-yellow-100 dark:bg-yellow-900/30 hover:bg-yellow-200 dark:hover:bg-yellow-900/50 text-yellow-800 dark:text-yellow-300 rounded-md transition-colors",children:"25%"}),l.jsx("button",{type:"button",onClick:()=>{P(50),E("in_progress")},className:"px-3 py-1 text-xs bg-blue-100 dark:bg-blue-900/30 hover:bg-blue-200 dark:hover:bg-blue-900/50 text-blue-800 dark:text-blue-300 rounded-md transition-colors",children:"50%"}),l.jsx("button",{type:"button",onClick:()=>{P(75),E("in_progress")},className:"px-3 py-1 text-xs bg-purple-100 dark:bg-purple-900/30 hover:bg-purple-200 dark:hover:bg-purple-900/50 text-purple-800 dark:text-purple-300 rounded-md transition-colors",children:"75%"}),l.jsx("button",{type:"button",onClick:()=>{P(100),E("completed")},className:"px-3 py-1 text-xs bg-green-100 dark:bg-green-900/30 hover:bg-green-200 dark:hover:bg-green-900/50 text-green-800 dark:text-green-300 rounded-md transition-colors",children:"100%"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"状态"}),l.jsxs("select",{value:N,onChange:se=>E(se.target.value),className:"input-field",children:[l.jsx("option",{value:"not_started",children:"未开始"}),l.jsx("option",{value:"in_progress",children:"进行中"}),l.jsx("option",{value:"paused",children:"已暂停"}),l.jsx("option",{value:"completed",children:"已完成"})]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{onClick:()=>A(!1),className:"btn-secondary",children:"取消"}),l.jsx("button",{onClick:z,disabled:M,className:"btn-primary flex items-center disabled:opacity-50 disabled:cursor-not-allowed relative",children:M?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"更新中... (",Q,"%)"]}):l.jsxs(l.Fragment,{children:[l.jsx(Hn,{className:"w-4 h-4 mr-2"}),"批量更新 (",C.length," 项)"]})})]})]})})]})}function um(){const[b,R]=_.useState(null),[D,i]=_.useState([]),[a,e]=_.useState(!0),[n,s]=_.useState("");_.useEffect(()=>{u()},[]);const u=async()=>{try{e(!0);const[h,g]=await Promise.all([we.getStatistics(),we.getAllCourseProgress()]);R(h),i(g)}catch(h){s("加载统计数据失败"),console.error("Failed to load statistics:",h)}finally{e(!1)}},c=()=>["入门课程","标准技能一阶课程","标准技能二阶课程","团队训练","进阶课程"].map(g=>{const y=D.filter(j=>j.courseCategory===g),x=y.filter(j=>j.status==="completed").length,p=y.length;return{category:g,completed:x,total:p,rate:p>0?Math.round(x/p*100):0}}),d=()=>{const h=new Date,g=[];for(let y=5;y>=0;y--){const p=new Date(h.getFullYear(),h.getMonth()-y,1).toLocaleDateString("zh-CN",{month:"short"}),j=Math.floor(Math.random()*50)+10;g.push({month:p,activity:j})}return g},v=c(),f=d();return a?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 dark:border-red-500"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"数据统计"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"紫夜公会学习数据分析"})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsxs("button",{onClick:u,className:"btn-secondary flex items-center",children:[l.jsx(pl,{className:"w-4 h-4 mr-2"}),"刷新数据"]}),l.jsxs("button",{className:"btn-primary flex items-center",children:[l.jsx(Ld,{className:"w-4 h-4 mr-2"}),"导出报告"]})]})]}),n&&l.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-800 text-red-700 dark:text-red-300 px-4 py-3 rounded",children:n}),b&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:l.jsx(Gn,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"总用户数"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:b.totalUsers}),l.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400",children:["活跃: ",b.activeUsers]})]})]})}),l.jsx("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:l.jsx(Rt,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"总课程数"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:b.totalCourses}),l.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:"5个类别"})]})]})}),l.jsx("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:l.jsx(hr,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"完成率"}),l.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[b.courseCompletionRate,"%"]}),l.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400",children:"整体进度"})]})]})}),l.jsx("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:l.jsx(Rd,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"近期活动"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:b.recentActivity}),l.jsx("p",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:"本周操作"})]})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[b&&l.jsxs("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx(Gv,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mr-2"}),l.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"用户等级分布"})]}),l.jsx("div",{className:"space-y-3",children:Object.entries(b.usersByLevel).map(([h,g])=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Qn,{className:"w-4 h-4 text-purple-500 dark:text-purple-400 mr-2"}),l.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:h})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-24 bg-gray-200 dark:bg-gray-700 rounded-full h-2 mr-3",children:l.jsx("div",{className:"bg-purple-600 dark:bg-purple-500 h-2 rounded-full",style:{width:`${g/b.totalUsers*100}%`}})}),l.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white w-8 text-right",children:g})]})]},h))})]}),l.jsxs("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx(Cl,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mr-2"}),l.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"课程类别完成率"})]}),l.jsx("div",{className:"space-y-4",children:v.map(h=>l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:h.category}),l.jsxs("span",{className:"text-gray-900 dark:text-white font-medium",children:[h.completed,"/",h.total," (",h.rate,"%)"]})]}),l.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 dark:bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${h.rate}%`}})})]},h.category))})]})]}),l.jsxs("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx(Yn,{className:"w-5 h-5 text-green-600 dark:text-green-400 mr-2"}),l.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"月度学习活跃度"})]}),l.jsx("div",{className:"flex items-end space-x-4 h-64",children:f.map((h,g)=>l.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[l.jsx("div",{className:"w-full bg-green-500 dark:bg-green-600 rounded-t-md transition-all duration-500 hover:bg-green-600 dark:hover:bg-green-500",style:{height:`${h.activity/60*100}%`}}),l.jsx("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:h.month}),l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:h.activity})]},g))})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"学习进度统计"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"总进度记录"}),l.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:D.length})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"已完成课程"}),l.jsx("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:D.filter(h=>h.status==="completed").length})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"进行中课程"}),l.jsx("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:D.filter(h=>h.status==="in_progress").length})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"未开始课程"}),l.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:D.filter(h=>h.status==="not_started").length})]})]})]}),l.jsxs("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"用户活跃度"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"日活跃用户"}),l.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Math.floor(b?.activeUsers*.6)||0})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"周活跃用户"}),l.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Math.floor(b?.activeUsers*.8)||0})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"月活跃用户"}),l.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:b?.activeUsers||0})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"活跃率"}),l.jsxs("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:[b?Math.round(b.activeUsers/b.totalUsers*100):0,"%"]})]})]})]}),l.jsxs("div",{className:"card dark:bg-slate-800 dark:border-slate-700",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"系统概况"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"数据更新时间"}),l.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:new Date().toLocaleTimeString()})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"系统状态"}),l.jsx("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"正常运行"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"数据库"}),l.jsx("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"演示模式"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"版本"}),l.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"v1.0.0"})]})]})]})]})]})}function cl({children:b}){const{user:R,loading:D}=fn();return D?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-night-600 mx-auto"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"加载中..."})]})}):R?R.role==="admin"||R.role==="instructor"||R.role==="guild_admin"||R.role==="super_admin"?l.jsx(zn,{to:"/admin"}):R.role==="student"?l.jsx(l.Fragment,{children:b}):l.jsx(zn,{to:"/login"}):l.jsx(zn,{to:"/login"})}function kn({children:b}){const{user:R,loading:D}=fn();return D?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-night-600 mx-auto"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"加载中..."})]})}):R?R.role==="student"?l.jsx(zn,{to:"/"}):R.role==="admin"||R.role==="instructor"||R.role==="guild_admin"||R.role==="super_admin"?l.jsx(l.Fragment,{children:b}):l.jsx(zn,{to:"/login"}):l.jsx(zn,{to:"/login"})}function cm(){return l.jsx(Bv,{children:l.jsx(bv,{children:l.jsx(Mv,{children:l.jsxs(Ov,{children:[l.jsx(qt,{path:"/login",element:l.jsx(qv,{})}),l.jsx(qt,{path:"/",element:l.jsx(cl,{children:l.jsx(ul,{children:l.jsx(_v,{})})})}),l.jsx(qt,{path:"/progress",element:l.jsx(cl,{children:l.jsx(ul,{children:l.jsx(em,{})})})}),l.jsx(qt,{path:"/training-report",element:l.jsx(cl,{children:l.jsx(ul,{children:l.jsx(tm,{})})})}),l.jsx(qt,{path:"/admin",element:l.jsx(kn,{children:l.jsx(Fn,{children:l.jsx(nm,{})})})}),l.jsx(qt,{path:"/admin/users",element:l.jsx(kn,{children:l.jsx(Fn,{children:l.jsx(am,{})})})}),l.jsx(qt,{path:"/admin/courses",element:l.jsx(kn,{children:l.jsx(Fn,{children:l.jsx(im,{})})})}),l.jsx(qt,{path:"/admin/assignment",element:l.jsx(kn,{children:l.jsx(Fn,{children:l.jsx(om,{})})})}),l.jsx(qt,{path:"/admin/progress",element:l.jsx(kn,{children:l.jsx(Fn,{children:l.jsx(lm,{})})})}),l.jsx(qt,{path:"/admin/statistics",element:l.jsx(kn,{children:l.jsx(Fn,{children:l.jsx(um,{})})})})]})})})})}Rh.createRoot(document.getElementById("root")).render(l.jsx(yd.StrictMode,{children:l.jsx(cm,{})}));
